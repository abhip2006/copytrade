{"version":3,"sources":["turbopack:///[project]/node_modules/@clerk/nextjs/dist/esm/utils/feature-flags.js","turbopack:///[project]/node_modules/@clerk/nextjs/dist/esm/utils/sdk-versions.js","turbopack:///[project]/node_modules/@clerk/shared/src/utils/instance.ts","turbopack:///[project]/node_modules/@clerk/shared/src/utils/runtimeEnvironment.ts","turbopack:///[project]/node_modules/@clerk/shared/dist/chunk-ARQUL5DC.mjs","turbopack:///[project]/node_modules/@clerk/shared/dist/chunk-7FNX7RWY.mjs","turbopack:///[project]/node_modules/@clerk/shared/dist/chunk-O32JQBM6.mjs","turbopack:///[project]/node_modules/@clerk/shared/dist/chunk-7QJ2QTJL.mjs","turbopack:///[project]/node_modules/@clerk/shared/dist/utils/index.mjs","turbopack:///[project]/node_modules/@clerk/nextjs/dist/esm/server/keyless.js","turbopack:///[project]/node_modules/@clerk/nextjs/dist/esm/app-router/keyless-actions.js","turbopack:///[project]/node_modules/@clerk/backend/src/jwt/legacyReturn.ts","turbopack:///[project]/node_modules/@clerk/shared/dist/chunk-RUA3ZE6A.mjs","turbopack:///[project]/node_modules/@clerk/backend/dist/index.mjs","turbopack:///[project]/node_modules/@clerk/nextjs/dist/esm/server/createClerkClient.js","turbopack:///[project]/node_modules/@clerk/shared/dist/telemetry.mjs"],"sourcesContent":["import \"../chunk-BUSYA2B4.js\";\nimport { isDevelopmentEnvironment } from \"@clerk/shared/utils\";\nimport { KEYLESS_DISABLED } from \"../server/constants\";\nimport { isNextWithUnstableServerActions } from \"./sdk-versions\";\nconst canUseKeyless = !isNextWithUnstableServerActions && // Next.js will inline the value of 'development' or 'production' on the client bundle, so this is client-safe.\nisDevelopmentEnvironment() && !KEYLESS_DISABLED;\nexport {\n  canUseKeyless\n};\n//# sourceMappingURL=feature-flags.js.map","import \"../chunk-BUSYA2B4.js\";\nimport nextPkg from \"next/package.json\";\nconst isNext13 = nextPkg.version.startsWith(\"13.\");\nconst isNextWithUnstableServerActions = isNext13 || nextPkg.version.startsWith(\"14.0\");\nexport {\n  isNext13,\n  isNextWithUnstableServerActions\n};\n//# sourceMappingURL=sdk-versions.js.map","/**\n * Check if the frontendApi ends with a staging domain\n */\nexport function isStaging(frontendApi: string): boolean {\n  return (\n    frontendApi.endsWith('.lclstage.dev') ||\n    frontendApi.endsWith('.stgstage.dev') ||\n    frontendApi.endsWith('.clerkstage.dev') ||\n    frontendApi.endsWith('.accountsstage.dev')\n  );\n}\n","export const isDevelopmentEnvironment = (): boolean => {\n  try {\n    return process.env.NODE_ENV === 'development';\n    // eslint-disable-next-line no-empty\n  } catch {}\n\n  // TODO: add support for import.meta.env.DEV that is being used by vite\n\n  return false;\n};\n\nexport const isTestEnvironment = (): boolean => {\n  try {\n    return process.env.NODE_ENV === 'test';\n    // eslint-disable-next-line no-empty\n  } catch {}\n\n  // TODO: add support for import.meta.env.DEV that is being used by vite\n  return false;\n};\n\nexport const isProductionEnvironment = (): boolean => {\n  try {\n    return process.env.NODE_ENV === 'production';\n    // eslint-disable-next-line no-empty\n  } catch {}\n\n  // TODO: add support for import.meta.env.DEV that is being used by vite\n  return false;\n};\n","import {\n  isDevelopmentEnvironment\n} from \"./chunk-7HPDNZ3R.mjs\";\n\n// src/utils/allSettled.ts\nfunction allSettled(iterable) {\n  const promises = Array.from(iterable).map(\n    (p) => p.then(\n      (value) => ({ status: \"fulfilled\", value }),\n      (reason) => ({ status: \"rejected\", reason })\n    )\n  );\n  return Promise.all(promises);\n}\n\n// src/utils/logErrorInDevMode.ts\nvar logErrorInDevMode = (message) => {\n  if (isDevelopmentEnvironment()) {\n    console.error(`Clerk: ${message}`);\n  }\n};\n\n// src/utils/fastDeepMerge.ts\nvar fastDeepMergeAndReplace = (source, target) => {\n  if (!source || !target) {\n    return;\n  }\n  for (const key in source) {\n    if (Object.prototype.hasOwnProperty.call(source, key) && source[key] !== null && typeof source[key] === `object`) {\n      if (target[key] === void 0) {\n        target[key] = new (Object.getPrototypeOf(source[key])).constructor();\n      }\n      fastDeepMergeAndReplace(source[key], target[key]);\n    } else if (Object.prototype.hasOwnProperty.call(source, key)) {\n      target[key] = source[key];\n    }\n  }\n};\nvar fastDeepMergeAndKeep = (source, target) => {\n  if (!source || !target) {\n    return;\n  }\n  for (const key in source) {\n    if (Object.prototype.hasOwnProperty.call(source, key) && source[key] !== null && typeof source[key] === `object`) {\n      if (target[key] === void 0) {\n        target[key] = new (Object.getPrototypeOf(source[key])).constructor();\n      }\n      fastDeepMergeAndKeep(source[key], target[key]);\n    } else if (Object.prototype.hasOwnProperty.call(source, key) && target[key] === void 0) {\n      target[key] = source[key];\n    }\n  }\n};\n\nexport {\n  allSettled,\n  logErrorInDevMode,\n  fastDeepMergeAndReplace,\n  fastDeepMergeAndKeep\n};\n//# sourceMappingURL=chunk-ARQUL5DC.mjs.map","// src/utils/noop.ts\nvar noop = (..._args) => {\n};\n\nexport {\n  noop\n};\n//# sourceMappingURL=chunk-7FNX7RWY.mjs.map","// src/utils/handleValueOrFn.ts\nfunction handleValueOrFn(value, url, defaultValue) {\n  if (typeof value === \"function\") {\n    return value(url);\n  }\n  if (typeof value !== \"undefined\") {\n    return value;\n  }\n  if (typeof defaultValue !== \"undefined\") {\n    return defaultValue;\n  }\n  return void 0;\n}\n\nexport {\n  handleValueOrFn\n};\n//# sourceMappingURL=chunk-O32JQBM6.mjs.map","import {\n  noop\n} from \"./chunk-7FNX7RWY.mjs\";\n\n// src/utils/createDeferredPromise.ts\nvar createDeferredPromise = () => {\n  let resolve = noop;\n  let reject = noop;\n  const promise = new Promise((res, rej) => {\n    resolve = res;\n    reject = rej;\n  });\n  return { promise, resolve, reject };\n};\n\nexport {\n  createDeferredPromise\n};\n//# sourceMappingURL=chunk-7QJ2QTJL.mjs.map","import {\n  allSettled,\n  fastDeepMergeAndKeep,\n  fastDeepMergeAndReplace,\n  logErrorInDevMode\n} from \"../chunk-ARQUL5DC.mjs\";\nimport {\n  createDeferredPromise\n} from \"../chunk-7QJ2QTJL.mjs\";\nimport {\n  noop\n} from \"../chunk-7FNX7RWY.mjs\";\nimport {\n  isStaging\n} from \"../chunk-3TMSNP4L.mjs\";\nimport {\n  handleValueOrFn\n} from \"../chunk-O32JQBM6.mjs\";\nimport {\n  isDevelopmentEnvironment,\n  isProductionEnvironment,\n  isTestEnvironment\n} from \"../chunk-7HPDNZ3R.mjs\";\nimport \"../chunk-IEP6GGEX.mjs\";\nexport {\n  allSettled,\n  createDeferredPromise,\n  fastDeepMergeAndKeep,\n  fastDeepMergeAndReplace,\n  handleValueOrFn,\n  isDevelopmentEnvironment,\n  isProductionEnvironment,\n  isStaging,\n  isTestEnvironment,\n  logErrorInDevMode,\n  noop\n};\n//# sourceMappingURL=index.mjs.map","import \"../chunk-BUSYA2B4.js\";\nimport { canUseKeyless } from \"../utils/feature-flags\";\nconst keylessCookiePrefix = `__clerk_keys_`;\nasync function hashString(str) {\n  const encoder = new TextEncoder();\n  const data = encoder.encode(str);\n  const hashBuffer = await crypto.subtle.digest(\"SHA-256\", data);\n  const hashArray = Array.from(new Uint8Array(hashBuffer));\n  const hashHex = hashArray.map((b) => b.toString(16).padStart(2, \"0\")).join(\"\");\n  return hashHex.slice(0, 16);\n}\nasync function getKeylessCookieName() {\n  const PATH = process.env.PWD;\n  if (!PATH) {\n    return `${keylessCookiePrefix}${0}`;\n  }\n  const lastThreeDirs = PATH.split(\"/\").filter(Boolean).slice(-3).reverse().join(\"/\");\n  const hash = await hashString(lastThreeDirs);\n  return `${keylessCookiePrefix}${hash}`;\n}\nasync function getKeylessCookieValue(getter) {\n  if (!canUseKeyless) {\n    return void 0;\n  }\n  const keylessCookieName = await getKeylessCookieName();\n  let keyless;\n  try {\n    if (keylessCookieName) {\n      keyless = JSON.parse(getter(keylessCookieName) || \"{}\");\n    }\n  } catch {\n    keyless = void 0;\n  }\n  return keyless;\n}\nexport {\n  getKeylessCookieName,\n  getKeylessCookieValue\n};\n//# sourceMappingURL=keyless.js.map","\"use server\";\nimport { cookies, headers } from \"next/headers\";\nimport { redirect, RedirectType } from \"next/navigation\";\nimport { errorThrower } from \"../server/errorThrower\";\nimport { detectClerkMiddleware } from \"../server/headers-utils\";\nimport { getKeylessCookieName, getKeylessCookieValue } from \"../server/keyless\";\nimport { canUseKeyless } from \"../utils/feature-flags\";\nconst keylessCookieConfig = {\n  secure: false,\n  httpOnly: false,\n  sameSite: \"lax\"\n};\nasync function syncKeylessConfigAction(args) {\n  const { claimUrl, publishableKey, secretKey, returnUrl } = args;\n  const cookieStore = await cookies();\n  const request = new Request(\"https://placeholder.com\", { headers: await headers() });\n  const keyless = await getKeylessCookieValue((name) => {\n    var _a;\n    return (_a = cookieStore.get(name)) == null ? void 0 : _a.value;\n  });\n  const pksMatch = (keyless == null ? void 0 : keyless.publishableKey) === publishableKey;\n  const sksMatch = (keyless == null ? void 0 : keyless.secretKey) === secretKey;\n  if (pksMatch && sksMatch) {\n    return;\n  }\n  cookieStore.set(\n    await getKeylessCookieName(),\n    JSON.stringify({ claimUrl, publishableKey, secretKey }),\n    keylessCookieConfig\n  );\n  if (detectClerkMiddleware(request)) {\n    redirect(`/clerk-sync-keyless?returnUrl=${returnUrl}`, RedirectType.replace);\n    return;\n  }\n  return;\n}\nasync function createOrReadKeylessAction() {\n  if (!canUseKeyless) {\n    return null;\n  }\n  const result = await import(\"../server/keyless-node.js\").then((m) => m.createOrReadKeyless()).catch(() => null);\n  if (!result) {\n    errorThrower.throwMissingPublishableKeyError();\n    return null;\n  }\n  const { clerkDevelopmentCache, createKeylessModeMessage } = await import(\"../server/keyless-log-cache.js\");\n  clerkDevelopmentCache == null ? void 0 : clerkDevelopmentCache.log({\n    cacheKey: result.publishableKey,\n    msg: createKeylessModeMessage(result)\n  });\n  const { claimUrl, publishableKey, secretKey, apiKeysUrl } = result;\n  void (await cookies()).set(\n    await getKeylessCookieName(),\n    JSON.stringify({ claimUrl, publishableKey, secretKey }),\n    keylessCookieConfig\n  );\n  return {\n    claimUrl,\n    publishableKey,\n    apiKeysUrl\n  };\n}\nasync function deleteKeylessAction() {\n  if (!canUseKeyless) {\n    return;\n  }\n  await import(\"../server/keyless-node.js\").then((m) => m.removeKeyless()).catch(() => {\n  });\n  return;\n}\nasync function detectKeylessEnvDriftAction() {\n  if (!canUseKeyless) {\n    return;\n  }\n  try {\n    const { detectKeylessEnvDrift } = await import(\"../server/keyless-telemetry.js\");\n    await detectKeylessEnvDrift();\n  } catch {\n  }\n}\nexport {\n  createOrReadKeylessAction,\n  deleteKeylessAction,\n  detectKeylessEnvDriftAction,\n  syncKeylessConfigAction\n};\n","import type { JwtReturnType } from './types';\n\n// TODO(dimkl): Will be probably be dropped in next major version\nexport function withLegacyReturn<T extends (...args: any[]) => Promise<JwtReturnType<any, any>>>(cb: T) {\n  return async (...args: Parameters<T>): Promise<NonNullable<Awaited<ReturnType<T>>['data']>> | never => {\n    const { data, errors } = await cb(...args);\n    if (errors) {\n      throw errors[0];\n    }\n    return data;\n  };\n}\n\n// TODO(dimkl): Will be probably be dropped in next major version\nexport function withLegacySyncReturn<T extends (...args: any[]) => JwtReturnType<any, any>>(cb: T) {\n  return (...args: Parameters<T>): NonNullable<Awaited<ReturnType<T>>['data']> | never => {\n    const { data, errors } = cb(...args);\n    if (errors) {\n      throw errors[0];\n    }\n    return data;\n  };\n}\n","import {\n  isTruthy\n} from \"./chunk-GGFRMWFO.mjs\";\nimport {\n  parsePublishableKey\n} from \"./chunk-IV7BOO4U.mjs\";\n\n// src/telemetry/throttler.ts\nvar DEFAULT_CACHE_TTL_MS = 864e5;\nvar TelemetryEventThrottler = class {\n  #cache;\n  #cacheTtl = DEFAULT_CACHE_TTL_MS;\n  constructor(cache) {\n    this.#cache = cache;\n  }\n  isEventThrottled(payload) {\n    const now = Date.now();\n    const key = this.#generateKey(payload);\n    const entry = this.#cache.getItem(key);\n    if (!entry) {\n      this.#cache.setItem(key, now);\n      return false;\n    }\n    const shouldInvalidate = now - entry > this.#cacheTtl;\n    if (shouldInvalidate) {\n      this.#cache.setItem(key, now);\n      return false;\n    }\n    return true;\n  }\n  /**\n   * Generates a consistent unique key for telemetry events by sorting payload properties.\n   * This ensures that payloads with identical content in different orders produce the same key.\n   */\n  #generateKey(event) {\n    const { sk: _sk, pk: _pk, payload, ...rest } = event;\n    const sanitizedEvent = {\n      ...payload,\n      ...rest\n    };\n    return JSON.stringify(\n      Object.keys({\n        ...payload,\n        ...rest\n      }).sort().map((key) => sanitizedEvent[key])\n    );\n  }\n};\nvar LocalStorageThrottlerCache = class {\n  #storageKey = \"clerk_telemetry_throttler\";\n  getItem(key) {\n    return this.#getCache()[key];\n  }\n  setItem(key, value) {\n    try {\n      const cache = this.#getCache();\n      cache[key] = value;\n      localStorage.setItem(this.#storageKey, JSON.stringify(cache));\n    } catch (err) {\n      const isQuotaExceededError = err instanceof DOMException && // Check error names for different browsers\n      (err.name === \"QuotaExceededError\" || err.name === \"NS_ERROR_DOM_QUOTA_REACHED\");\n      if (isQuotaExceededError && localStorage.length > 0) {\n        localStorage.removeItem(this.#storageKey);\n      }\n    }\n  }\n  removeItem(key) {\n    try {\n      const cache = this.#getCache();\n      delete cache[key];\n      localStorage.setItem(this.#storageKey, JSON.stringify(cache));\n    } catch {\n    }\n  }\n  #getCache() {\n    try {\n      const cacheString = localStorage.getItem(this.#storageKey);\n      if (!cacheString) {\n        return {};\n      }\n      return JSON.parse(cacheString);\n    } catch {\n      return {};\n    }\n  }\n  static isSupported() {\n    return typeof window !== \"undefined\" && !!window.localStorage;\n  }\n};\nvar InMemoryThrottlerCache = class {\n  #cache = /* @__PURE__ */ new Map();\n  #maxSize = 1e4;\n  // Defensive limit to prevent memory issues\n  getItem(key) {\n    if (this.#cache.size > this.#maxSize) {\n      this.#cache.clear();\n      return void 0;\n    }\n    return this.#cache.get(key);\n  }\n  setItem(key, value) {\n    this.#cache.set(key, value);\n  }\n  removeItem(key) {\n    this.#cache.delete(key);\n  }\n};\n\n// src/telemetry/collector.ts\nfunction isWindowClerkWithMetadata(clerk) {\n  return typeof clerk === \"object\" && clerk !== null && \"constructor\" in clerk && typeof clerk.constructor === \"function\";\n}\nvar VALID_LOG_LEVELS = /* @__PURE__ */ new Set([\"error\", \"warn\", \"info\", \"debug\", \"trace\"]);\nvar DEFAULT_CONFIG = {\n  samplingRate: 1,\n  maxBufferSize: 5,\n  // Production endpoint: https://clerk-telemetry.com\n  // Staging endpoint: https://staging.clerk-telemetry.com\n  // Local: http://localhost:8787\n  endpoint: \"https://clerk-telemetry.com\"\n};\nvar TelemetryCollector = class {\n  #config;\n  #eventThrottler;\n  #metadata = {};\n  #buffer = [];\n  #pendingFlush = null;\n  constructor(options) {\n    this.#config = {\n      maxBufferSize: options.maxBufferSize ?? DEFAULT_CONFIG.maxBufferSize,\n      samplingRate: options.samplingRate ?? DEFAULT_CONFIG.samplingRate,\n      perEventSampling: options.perEventSampling ?? true,\n      disabled: options.disabled ?? false,\n      debug: options.debug ?? false,\n      endpoint: DEFAULT_CONFIG.endpoint\n    };\n    if (!options.clerkVersion && typeof window === \"undefined\") {\n      this.#metadata.clerkVersion = \"\";\n    } else {\n      this.#metadata.clerkVersion = options.clerkVersion ?? \"\";\n    }\n    this.#metadata.sdk = options.sdk;\n    this.#metadata.sdkVersion = options.sdkVersion;\n    this.#metadata.publishableKey = options.publishableKey ?? \"\";\n    const parsedKey = parsePublishableKey(options.publishableKey);\n    if (parsedKey) {\n      this.#metadata.instanceType = parsedKey.instanceType;\n    }\n    if (options.secretKey) {\n      this.#metadata.secretKey = options.secretKey.substring(0, 16);\n    }\n    const cache = LocalStorageThrottlerCache.isSupported() ? new LocalStorageThrottlerCache() : new InMemoryThrottlerCache();\n    this.#eventThrottler = new TelemetryEventThrottler(cache);\n  }\n  get isEnabled() {\n    if (this.#metadata.instanceType !== \"development\") {\n      return false;\n    }\n    if (this.#config.disabled || typeof process !== \"undefined\" && process.env && isTruthy(process.env.CLERK_TELEMETRY_DISABLED)) {\n      return false;\n    }\n    if (typeof window !== \"undefined\" && !!window?.navigator?.webdriver) {\n      return false;\n    }\n    return true;\n  }\n  get isDebug() {\n    return this.#config.debug || typeof process !== \"undefined\" && process.env && isTruthy(process.env.CLERK_TELEMETRY_DEBUG);\n  }\n  record(event) {\n    try {\n      const preparedPayload = this.#preparePayload(event.event, event.payload);\n      this.#logEvent(preparedPayload.event, preparedPayload);\n      if (!this.#shouldRecord(preparedPayload, event.eventSamplingRate)) {\n        return;\n      }\n      this.#buffer.push({ kind: \"event\", value: preparedPayload });\n      this.#scheduleFlush();\n    } catch (error) {\n      console.error(\"[clerk/telemetry] Error recording telemetry event\", error);\n    }\n  }\n  /**\n   * Records a telemetry log entry if logging is enabled and not in debug mode.\n   *\n   * @param entry - The telemetry log entry to record.\n   */\n  recordLog(entry) {\n    try {\n      if (!this.#shouldRecordLog(entry)) {\n        return;\n      }\n      const levelIsValid = typeof entry?.level === \"string\" && VALID_LOG_LEVELS.has(entry.level);\n      const messageIsValid = typeof entry?.message === \"string\" && entry.message.trim().length > 0;\n      let normalizedTimestamp = null;\n      const timestampInput = entry?.timestamp;\n      if (typeof timestampInput === \"number\" || typeof timestampInput === \"string\") {\n        const candidate = new Date(timestampInput);\n        if (!Number.isNaN(candidate.getTime())) {\n          normalizedTimestamp = candidate;\n        }\n      }\n      if (!levelIsValid || !messageIsValid || normalizedTimestamp === null) {\n        if (this.isDebug && typeof console !== \"undefined\") {\n          console.warn(\"[clerk/telemetry] Dropping invalid telemetry log entry\", {\n            levelIsValid,\n            messageIsValid,\n            timestampIsValid: normalizedTimestamp !== null\n          });\n        }\n        return;\n      }\n      const sdkMetadata = this.#getSDKMetadata();\n      const logData = {\n        sdk: sdkMetadata.name,\n        sdkv: sdkMetadata.version,\n        cv: this.#metadata.clerkVersion ?? \"\",\n        lvl: entry.level,\n        msg: entry.message,\n        ts: normalizedTimestamp.toISOString(),\n        pk: this.#metadata.publishableKey || null,\n        payload: this.#sanitizeContext(entry.context)\n      };\n      this.#buffer.push({ kind: \"log\", value: logData });\n      this.#scheduleFlush();\n    } catch (error) {\n      console.error(\"[clerk/telemetry] Error recording telemetry log entry\", error);\n    }\n  }\n  #shouldRecord(preparedPayload, eventSamplingRate) {\n    return this.isEnabled && !this.isDebug && this.#shouldBeSampled(preparedPayload, eventSamplingRate);\n  }\n  #shouldRecordLog(_entry) {\n    return true;\n  }\n  #shouldBeSampled(preparedPayload, eventSamplingRate) {\n    const randomSeed = Math.random();\n    const toBeSampled = randomSeed <= this.#config.samplingRate && (this.#config.perEventSampling === false || typeof eventSamplingRate === \"undefined\" || randomSeed <= eventSamplingRate);\n    if (!toBeSampled) {\n      return false;\n    }\n    return !this.#eventThrottler.isEventThrottled(preparedPayload);\n  }\n  #scheduleFlush() {\n    if (typeof window === \"undefined\") {\n      this.#flush();\n      return;\n    }\n    const isBufferFull = this.#buffer.length >= this.#config.maxBufferSize;\n    if (isBufferFull) {\n      if (this.#pendingFlush) {\n        if (typeof cancelIdleCallback !== \"undefined\") {\n          cancelIdleCallback(Number(this.#pendingFlush));\n        } else {\n          clearTimeout(Number(this.#pendingFlush));\n        }\n      }\n      this.#flush();\n      return;\n    }\n    if (this.#pendingFlush) {\n      return;\n    }\n    if (\"requestIdleCallback\" in window) {\n      this.#pendingFlush = requestIdleCallback(() => {\n        this.#flush();\n        this.#pendingFlush = null;\n      });\n    } else {\n      this.#pendingFlush = setTimeout(() => {\n        this.#flush();\n        this.#pendingFlush = null;\n      }, 0);\n    }\n  }\n  #flush() {\n    const itemsToSend = [...this.#buffer];\n    this.#buffer = [];\n    this.#pendingFlush = null;\n    if (itemsToSend.length === 0) {\n      return;\n    }\n    const eventsToSend = itemsToSend.filter((item) => item.kind === \"event\").map((item) => item.value);\n    const logsToSend = itemsToSend.filter((item) => item.kind === \"log\").map((item) => item.value);\n    if (eventsToSend.length > 0) {\n      const eventsUrl = new URL(\"/v1/event\", this.#config.endpoint);\n      fetch(eventsUrl, {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        keepalive: true,\n        method: \"POST\",\n        // TODO: We send an array here with that idea that we can eventually send multiple events.\n        body: JSON.stringify({ events: eventsToSend })\n      }).catch(() => void 0);\n    }\n    if (logsToSend.length > 0) {\n      const logsUrl = new URL(\"/v1/logs\", this.#config.endpoint);\n      fetch(logsUrl, {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        keepalive: true,\n        method: \"POST\",\n        body: JSON.stringify({ logs: logsToSend })\n      }).catch(() => void 0);\n    }\n  }\n  /**\n   * If running in debug mode, log the event and its payload to the console.\n   */\n  #logEvent(event, payload) {\n    if (!this.isDebug) {\n      return;\n    }\n    if (typeof console.groupCollapsed !== \"undefined\") {\n      console.groupCollapsed(\"[clerk/telemetry]\", event);\n      console.log(payload);\n      console.groupEnd();\n    } else {\n      console.log(\"[clerk/telemetry]\", event, payload);\n    }\n  }\n  /**\n   * If in browser, attempt to lazily grab the SDK metadata from the Clerk singleton, otherwise fallback to the initially passed in values.\n   *\n   * This is necessary because the sdkMetadata can be set by the host SDK after the TelemetryCollector is instantiated.\n   */\n  #getSDKMetadata() {\n    const sdkMetadata = {\n      name: this.#metadata.sdk,\n      version: this.#metadata.sdkVersion\n    };\n    if (typeof window !== \"undefined\") {\n      const windowWithClerk = window;\n      if (windowWithClerk.Clerk) {\n        const windowClerk = windowWithClerk.Clerk;\n        if (isWindowClerkWithMetadata(windowClerk) && windowClerk.constructor.sdkMetadata) {\n          const { name, version } = windowClerk.constructor.sdkMetadata;\n          if (name !== void 0) {\n            sdkMetadata.name = name;\n          }\n          if (version !== void 0) {\n            sdkMetadata.version = version;\n          }\n        }\n      }\n    }\n    return sdkMetadata;\n  }\n  /**\n   * Append relevant metadata from the Clerk singleton to the event payload.\n   */\n  #preparePayload(event, payload) {\n    const sdkMetadata = this.#getSDKMetadata();\n    return {\n      event,\n      cv: this.#metadata.clerkVersion ?? \"\",\n      it: this.#metadata.instanceType ?? \"\",\n      sdk: sdkMetadata.name,\n      sdkv: sdkMetadata.version,\n      ...this.#metadata.publishableKey ? { pk: this.#metadata.publishableKey } : {},\n      ...this.#metadata.secretKey ? { sk: this.#metadata.secretKey } : {},\n      payload\n    };\n  }\n  /**\n   * Best-effort sanitization of the context payload. Returns a plain object with JSON-serializable\n   * values or null when the input is missing or not serializable. Arrays are not accepted.\n   */\n  #sanitizeContext(context) {\n    if (context === null || typeof context === \"undefined\") {\n      return null;\n    }\n    if (typeof context !== \"object\") {\n      return null;\n    }\n    try {\n      const cleaned = JSON.parse(JSON.stringify(context));\n      if (cleaned && typeof cleaned === \"object\" && !Array.isArray(cleaned)) {\n        return cleaned;\n      }\n      return null;\n    } catch {\n      return null;\n    }\n  }\n};\n\n// src/telemetry/events/component-mounted.ts\nvar EVENT_COMPONENT_MOUNTED = \"COMPONENT_MOUNTED\";\nvar EVENT_COMPONENT_OPENED = \"COMPONENT_OPENED\";\nvar EVENT_SAMPLING_RATE = 0.1;\nvar AUTH_COMPONENTS = /* @__PURE__ */ new Set([\"SignIn\", \"SignUp\"]);\nfunction getComponentMountedSamplingRate(component) {\n  return AUTH_COMPONENTS.has(component) ? 1 : EVENT_SAMPLING_RATE;\n}\nfunction createPrebuiltComponentEvent(event) {\n  return function(component, props, additionalPayload) {\n    return {\n      event,\n      eventSamplingRate: event === EVENT_COMPONENT_MOUNTED ? getComponentMountedSamplingRate(component) : EVENT_SAMPLING_RATE,\n      payload: {\n        component,\n        appearanceProp: Boolean(props?.appearance),\n        baseTheme: Boolean(props?.appearance?.baseTheme),\n        elements: Boolean(props?.appearance?.elements),\n        variables: Boolean(props?.appearance?.variables),\n        ...additionalPayload\n      }\n    };\n  };\n}\nfunction eventPrebuiltComponentMounted(component, props, additionalPayload) {\n  return createPrebuiltComponentEvent(EVENT_COMPONENT_MOUNTED)(component, props, additionalPayload);\n}\nfunction eventPrebuiltComponentOpened(component, props, additionalPayload) {\n  return createPrebuiltComponentEvent(EVENT_COMPONENT_OPENED)(component, props, additionalPayload);\n}\nfunction eventComponentMounted(component, props = {}) {\n  return {\n    event: EVENT_COMPONENT_MOUNTED,\n    eventSamplingRate: getComponentMountedSamplingRate(component),\n    payload: {\n      component,\n      ...props\n    }\n  };\n}\n\n// src/telemetry/events/method-called.ts\nvar EVENT_METHOD_CALLED = \"METHOD_CALLED\";\nvar EVENT_SAMPLING_RATE2 = 0.1;\nfunction eventMethodCalled(method, payload) {\n  return {\n    event: EVENT_METHOD_CALLED,\n    eventSamplingRate: EVENT_SAMPLING_RATE2,\n    payload: {\n      method,\n      ...payload\n    }\n  };\n}\n\n// src/telemetry/events/framework-metadata.ts\nvar EVENT_FRAMEWORK_METADATA = \"FRAMEWORK_METADATA\";\nvar EVENT_SAMPLING_RATE3 = 0.1;\nfunction eventFrameworkMetadata(payload) {\n  return {\n    event: EVENT_FRAMEWORK_METADATA,\n    eventSamplingRate: EVENT_SAMPLING_RATE3,\n    payload\n  };\n}\n\n// src/telemetry/events/theme-usage.ts\nvar EVENT_THEME_USAGE = \"THEME_USAGE\";\nvar EVENT_SAMPLING_RATE4 = 1;\nfunction eventThemeUsage(appearance) {\n  const payload = analyzeThemeUsage(appearance);\n  return {\n    event: EVENT_THEME_USAGE,\n    eventSamplingRate: EVENT_SAMPLING_RATE4,\n    payload\n  };\n}\nfunction analyzeThemeUsage(appearance) {\n  if (!appearance || typeof appearance !== \"object\") {\n    return {};\n  }\n  const themeProperty = appearance.theme || appearance.baseTheme;\n  if (!themeProperty) {\n    return {};\n  }\n  let themeName;\n  if (Array.isArray(themeProperty)) {\n    for (const theme of themeProperty) {\n      const name = extractThemeName(theme);\n      if (name) {\n        themeName = name;\n        break;\n      }\n    }\n  } else {\n    themeName = extractThemeName(themeProperty);\n  }\n  return { themeName };\n}\nfunction extractThemeName(theme) {\n  if (typeof theme === \"string\") {\n    return theme;\n  }\n  if (typeof theme === \"object\" && theme !== null) {\n    if (\"name\" in theme && typeof theme.name === \"string\") {\n      return theme.name;\n    }\n  }\n  return void 0;\n}\n\nexport {\n  TelemetryCollector,\n  eventPrebuiltComponentMounted,\n  eventPrebuiltComponentOpened,\n  eventComponentMounted,\n  eventMethodCalled,\n  eventFrameworkMetadata,\n  EVENT_THEME_USAGE,\n  EVENT_SAMPLING_RATE4 as EVENT_SAMPLING_RATE,\n  eventThemeUsage\n};\n//# sourceMappingURL=chunk-RUA3ZE6A.mjs.map","import {\n  createAuthenticateRequest,\n  createBackendApiClient,\n  verifyToken\n} from \"./chunk-OLQROOCY.mjs\";\nimport \"./chunk-LWOXHF4E.mjs\";\nimport {\n  withLegacyReturn\n} from \"./chunk-P263NW7Z.mjs\";\nimport \"./chunk-AR5UB427.mjs\";\nimport \"./chunk-HNJNM32R.mjs\";\nimport \"./chunk-RPS7XK5K.mjs\";\n\n// src/index.ts\nimport { TelemetryCollector } from \"@clerk/shared/telemetry\";\nvar verifyToken2 = withLegacyReturn(verifyToken);\nfunction createClerkClient(options) {\n  const opts = { ...options };\n  const apiClient = createBackendApiClient(opts);\n  const requestState = createAuthenticateRequest({ options: opts, apiClient });\n  const telemetry = new TelemetryCollector({\n    publishableKey: opts.publishableKey,\n    secretKey: opts.secretKey,\n    samplingRate: 0.1,\n    ...opts.sdkMetadata ? { sdk: opts.sdkMetadata.name, sdkVersion: opts.sdkMetadata.version } : {},\n    ...opts.telemetry || {}\n  });\n  return {\n    ...apiClient,\n    ...requestState,\n    telemetry\n  };\n}\nexport {\n  createClerkClient,\n  verifyToken2 as verifyToken\n};\n//# sourceMappingURL=index.mjs.map","import \"../chunk-BUSYA2B4.js\";\nimport { createClerkClient } from \"@clerk/backend\";\nimport {\n  API_URL,\n  API_VERSION,\n  DOMAIN,\n  IS_SATELLITE,\n  MACHINE_SECRET_KEY,\n  PROXY_URL,\n  PUBLISHABLE_KEY,\n  SDK_METADATA,\n  SECRET_KEY,\n  TELEMETRY_DEBUG,\n  TELEMETRY_DISABLED\n} from \"./constants\";\nconst clerkClientDefaultOptions = {\n  secretKey: SECRET_KEY,\n  publishableKey: PUBLISHABLE_KEY,\n  apiUrl: API_URL,\n  apiVersion: API_VERSION,\n  userAgent: `${\"@clerk/nextjs\"}@${\"6.33.3\"}`,\n  proxyUrl: PROXY_URL,\n  domain: DOMAIN,\n  isSatellite: IS_SATELLITE,\n  machineSecretKey: MACHINE_SECRET_KEY,\n  sdkMetadata: SDK_METADATA,\n  telemetry: {\n    disabled: TELEMETRY_DISABLED,\n    debug: TELEMETRY_DEBUG\n  }\n};\nconst createClerkClientWithOptions = (options) => createClerkClient({ ...clerkClientDefaultOptions, ...options });\nexport {\n  createClerkClientWithOptions\n};\n//# sourceMappingURL=createClerkClient.js.map","import {\n  EVENT_SAMPLING_RATE,\n  EVENT_THEME_USAGE,\n  TelemetryCollector,\n  eventComponentMounted,\n  eventFrameworkMetadata,\n  eventMethodCalled,\n  eventPrebuiltComponentMounted,\n  eventPrebuiltComponentOpened,\n  eventThemeUsage\n} from \"./chunk-RUA3ZE6A.mjs\";\nimport \"./chunk-GGFRMWFO.mjs\";\nimport \"./chunk-IV7BOO4U.mjs\";\nimport \"./chunk-TETGTEI2.mjs\";\nimport \"./chunk-KOH7GTJO.mjs\";\nimport \"./chunk-I6MTSTOF.mjs\";\nimport \"./chunk-IEP6GGEX.mjs\";\nexport {\n  EVENT_SAMPLING_RATE,\n  EVENT_THEME_USAGE,\n  TelemetryCollector,\n  eventComponentMounted,\n  eventFrameworkMetadata,\n  eventMethodCalled,\n  eventPrebuiltComponentMounted,\n  eventPrebuiltComponentOpened,\n  eventThemeUsage\n};\n//# sourceMappingURL=telemetry.mjs.map"],"names":[],"mappings":"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","ignoreList":[0,1,4,5,6,7,8,9,10,12,13,14,15]}