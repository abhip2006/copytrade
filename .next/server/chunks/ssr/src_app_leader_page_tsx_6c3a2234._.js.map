{"version":3,"sources":["turbopack:///[project]/src/components/trading/watchlist.tsx","turbopack:///[project]/src/components/trading/trade-form.tsx","turbopack:///[project]/src/app/leader/page.tsx","turbopack:///[project]/node_modules/lucide-react/src/icons/minimize-2.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/maximize-2.ts"],"sourcesContent":["/**\n * Watchlist Component\n * Manage and display user's watchlist symbols with real-time prices\n */\n\n\"use client\";\n\nimport { useState, useEffect } from 'react';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { EmptyState } from '@/components/ui/empty-state';\nimport { Badge } from '@/components/ui/badge';\nimport {\n  Plus,\n  X,\n  TrendingUp,\n  TrendingDown,\n  Search,\n  Star,\n  Loader2,\n} from 'lucide-react';\n\ninterface WatchlistProps {\n  onSymbolClick?: (symbol: string) => void;\n  className?: string;\n}\n\ninterface WatchlistItem {\n  id: string;\n  symbol: string;\n  added_at: string;\n  price?: number;\n  change?: number;\n  changePercent?: number;\n}\n\nexport function Watchlist({ onSymbolClick, className }: WatchlistProps) {\n  const [watchlist, setWatchlist] = useState<WatchlistItem[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [addingSymbol, setAddingSymbol] = useState(false);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [searchResults, setSearchResults] = useState<any[]>([]);\n  const [searching, setSearching] = useState(false);\n\n  // Fetch watchlist\n  const fetchWatchlist = async () => {\n    try {\n      const response = await fetch('/api/watchlist');\n      const result = await response.json();\n\n      if (result.success) {\n        setWatchlist(result.data);\n\n        // Fetch quotes for all symbols\n        if (result.data.length > 0) {\n          const symbols = result.data.map((item: WatchlistItem) => item.symbol).join(',');\n          fetchQuotes(symbols);\n        }\n      }\n    } catch (error) {\n      console.error('Failed to fetch watchlist:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Fetch real-time quotes\n  const fetchQuotes = async (symbols: string) => {\n    try {\n      const response = await fetch(`/api/quotes?symbols=${encodeURIComponent(symbols)}`);\n      const result = await response.json();\n\n      if (result.success) {\n        // Update watchlist with quote data\n        setWatchlist((prev) =>\n          prev.map((item) => {\n            const quote = result.data[item.symbol];\n            if (quote) {\n              return {\n                ...item,\n                price: quote.price,\n                change: quote.change,\n                changePercent: quote.changePercent,\n              };\n            }\n            return item;\n          })\n        );\n      }\n    } catch (error) {\n      console.error('Failed to fetch quotes:', error);\n    }\n  };\n\n  // Search symbols\n  const handleSearch = async (query: string) => {\n    setSearchQuery(query);\n\n    if (!query.trim()) {\n      setSearchResults([]);\n      return;\n    }\n\n    setSearching(true);\n    try {\n      const response = await fetch(`/api/search-symbols?query=${encodeURIComponent(query)}`);\n      const result = await response.json();\n\n      if (result.success) {\n        setSearchResults(result.data);\n      }\n    } catch (error) {\n      console.error('Failed to search symbols:', error);\n    } finally {\n      setSearching(false);\n    }\n  };\n\n  // Add symbol to watchlist\n  const addSymbol = async (symbol: string, exchange?: string) => {\n    try {\n      const response = await fetch('/api/watchlist', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ symbol, exchange }),\n      });\n\n      const result = await response.json();\n\n      if (result.success) {\n        // Refresh watchlist\n        fetchWatchlist();\n        setSearchQuery('');\n        setSearchResults([]);\n        setAddingSymbol(false);\n      } else {\n        alert(result.error || 'Failed to add symbol');\n      }\n    } catch (error) {\n      console.error('Failed to add symbol:', error);\n      alert('Failed to add symbol');\n    }\n  };\n\n  // Remove symbol from watchlist\n  const removeSymbol = async (symbol: string) => {\n    try {\n      const response = await fetch(`/api/watchlist/${encodeURIComponent(symbol)}`, {\n        method: 'DELETE',\n      });\n\n      const result = await response.json();\n\n      if (result.success) {\n        setWatchlist((prev) => prev.filter((item) => item.symbol !== symbol));\n      } else {\n        alert(result.error || 'Failed to remove symbol');\n      }\n    } catch (error) {\n      console.error('Failed to remove symbol:', error);\n      alert('Failed to remove symbol');\n    }\n  };\n\n  // Initial load\n  useEffect(() => {\n    fetchWatchlist();\n  }, []);\n\n  // Refresh quotes every 30 seconds\n  useEffect(() => {\n    if (watchlist.length === 0) return;\n\n    const interval = setInterval(() => {\n      const symbols = watchlist.map((item) => item.symbol).join(',');\n      fetchQuotes(symbols);\n    }, 30000); // 30 seconds\n\n    return () => clearInterval(interval);\n  }, [watchlist]);\n\n  return (\n    <div className={`rounded-2xl border border-[var(--border)] bg-[var(--surface)] p-6 ${className}`}>\n      {/* Header */}\n      <div className=\"flex items-center justify-between mb-6\">\n        <div className=\"flex items-center gap-2\">\n          <Star className=\"w-5 h-5 text-[var(--primary)]\" />\n          <h3 className=\"text-xl font-bold text-[var(--foreground)]\">Watchlist</h3>\n        </div>\n\n        <Button\n          variant=\"outline\"\n          size=\"sm\"\n          onClick={() => setAddingSymbol(!addingSymbol)}\n          className=\"gap-2\"\n        >\n          {addingSymbol ? <X className=\"w-4 h-4\" /> : <Plus className=\"w-4 h-4\" />}\n          {addingSymbol ? 'Cancel' : 'Add'}\n        </Button>\n      </div>\n\n      {/* Add Symbol Form */}\n      {addingSymbol && (\n        <div className=\"mb-6 space-y-3\">\n          <div className=\"relative\">\n            <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-[var(--foreground-subtle)]\" />\n            <Input\n              placeholder=\"Search symbols (e.g., AAPL, Tesla)\"\n              value={searchQuery}\n              onChange={(e) => handleSearch(e.target.value)}\n              className=\"pl-10\"\n            />\n            {searching && (\n              <Loader2 className=\"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 animate-spin text-[var(--primary)]\" />\n            )}\n          </div>\n\n          {/* Search Results */}\n          {searchResults.length > 0 && (\n            <div className=\"max-h-48 overflow-y-auto rounded-xl border border-[var(--border)] bg-[var(--surface-elevated)]\">\n              {searchResults.map((result) => (\n                <button\n                  key={result.fullSymbol}\n                  onClick={() => addSymbol(result.symbol, result.exchange)}\n                  className=\"w-full px-4 py-3 text-left hover:bg-[var(--surface-hover)] transition-colors border-b border-[var(--border)] last:border-0\"\n                >\n                  <div className=\"flex items-center justify-between\">\n                    <div>\n                      <div className=\"font-semibold text-[var(--foreground)]\">\n                        {result.symbol}\n                      </div>\n                      <div className=\"text-xs text-[var(--foreground-muted)]\">\n                        {result.description}\n                      </div>\n                    </div>\n                    <Badge variant=\"outline\" className=\"text-xs\">\n                      {result.exchange}\n                    </Badge>\n                  </div>\n                </button>\n              ))}\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Watchlist Items */}\n      {loading ? (\n        <div className=\"flex items-center justify-center py-12\">\n          <Loader2 className=\"w-6 h-6 animate-spin text-[var(--primary)]\" />\n        </div>\n      ) : watchlist.length === 0 ? (\n        <EmptyState\n          icon={Star}\n          title=\"No symbols in watchlist\"\n          description=\"Add symbols to track their real-time prices and quickly access charts.\"\n          action={{\n            label: 'Add Symbol',\n            onClick: () => setAddingSymbol(true),\n          }}\n        />\n      ) : (\n        <div className=\"space-y-2\">\n          {watchlist.map((item) => {\n            const ticker = item.symbol.split(':')[1] || item.symbol;\n            const isPositive = (item.changePercent || 0) >= 0;\n\n            return (\n              <button\n                key={item.id}\n                onClick={() => onSymbolClick?.(item.symbol)}\n                className=\"w-full p-4 rounded-xl border border-[var(--border)] bg-[var(--surface-elevated)] hover:bg-[var(--surface-hover)] hover:border-[var(--primary)] transition-all group\"\n              >\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"flex items-center gap-3\">\n                    <div className=\"text-left\">\n                      <div className=\"font-bold text-[var(--foreground)] text-lg\">\n                        {ticker}\n                      </div>\n                      {item.price && (\n                        <div className=\"text-sm font-semibold text-[var(--foreground-muted)]\">\n                          ${item.price.toFixed(2)}\n                        </div>\n                      )}\n                    </div>\n                  </div>\n\n                  <div className=\"flex items-center gap-3\">\n                    {item.changePercent !== undefined && (\n                      <div\n                        className={`flex items-center gap-1 ${\n                          isPositive ? 'text-[var(--success)]' : 'text-[var(--danger)]'\n                        }`}\n                      >\n                        {isPositive ? (\n                          <TrendingUp className=\"w-4 h-4\" />\n                        ) : (\n                          <TrendingDown className=\"w-4 h-4\" />\n                        )}\n                        <span className=\"text-sm font-semibold\">\n                          {isPositive ? '+' : ''}\n                          {item.changePercent.toFixed(2)}%\n                        </span>\n                      </div>\n                    )}\n\n                    <button\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        removeSymbol(item.symbol);\n                      }}\n                      className=\"opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-[var(--danger-bg)] rounded-lg\"\n                    >\n                      <X className=\"w-4 h-4 text-[var(--danger)]\" />\n                    </button>\n                  </div>\n                </div>\n              </button>\n            );\n          })}\n        </div>\n      )}\n    </div>\n  );\n}\n","/**\n * Trade Execution Form - US-1.3 from PRD\n * Multi-step form for placing trades with order impact check\n */\n\n\"use client\";\n\nimport { useState, useEffect } from 'react';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Badge } from '@/components/ui/badge';\nimport {\n  X,\n  Search,\n  Loader2,\n  AlertCircle,\n  CheckCircle2,\n  TrendingUp,\n  TrendingDown,\n} from 'lucide-react';\nimport { formatCurrency } from '@/lib/utils';\n\ninterface TradeFormProps {\n  initialSymbol?: string;\n  onClose?: () => void;\n  onSuccess?: () => void;\n  onSymbolChange?: (symbol: string) => void;\n}\n\ntype OrderType = 'Market' | 'Limit' | 'Stop' | 'StopLimit';\ntype TradeAction = 'BUY' | 'SELL';\ntype TimeInForce = 'Day' | 'GTC';\ntype AssetType = 'stock' | 'option';\ntype OptionType = 'CALL' | 'PUT';\ntype OptionAction = 'BUY_TO_OPEN' | 'SELL_TO_OPEN' | 'BUY_TO_CLOSE' | 'SELL_TO_CLOSE';\n\ntype FormStep = 'input' | 'review' | 'executing' | 'success' | 'error';\n\nexport function TradeForm({ initialSymbol, onClose, onSuccess, onSymbolChange }: TradeFormProps) {\n  // Form state\n  const [step, setStep] = useState<FormStep>('input');\n  const [assetType, setAssetType] = useState<AssetType>('stock');\n  const [action, setAction] = useState<TradeAction>('BUY');\n  const [orderType, setOrderType] = useState<OrderType>('Market');\n  const [timeInForce, setTimeInForce] = useState<TimeInForce>('Day');\n\n  // Options-specific state\n  const [optionType, setOptionType] = useState<OptionType>('CALL');\n  const [optionAction, setOptionAction] = useState<OptionAction>('BUY_TO_OPEN');\n  const [strikePrice, setStrikePrice] = useState('');\n  const [expirationDate, setExpirationDate] = useState('');\n  const [optionsChain, setOptionsChain] = useState<any[]>([]);\n  const [loadingOptions, setLoadingOptions] = useState(false);\n\n  // Symbol search\n  const [symbolQuery, setSymbolQuery] = useState(initialSymbol || '');\n  const [selectedSymbol, setSelectedSymbol] = useState<any>(null);\n  const [searchResults, setSearchResults] = useState<any[]>([]);\n  const [searching, setSearching] = useState(false);\n\n  // Notify parent when symbol changes\n  const handleSymbolSelect = (symbol: any) => {\n    setSelectedSymbol(symbol);\n    setSearchResults([]);\n\n    // Notify parent component to update chart\n    if (onSymbolChange && symbol) {\n      onSymbolChange(symbol.symbol);\n    }\n\n    // Fetch options chain if option trading\n    if (assetType === 'option' && symbol) {\n      fetchOptionsChain(symbol.symbol);\n    }\n  };\n\n  // Trade parameters\n  const [quantity, setQuantity] = useState('');\n  const [limitPrice, setLimitPrice] = useState('');\n  const [stopPrice, setStopPrice] = useState('');\n  const [stopLoss, setStopLoss] = useState('');\n  const [takeProfit, setTakeProfit] = useState('');\n\n  // Order impact data\n  const [tradeImpact, setTradeImpact] = useState<any>(null);\n  const [tradeId, setTradeId] = useState<string | null>(null);\n\n  // UI state\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [orderResult, setOrderResult] = useState<any>(null);\n\n  // Search symbols\n  const handleSearch = async (query: string) => {\n    setSymbolQuery(query);\n\n    if (!query.trim()) {\n      setSearchResults([]);\n      return;\n    }\n\n    setSearching(true);\n    try {\n      const response = await fetch(`/api/symbols/search?query=${encodeURIComponent(query)}`);\n      const result = await response.json();\n\n      if (result.success) {\n        setSearchResults(result.data);\n      }\n    } catch (err) {\n      console.error('Symbol search failed:', err);\n    } finally {\n      setSearching(false);\n    }\n  };\n\n  // Fetch options chain\n  const fetchOptionsChain = async (ticker: string) => {\n    setLoadingOptions(true);\n    try {\n      const response = await fetch(`/api/options/chain?ticker=${encodeURIComponent(ticker)}`);\n      const result = await response.json();\n\n      if (result.success) {\n        setOptionsChain(result.data);\n\n        // Auto-select first available expiration and strike\n        if (result.data.length > 0) {\n          const firstOption = result.data[0];\n          setExpirationDate(firstOption.expiration_date);\n          setStrikePrice(firstOption.strike_price.toString());\n        }\n      }\n    } catch (err) {\n      console.error('Failed to fetch options chain:', err);\n    } finally {\n      setLoadingOptions(false);\n    }\n  };\n\n  // Check order impact\n  const checkImpact = async () => {\n    if (!selectedSymbol || !quantity) {\n      setError('Please select a symbol and enter quantity');\n      return;\n    }\n\n    // Validate options-specific fields\n    if (assetType === 'option') {\n      if (!strikePrice || !expirationDate) {\n        setError('Please select strike price and expiration date');\n        return;\n      }\n    }\n\n    setLoading(true);\n    setError(null);\n\n    try {\n      const requestBody: any = assetType === 'stock' ? {\n        asset_type: 'stock',\n        action,\n        universal_symbol_id: selectedSymbol.id,\n        order_type: orderType,\n        time_in_force: timeInForce,\n        units: parseFloat(quantity),\n        price: limitPrice ? parseFloat(limitPrice) : undefined,\n        stop: stopPrice ? parseFloat(stopPrice) : undefined,\n      } : {\n        asset_type: 'option',\n        option_action: optionAction,\n        ticker: selectedSymbol.symbol,\n        option_type: optionType,\n        strike_price: parseFloat(strikePrice),\n        expiration_date: expirationDate,\n        order_type: orderType,\n        time_in_force: timeInForce,\n        quantity: parseFloat(quantity),\n        price: limitPrice ? parseFloat(limitPrice) : undefined,\n      };\n\n      const response = await fetch('/api/trades/impact', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(requestBody),\n      });\n\n      const result = await response.json();\n\n      if (!result.success) {\n        throw new Error(result.error || 'Failed to check order impact');\n      }\n\n      setTradeImpact(result.data.tradeImpacts[0]);\n      setTradeId(result.data.tradeId);\n      setStep('review');\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to check order impact');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Place order\n  const placeOrder = async () => {\n    if (!tradeId) {\n      setError('Trade ID missing. Please start over.');\n      return;\n    }\n\n    setStep('executing');\n    setError(null);\n\n    try {\n      const response = await fetch('/api/trades/execute', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          tradeId,\n          stopLoss: stopLoss ? parseFloat(stopLoss) : undefined,\n          takeProfit: takeProfit ? parseFloat(takeProfit) : undefined,\n        }),\n      });\n\n      const result = await response.json();\n\n      if (!result.success) {\n        throw new Error(result.error || 'Failed to execute trade');\n      }\n\n      setOrderResult(result.data);\n      setStep('success');\n\n      // Call success callback after a delay\n      setTimeout(() => {\n        onSuccess?.();\n      }, 2000);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to execute trade');\n      setStep('error');\n    }\n  };\n\n  // Reset form\n  const reset = () => {\n    setStep('input');\n    setAssetType('stock');\n    setAction('BUY');\n    setOrderType('Market');\n    setSelectedSymbol(null);\n    setQuantity('');\n    setLimitPrice('');\n    setStopPrice('');\n    setStopLoss('');\n    setTakeProfit('');\n    setOptionType('CALL');\n    setOptionAction('BUY_TO_OPEN');\n    setStrikePrice('');\n    setExpirationDate('');\n    setOptionsChain([]);\n    setTradeImpact(null);\n    setTradeId(null);\n    setError(null);\n  };\n\n  return (\n    <div className=\"fixed inset-0 z-50 pointer-events-none\">\n      {/* Backdrop - only covers the right side */}\n      <div\n        className=\"absolute inset-y-0 right-0 w-full lg:w-1/2 bg-black/30 backdrop-blur-sm pointer-events-auto\"\n        onClick={onClose}\n      />\n\n      {/* Side Panel */}\n      <div className=\"absolute inset-y-0 right-0 w-full lg:w-1/2 xl:w-2/5 bg-[var(--surface)] shadow-2xl border-l border-[var(--border)] overflow-y-auto pointer-events-auto animate-slide-in-right\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between p-6 border-b border-[var(--border)] sticky top-0 bg-[var(--surface)] z-10\">\n          <h2 className=\"text-2xl font-bold text-[var(--foreground)]\">\n            {step === 'input' && 'Place Trade'}\n            {step === 'review' && 'Review Order'}\n            {step === 'executing' && 'Executing Trade'}\n            {step === 'success' && 'Trade Executed'}\n            {step === 'error' && 'Trade Failed'}\n          </h2>\n          <button\n            onClick={onClose}\n            className=\"p-2 hover:bg-[var(--surface-hover)] rounded-lg transition-colors\"\n          >\n            <X className=\"w-5 h-5\" />\n          </button>\n        </div>\n\n        {/* Content */}\n        <div className=\"p-6\">\n          {/* Step 1: Input Form */}\n          {step === 'input' && (\n            <div className=\"space-y-6\">\n              {/* Asset Type Selector */}\n              <div>\n                <label className=\"block text-sm font-medium text-[var(--foreground-muted)] mb-2\">\n                  Asset Type\n                </label>\n                <div className=\"flex gap-3\">\n                  <button\n                    onClick={() => {\n                      setAssetType('stock');\n                      setOptionsChain([]);\n                    }}\n                    className={`flex-1 px-6 py-3 rounded-xl font-semibold transition-all ${\n                      assetType === 'stock'\n                        ? 'bg-[var(--primary)] text-white shadow-lg'\n                        : 'bg-[var(--surface-elevated)] text-[var(--foreground-muted)] hover:bg-[var(--surface-hover)]'\n                    }`}\n                  >\n                    Stock\n                  </button>\n                  <button\n                    onClick={() => {\n                      setAssetType('option');\n                      if (selectedSymbol) {\n                        fetchOptionsChain(selectedSymbol.symbol);\n                      }\n                    }}\n                    className={`flex-1 px-6 py-3 rounded-xl font-semibold transition-all ${\n                      assetType === 'option'\n                        ? 'bg-[var(--primary)] text-white shadow-lg'\n                        : 'bg-[var(--surface-elevated)] text-[var(--foreground-muted)] hover:bg-[var(--surface-hover)]'\n                    }`}\n                  >\n                    Option\n                  </button>\n                </div>\n              </div>\n\n              {/* Action Selector - Conditional based on asset type */}\n              <div>\n                <label className=\"block text-sm font-medium text-[var(--foreground-muted)] mb-2\">\n                  {assetType === 'stock' ? 'Action' : 'Option Action'}\n                </label>\n                {assetType === 'stock' ? (\n                  <div className=\"flex gap-3\">\n                    <button\n                      onClick={() => setAction('BUY')}\n                      className={`flex-1 px-6 py-3 rounded-xl font-semibold transition-all ${\n                        action === 'BUY'\n                          ? 'bg-[var(--success)] text-white shadow-lg'\n                          : 'bg-[var(--surface-elevated)] text-[var(--foreground-muted)] hover:bg-[var(--surface-hover)]'\n                      }`}\n                    >\n                      BUY\n                    </button>\n                    <button\n                      onClick={() => setAction('SELL')}\n                      className={`flex-1 px-6 py-3 rounded-xl font-semibold transition-all ${\n                        action === 'SELL'\n                          ? 'bg-[var(--danger)] text-white shadow-lg'\n                          : 'bg-[var(--surface-elevated)] text-[var(--foreground-muted)] hover:bg-[var(--surface-hover)]'\n                      }`}\n                    >\n                      SELL\n                    </button>\n                  </div>\n                ) : (\n                  <select\n                    value={optionAction}\n                    onChange={(e) => setOptionAction(e.target.value as OptionAction)}\n                    className=\"w-full h-12 px-4 rounded-xl border border-[var(--border)] bg-[var(--surface)] text-[var(--foreground)] focus:outline-none focus:ring-2 focus:ring-[var(--primary)]\"\n                  >\n                    <option value=\"BUY_TO_OPEN\">Buy to Open (Long)</option>\n                    <option value=\"SELL_TO_OPEN\">Sell to Open (Short)</option>\n                    <option value=\"BUY_TO_CLOSE\">Buy to Close</option>\n                    <option value=\"SELL_TO_CLOSE\">Sell to Close</option>\n                  </select>\n                )}\n              </div>\n\n              {/* Symbol Search */}\n              <div>\n                <label className=\"block text-sm font-medium text-[var(--foreground-muted)] mb-2\">\n                  Symbol\n                </label>\n                {selectedSymbol ? (\n                  <div className=\"flex items-center gap-3 p-4 rounded-xl bg-[var(--surface-elevated)] border border-[var(--border)]\">\n                    <div className=\"flex-1\">\n                      <div className=\"font-bold text-[var(--foreground)]\">\n                        {selectedSymbol.symbol}\n                      </div>\n                      <div className=\"text-sm text-[var(--foreground-muted)]\">\n                        {selectedSymbol.description}\n                      </div>\n                    </div>\n                    <Button\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      onClick={() => setSelectedSymbol(null)}\n                    >\n                      Change\n                    </Button>\n                  </div>\n                ) : (\n                  <>\n                    <div className=\"relative\">\n                      <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-[var(--foreground-subtle)]\" />\n                      <Input\n                        placeholder=\"Search symbols (e.g., AAPL, TSLA)\"\n                        value={symbolQuery}\n                        onChange={(e) => handleSearch(e.target.value)}\n                        className=\"pl-10\"\n                      />\n                      {searching && (\n                        <Loader2 className=\"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 animate-spin text-[var(--primary)]\" />\n                      )}\n                    </div>\n                    {searchResults.length > 0 && (\n                      <div className=\"mt-2 max-h-48 overflow-y-auto rounded-xl border border-[var(--border)] bg-[var(--surface-elevated)]\">\n                        {searchResults.map((result) => (\n                          <button\n                            key={result.id}\n                            onClick={() => handleSymbolSelect(result)}\n                            className=\"w-full px-4 py-3 text-left hover:bg-[var(--surface-hover)] transition-colors border-b border-[var(--border)] last:border-0\"\n                          >\n                            <div className=\"flex items-center justify-between\">\n                              <div>\n                                <div className=\"font-semibold text-[var(--foreground)]\">\n                                  {result.symbol}\n                                </div>\n                                <div className=\"text-xs text-[var(--foreground-muted)]\">\n                                  {result.description}\n                                </div>\n                              </div>\n                              <Badge variant=\"outline\">{result.type}</Badge>\n                            </div>\n                          </button>\n                        ))}\n                      </div>\n                    )}\n                  </>\n                )}\n              </div>\n\n              {/* Options-Specific Fields */}\n              {assetType === 'option' && selectedSymbol && (\n                <>\n                  {/* Option Type */}\n                  <div>\n                    <label className=\"block text-sm font-medium text-[var(--foreground-muted)] mb-2\">\n                      Option Type\n                    </label>\n                    <div className=\"flex gap-3\">\n                      <button\n                        onClick={() => setOptionType('CALL')}\n                        className={`flex-1 px-6 py-3 rounded-xl font-semibold transition-all ${\n                          optionType === 'CALL'\n                            ? 'bg-[var(--success)] text-white shadow-lg'\n                            : 'bg-[var(--surface-elevated)] text-[var(--foreground-muted)] hover:bg-[var(--surface-hover)]'\n                        }`}\n                      >\n                        CALL\n                      </button>\n                      <button\n                        onClick={() => setOptionType('PUT')}\n                        className={`flex-1 px-6 py-3 rounded-xl font-semibold transition-all ${\n                          optionType === 'PUT'\n                            ? 'bg-[var(--danger)] text-white shadow-lg'\n                            : 'bg-[var(--surface-elevated)] text-[var(--foreground-muted)] hover:bg-[var(--surface-hover)]'\n                        }`}\n                      >\n                        PUT\n                      </button>\n                    </div>\n                  </div>\n\n                  {/* Strike Price */}\n                  <div>\n                    <label className=\"block text-sm font-medium text-[var(--foreground-muted)] mb-2\">\n                      Strike Price\n                    </label>\n                    {loadingOptions ? (\n                      <div className=\"flex items-center justify-center p-4\">\n                        <Loader2 className=\"w-5 h-5 animate-spin text-[var(--primary)]\" />\n                        <span className=\"ml-2 text-sm text-[var(--foreground-muted)]\">Loading options...</span>\n                      </div>\n                    ) : optionsChain.length > 0 ? (\n                      <select\n                        value={strikePrice}\n                        onChange={(e) => setStrikePrice(e.target.value)}\n                        className=\"w-full h-12 px-4 rounded-xl border border-[var(--border)] bg-[var(--surface)] text-[var(--foreground)] focus:outline-none focus:ring-2 focus:ring-[var(--primary)]\"\n                      >\n                        <option value=\"\">Select strike price</option>\n                        {Array.from(new Set(optionsChain.map(opt => opt.strike_price)))\n                          .sort((a, b) => a - b)\n                          .map((strike) => (\n                            <option key={strike} value={strike}>\n                              ${strike.toFixed(2)}\n                            </option>\n                          ))}\n                      </select>\n                    ) : (\n                      <Input\n                        type=\"number\"\n                        placeholder=\"Enter strike price\"\n                        value={strikePrice}\n                        onChange={(e) => setStrikePrice(e.target.value)}\n                        min=\"0\"\n                        step=\"0.50\"\n                      />\n                    )}\n                  </div>\n\n                  {/* Expiration Date */}\n                  <div>\n                    <label className=\"block text-sm font-medium text-[var(--foreground-muted)] mb-2\">\n                      Expiration Date\n                    </label>\n                    {loadingOptions ? (\n                      <div className=\"flex items-center justify-center p-4\">\n                        <Loader2 className=\"w-5 h-5 animate-spin text-[var(--primary)]\" />\n                      </div>\n                    ) : optionsChain.length > 0 ? (\n                      <select\n                        value={expirationDate}\n                        onChange={(e) => setExpirationDate(e.target.value)}\n                        className=\"w-full h-12 px-4 rounded-xl border border-[var(--border)] bg-[var(--surface)] text-[var(--foreground)] focus:outline-none focus:ring-2 focus:ring-[var(--primary)]\"\n                      >\n                        <option value=\"\">Select expiration date</option>\n                        {Array.from(new Set(optionsChain.map(opt => opt.expiration_date)))\n                          .sort()\n                          .map((date) => (\n                            <option key={date} value={date}>\n                              {new Date(date).toLocaleDateString('en-US', {\n                                year: 'numeric',\n                                month: 'short',\n                                day: 'numeric'\n                              })}\n                            </option>\n                          ))}\n                      </select>\n                    ) : (\n                      <Input\n                        type=\"date\"\n                        value={expirationDate}\n                        onChange={(e) => setExpirationDate(e.target.value)}\n                        min={new Date().toISOString().split('T')[0]}\n                      />\n                    )}\n                  </div>\n                </>\n              )}\n\n              {/* Order Type */}\n              <div>\n                <label className=\"block text-sm font-medium text-[var(--foreground-muted)] mb-2\">\n                  Order Type\n                </label>\n                <select\n                  value={orderType}\n                  onChange={(e) => setOrderType(e.target.value as OrderType)}\n                  className=\"w-full h-12 px-4 rounded-xl border border-[var(--border)] bg-[var(--surface)] text-[var(--foreground)] focus:outline-none focus:ring-2 focus:ring-[var(--primary)]\"\n                >\n                  <option value=\"Market\">Market</option>\n                  <option value=\"Limit\">Limit</option>\n                  <option value=\"Stop\">Stop</option>\n                  <option value=\"StopLimit\">Stop Limit</option>\n                </select>\n              </div>\n\n              {/* Quantity */}\n              <Input\n                label=\"Quantity\"\n                type=\"number\"\n                placeholder=\"Enter number of shares\"\n                value={quantity}\n                onChange={(e) => setQuantity(e.target.value)}\n                min=\"0\"\n                step=\"0.01\"\n              />\n\n              {/* Conditional Price Inputs */}\n              {(orderType === 'Limit' || orderType === 'StopLimit') && (\n                <Input\n                  label=\"Limit Price\"\n                  type=\"number\"\n                  placeholder=\"Enter limit price\"\n                  value={limitPrice}\n                  onChange={(e) => setLimitPrice(e.target.value)}\n                  min=\"0\"\n                  step=\"0.01\"\n                />\n              )}\n\n              {(orderType === 'Stop' || orderType === 'StopLimit') && (\n                <Input\n                  label=\"Stop Price\"\n                  type=\"number\"\n                  placeholder=\"Enter stop price\"\n                  value={stopPrice}\n                  onChange={(e) => setStopPrice(e.target.value)}\n                  min=\"0\"\n                  step=\"0.01\"\n                />\n              )}\n\n              {/* Time in Force */}\n              <div>\n                <label className=\"block text-sm font-medium text-[var(--foreground-muted)] mb-2\">\n                  Time in Force\n                </label>\n                <div className=\"flex gap-3\">\n                  <button\n                    onClick={() => setTimeInForce('Day')}\n                    className={`flex-1 px-4 py-2 rounded-lg text-sm font-semibold transition-all ${\n                      timeInForce === 'Day'\n                        ? 'bg-[var(--primary)] text-white'\n                        : 'bg-[var(--surface-elevated)] text-[var(--foreground-muted)]'\n                    }`}\n                  >\n                    Day\n                  </button>\n                  <button\n                    onClick={() => setTimeInForce('GTC')}\n                    className={`flex-1 px-4 py-2 rounded-lg text-sm font-semibold transition-all ${\n                      timeInForce === 'GTC'\n                        ? 'bg-[var(--primary)] text-white'\n                        : 'bg-[var(--surface-elevated)] text-[var(--foreground-muted)]'\n                    }`}\n                  >\n                    Good Till Canceled\n                  </button>\n                </div>\n              </div>\n\n              {/* Optional Risk Management */}\n              <details className=\"rounded-xl border border-[var(--border)] bg-[var(--surface-elevated)] p-4\">\n                <summary className=\"cursor-pointer font-semibold text-[var(--foreground)] select-none\">\n                  Risk Management (Optional)\n                </summary>\n                <div className=\"mt-4 space-y-4\">\n                  <Input\n                    label=\"Stop Loss Price\"\n                    type=\"number\"\n                    placeholder=\"Automatic sell if price drops to...\"\n                    value={stopLoss}\n                    onChange={(e) => setStopLoss(e.target.value)}\n                    min=\"0\"\n                    step=\"0.01\"\n                  />\n                  <Input\n                    label=\"Take Profit Price\"\n                    type=\"number\"\n                    placeholder=\"Automatic sell if price reaches...\"\n                    value={takeProfit}\n                    onChange={(e) => setTakeProfit(e.target.value)}\n                    min=\"0\"\n                    step=\"0.01\"\n                  />\n                </div>\n              </details>\n\n              {error && (\n                <div className=\"p-4 rounded-xl bg-[var(--danger-bg)] border border-[var(--danger)] flex items-start gap-3\">\n                  <AlertCircle className=\"w-5 h-5 text-[var(--danger)] flex-shrink-0 mt-0.5\" />\n                  <div className=\"text-sm text-[var(--danger)]\">{error}</div>\n                </div>\n              )}\n\n              {/* Actions */}\n              <div className=\"flex gap-3\">\n                <Button variant=\"outline\" onClick={onClose} className=\"flex-1\">\n                  Cancel\n                </Button>\n                <Button\n                  variant=\"default\"\n                  onClick={checkImpact}\n                  disabled={!selectedSymbol || !quantity || loading}\n                  loading={loading}\n                  className=\"flex-1\"\n                >\n                  Review Order\n                </Button>\n              </div>\n            </div>\n          )}\n\n          {/* Step 2: Review Order */}\n          {step === 'review' && tradeImpact && (\n            <div className=\"space-y-6\">\n              {/* Order Summary */}\n              <div className=\"p-6 rounded-2xl border border-[var(--border)] bg-[var(--surface-elevated)]\">\n                <h3 className=\"text-lg font-bold text-[var(--foreground)] mb-4\">\n                  Order Summary\n                </h3>\n                <div className=\"space-y-3\">\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-[var(--foreground-muted)]\">Action</span>\n                    <Badge variant={action === 'BUY' ? 'success' : 'danger'}>\n                      {action}\n                    </Badge>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-[var(--foreground-muted)]\">Symbol</span>\n                    <span className=\"font-semibold\">{selectedSymbol?.symbol}</span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-[var(--foreground-muted)]\">Quantity</span>\n                    <span className=\"font-semibold\">{quantity} shares</span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-[var(--foreground-muted)]\">Order Type</span>\n                    <span className=\"font-semibold\">{orderType}</span>\n                  </div>\n                  {limitPrice && (\n                    <div className=\"flex justify-between\">\n                      <span className=\"text-[var(--foreground-muted)]\">Limit Price</span>\n                      <span className=\"font-semibold\">{formatCurrency(parseFloat(limitPrice))}</span>\n                    </div>\n                  )}\n                </div>\n              </div>\n\n              {/* Impact Analysis */}\n              <div className=\"p-6 rounded-2xl border border-[var(--border)] bg-[var(--surface-elevated)]\">\n                <h3 className=\"text-lg font-bold text-[var(--foreground)] mb-4\">\n                  Impact Analysis\n                </h3>\n                <div className=\"space-y-3\">\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-[var(--foreground-muted)]\">Estimated Cost</span>\n                    <span className=\"font-semibold\">\n                      {formatCurrency(Math.abs(tradeImpact.remaining_cash - (tradeImpact.estimated_commissions || 0)))}\n                    </span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-[var(--foreground-muted)]\">Est. Commissions</span>\n                    <span className=\"font-semibold\">\n                      {formatCurrency(tradeImpact.estimated_commissions || 0)}\n                    </span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-[var(--foreground-muted)]\">Remaining Cash</span>\n                    <span className={`font-semibold ${tradeImpact.remaining_cash < 0 ? 'text-[var(--danger)]' : ''}`}>\n                      {formatCurrency(tradeImpact.remaining_cash)}\n                    </span>\n                  </div>\n                </div>\n\n                {tradeImpact.remaining_cash < 0 && (\n                  <div className=\"mt-4 p-3 rounded-lg bg-[var(--danger-bg)] border border-[var(--danger)]\">\n                    <div className=\"flex items-start gap-2\">\n                      <AlertCircle className=\"w-4 h-4 text-[var(--danger)] flex-shrink-0 mt-0.5\" />\n                      <div className=\"text-sm text-[var(--danger)]\">\n                        Insufficient funds to execute this trade\n                      </div>\n                    </div>\n                  </div>\n                )}\n              </div>\n\n              {/* Actions */}\n              <div className=\"flex gap-3\">\n                <Button variant=\"outline\" onClick={() => setStep('input')} className=\"flex-1\">\n                  Back\n                </Button>\n                <Button\n                  variant=\"default\"\n                  onClick={placeOrder}\n                  disabled={tradeImpact.remaining_cash < 0}\n                  className=\"flex-1\"\n                >\n                  Confirm & Execute\n                </Button>\n              </div>\n            </div>\n          )}\n\n          {/* Step 3: Executing */}\n          {step === 'executing' && (\n            <div className=\"py-12 text-center\">\n              <Loader2 className=\"w-16 h-16 animate-spin text-[var(--primary)] mx-auto mb-4\" />\n              <h3 className=\"text-xl font-bold text-[var(--foreground)] mb-2\">\n                Executing Trade...\n              </h3>\n              <p className=\"text-[var(--foreground-muted)]\">\n                Please wait while we process your order\n              </p>\n            </div>\n          )}\n\n          {/* Step 4: Success */}\n          {step === 'success' && orderResult && (\n            <div className=\"py-12 text-center\">\n              <div className=\"w-16 h-16 rounded-full bg-[var(--success-bg)] flex items-center justify-center mx-auto mb-4\">\n                <CheckCircle2 className=\"w-10 h-10 text-[var(--success)]\" />\n              </div>\n              <h3 className=\"text-2xl font-bold text-[var(--foreground)] mb-2\">\n                Trade Executed Successfully!\n              </h3>\n              <p className=\"text-[var(--foreground-muted)] mb-6\">\n                Your order has been placed with your broker\n              </p>\n\n              <div className=\"p-6 rounded-2xl border border-[var(--border)] bg-[var(--surface-elevated)] text-left max-w-md mx-auto\">\n                <div className=\"space-y-2\">\n                  <div className=\"flex justify-between text-sm\">\n                    <span className=\"text-[var(--foreground-muted)]\">Order ID</span>\n                    <span className=\"font-mono text-xs\">{orderResult.orderId}</span>\n                  </div>\n                  <div className=\"flex justify-between text-sm\">\n                    <span className=\"text-[var(--foreground-muted)]\">Status</span>\n                    <Badge variant=\"success\">{orderResult.status}</Badge>\n                  </div>\n                  <div className=\"flex justify-between text-sm\">\n                    <span className=\"text-[var(--foreground-muted)]\">Filled</span>\n                    <span className=\"font-semibold\">{orderResult.filledUnits} shares</span>\n                  </div>\n                  {orderResult.executedPrice && (\n                    <div className=\"flex justify-between text-sm\">\n                      <span className=\"text-[var(--foreground-muted)]\">Price</span>\n                      <span className=\"font-semibold\">{formatCurrency(orderResult.executedPrice)}</span>\n                    </div>\n                  )}\n                </div>\n              </div>\n\n              <Button variant=\"default\" onClick={onClose} className=\"mt-6\">\n                Done\n              </Button>\n            </div>\n          )}\n\n          {/* Step 5: Error */}\n          {step === 'error' && (\n            <div className=\"py-12 text-center\">\n              <div className=\"w-16 h-16 rounded-full bg-[var(--danger-bg)] flex items-center justify-center mx-auto mb-4\">\n                <AlertCircle className=\"w-10 h-10 text-[var(--danger)]\" />\n              </div>\n              <h3 className=\"text-2xl font-bold text-[var(--foreground)] mb-2\">\n                Trade Failed\n              </h3>\n              <p className=\"text-[var(--danger)] mb-6\">{error}</p>\n\n              <div className=\"flex gap-3 justify-center\">\n                <Button variant=\"outline\" onClick={onClose}>\n                  Close\n                </Button>\n                <Button variant=\"default\" onClick={reset}>\n                  Try Again\n                </Button>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n","/**\n * Leader Dashboard\n * Trading interface with TradingView chart and watchlist\n */\n\n\"use client\";\n\nimport { useState } from 'react';\nimport Link from 'next/link';\nimport { Button } from '@/components/ui/button';\nimport { StatCard } from '@/components/ui/stat-card';\nimport { PriceChart } from '@/components/trading/price-chart';\nimport { Watchlist } from '@/components/trading/watchlist';\nimport { TradeForm } from '@/components/trading/trade-form';\nimport { PositionsTable } from '@/components/trading/positions-table';\nimport { TradeHistory } from '@/components/trading/trade-history';\nimport {\n  TrendingUp,\n  DollarSign,\n  Activity,\n  Users,\n  Settings,\n  Bell,\n  BarChart3,\n  Maximize2,\n  Minimize2,\n  Star,\n} from 'lucide-react';\nimport { formatCurrency } from '@/lib/utils';\nimport { TradeOSLogoCompact } from '@/components/branding/tradeos-logo';\n\n// Mock data - will be replaced with real data from API\nconst PORTFOLIO_STATS = {\n  totalValue: 247832.45,\n  totalGain: 45234.89,\n  totalGainPercent: 22.35,\n  activeFollowers: 1247,\n  totalTrades: 342,\n};\n\nexport default function LeaderDashboardPage() {\n  const [selectedSymbol, setSelectedSymbol] = useState<string>('NASDAQ:AAPL');\n  const [showTradeForm, setShowTradeForm] = useState(false);\n  const [activeView, setActiveView] = useState<'positions' | 'history'>('positions');\n  const [splitScreenMode, setSplitScreenMode] = useState(false);\n\n  const handleSymbolClick = (symbol: string) => {\n    setSelectedSymbol(symbol);\n  };\n\n  const handleTradeClick = () => {\n    setShowTradeForm(true);\n    setSplitScreenMode(true); // Enable split screen when opening trade form\n  };\n\n  const handleCloseTradeForm = () => {\n    setShowTradeForm(false);\n    // Keep split screen mode as-is when closing trade form\n  };\n\n  const handleTradeSuccess = () => {\n    // Refresh positions/data\n    console.log('Trade executed successfully');\n  };\n\n  const handleSymbolChange = (symbol: string) => {\n    // Update chart when symbol is selected in trade form\n    // Convert plain symbol to TradingView format if needed\n    const tvSymbol = symbol.includes(':') ? symbol : `NASDAQ:${symbol}`;\n    setSelectedSymbol(tvSymbol);\n  };\n\n  return (\n    <div className=\"min-h-screen bg-[var(--background)]\">\n      {/* Header */}\n      <div className=\"border-b border-[var(--border)] bg-[var(--surface)] sticky top-0 z-40\">\n        <div className=\"container mx-auto px-6 py-4\">\n          <div className=\"flex items-center justify-between\">\n            <Link href=\"/\" className=\"flex items-center gap-2\">\n              <TradeOSLogoCompact />\n            </Link>\n\n            <div className=\"hidden md:flex items-center gap-6\">\n              <Link\n                href=\"/leader\"\n                className=\"text-sm font-semibold text-[var(--primary)]\"\n              >\n                Trading\n              </Link>\n              <Link\n                href=\"/leader/performance\"\n                className=\"text-sm text-[var(--foreground-muted)] hover:text-[var(--foreground)] transition-colors\"\n              >\n                Performance\n              </Link>\n              <Link\n                href=\"/leader/followers\"\n                className=\"text-sm text-[var(--foreground-muted)] hover:text-[var(--foreground)] transition-colors\"\n              >\n                Followers\n              </Link>\n              <Link\n                href=\"/leader/earnings\"\n                className=\"text-sm text-[var(--foreground-muted)] hover:text-[var(--foreground)] transition-colors\"\n              >\n                Earnings\n              </Link>\n              <Link\n                href=\"/watchlist\"\n                className=\"text-sm text-[var(--foreground-muted)] hover:text-[var(--foreground)] transition-colors flex items-center gap-1\"\n              >\n                <Star className=\"w-4 h-4\" />\n                Watchlist\n              </Link>\n            </div>\n\n            <div className=\"flex items-center gap-3\">\n              <Button variant=\"ghost\" size=\"icon\">\n                <Bell className=\"w-5 h-5\" />\n              </Button>\n              <Link href=\"/leader/settings\">\n                <Button variant=\"ghost\" size=\"icon\">\n                  <Settings className=\"w-5 h-5\" />\n                </Button>\n              </Link>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"container mx-auto px-6 py-12\">\n        {/* Page Header */}\n        <div className=\"mb-8\">\n          <h1 className=\"text-4xl font-bold mb-2\">\n            <span className=\"gradient-text\">Leader Dashboard</span>\n          </h1>\n          <p className=\"text-[var(--foreground-muted)]\">\n            Trade and manage your portfolio. Your trades are automatically copied by your followers.\n          </p>\n        </div>\n\n        {/* Portfolio Stats */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\n          <StatCard\n            label=\"Portfolio Value\"\n            value={formatCurrency(PORTFOLIO_STATS.totalValue)}\n            icon={DollarSign}\n            trend=\"up\"\n            change={{\n              value: PORTFOLIO_STATS.totalGainPercent,\n              period: \"all time\",\n            }}\n          />\n          <StatCard\n            label=\"Total Gain\"\n            value={formatCurrency(PORTFOLIO_STATS.totalGain)}\n            icon={TrendingUp}\n            trend=\"up\"\n          />\n          <StatCard\n            label=\"Total Trades\"\n            value={PORTFOLIO_STATS.totalTrades}\n            icon={Activity}\n          />\n          <StatCard\n            label=\"Active Followers\"\n            value={PORTFOLIO_STATS.activeFollowers}\n            icon={Users}\n          />\n        </div>\n\n        {/* Main Trading Interface */}\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n          {/* Chart - Takes 2 columns, or full width in split screen mode */}\n          <div className={splitScreenMode ? \"lg:col-span-3\" : \"lg:col-span-2\"}>\n            {splitScreenMode ? (\n              /* Split Screen Layout */\n              <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n                {/* Left: TradingView Chart */}\n                <div className=\"rounded-2xl border border-[var(--border)] bg-[var(--surface)] overflow-hidden\">\n                  <div className=\"p-4 border-b border-[var(--border)] flex items-center justify-between\">\n                    <h3 className=\"text-lg font-semibold text-[var(--foreground)]\">Chart</h3>\n                    <Button\n                      variant=\"ghost\"\n                      size=\"icon\"\n                      onClick={() => setSplitScreenMode(false)}\n                      className=\"gap-2\"\n                    >\n                      <Minimize2 className=\"w-4 h-4\" />\n                    </Button>\n                  </div>\n                  <PriceChart\n                    symbol={selectedSymbol}\n                    onTrade={handleTradeClick}\n                  />\n                </div>\n\n                {/* Right: Positions or Trade History */}\n                <div className=\"rounded-2xl border border-[var(--border)] bg-[var(--surface)] overflow-hidden\">\n                  <div className=\"p-4 border-b border-[var(--border)]\">\n                    <div className=\"flex items-center justify-between mb-4\">\n                      <h3 className=\"text-lg font-semibold text-[var(--foreground)]\">\n                        {activeView === 'positions' ? 'Open Positions' : 'Trade History'}\n                      </h3>\n                    </div>\n                    <div className=\"grid grid-cols-2 gap-2\">\n                      <Button\n                        variant={activeView === 'positions' ? 'default' : 'outline'}\n                        onClick={() => setActiveView('positions')}\n                        size=\"sm\"\n                        className=\"gap-2\"\n                      >\n                        <BarChart3 className=\"w-4 h-4\" />\n                        Positions\n                      </Button>\n                      <Button\n                        variant={activeView === 'history' ? 'default' : 'outline'}\n                        onClick={() => setActiveView('history')}\n                        size=\"sm\"\n                        className=\"gap-2\"\n                      >\n                        <Activity className=\"w-4 h-4\" />\n                        History\n                      </Button>\n                    </div>\n                  </div>\n                  <div className=\"p-4 max-h-[600px] overflow-y-auto\">\n                    {activeView === 'positions' ? <PositionsTable /> : <TradeHistory />}\n                  </div>\n                </div>\n              </div>\n            ) : (\n              /* Normal Layout */\n              <>\n                <PriceChart\n                  symbol={selectedSymbol}\n                  onTrade={handleTradeClick}\n                />\n\n                {/* Quick Actions */}\n                <div className=\"mt-6 grid grid-cols-3 gap-4\">\n                  <Button\n                    variant={activeView === 'positions' ? 'default' : 'outline'}\n                    onClick={() => setActiveView('positions')}\n                    className=\"gap-2\"\n                  >\n                    <BarChart3 className=\"w-5 h-5\" />\n                    View Positions\n                  </Button>\n                  <Button\n                    variant={activeView === 'history' ? 'default' : 'outline'}\n                    onClick={() => setActiveView('history')}\n                    className=\"gap-2\"\n                  >\n                    <Activity className=\"w-5 h-5\" />\n                    Trade History\n                  </Button>\n                  <Button\n                    variant=\"outline\"\n                    onClick={() => setSplitScreenMode(true)}\n                    className=\"gap-2\"\n                  >\n                    <Maximize2 className=\"w-5 h-5\" />\n                    Split Screen\n                  </Button>\n                </div>\n              </>\n            )}\n          </div>\n\n          {/* Watchlist - Takes 1 column, hidden in split screen mode */}\n          {!splitScreenMode && (\n            <div>\n              <Watchlist onSymbolClick={handleSymbolClick} />\n            </div>\n          )}\n        </div>\n\n        {/* Positions or Trade History (only shown in normal mode) */}\n        {!splitScreenMode && (\n          <div className=\"mt-8\">\n            <h2 className=\"text-2xl font-bold text-[var(--foreground)] mb-6\">\n              {activeView === 'positions' ? 'Open Positions' : 'Trade History'}\n            </h2>\n            {activeView === 'positions' ? <PositionsTable /> : <TradeHistory />}\n          </div>\n        )}\n\n        {/* Performance Metrics */}\n        <div className=\"mt-8 grid grid-cols-1 md:grid-cols-3 gap-6\">\n          <div className=\"rounded-2xl border border-[var(--border)] bg-[var(--surface)] p-6\">\n            <h3 className=\"text-sm font-semibold text-[var(--foreground-muted)] mb-2\">\n              Win Rate\n            </h3>\n            <div className=\"text-3xl font-bold text-[var(--success)]\">68.2%</div>\n            <p className=\"text-xs text-[var(--foreground-tertiary)] mt-1\">\n              234 winning trades out of 343 total\n            </p>\n          </div>\n\n          <div className=\"rounded-2xl border border-[var(--border)] bg-[var(--surface)] p-6\">\n            <h3 className=\"text-sm font-semibold text-[var(--foreground-muted)] mb-2\">\n              Avg Trade Duration\n            </h3>\n            <div className=\"text-3xl font-bold text-[var(--foreground)]\">4.2 days</div>\n            <p className=\"text-xs text-[var(--foreground-tertiary)] mt-1\">\n              Swing trading strategy\n            </p>\n          </div>\n\n          <div className=\"rounded-2xl border border-[var(--border)] bg-[var(--surface)] p-6\">\n            <h3 className=\"text-sm font-semibold text-[var(--foreground-muted)] mb-2\">\n              Sharpe Ratio\n            </h3>\n            <div className=\"text-3xl font-bold text-[var(--foreground)]\">2.14</div>\n            <p className=\"text-xs text-[var(--foreground-tertiary)] mt-1\">\n              Above industry average\n            </p>\n          </div>\n        </div>\n      </div>\n\n      {/* Trade Form Modal */}\n      {showTradeForm && (\n        <TradeForm\n          initialSymbol={selectedSymbol}\n          onClose={handleCloseTradeForm}\n          onSuccess={handleTradeSuccess}\n          onSymbolChange={handleSymbolChange}\n        />\n      )}\n    </div>\n  );\n}\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm14 10 7-7', key: 'oa77jy' }],\n  ['path', { d: 'M20 10h-6V4', key: 'mjg0md' }],\n  ['path', { d: 'm3 21 7-7', key: 'tjx5ai' }],\n  ['path', { d: 'M4 14h6v6', key: 'rmj7iw' }],\n];\n\n/**\n * @component @name Minimize2\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTQgMTAgNy03IiAvPgogIDxwYXRoIGQ9Ik0yMCAxMGgtNlY0IiAvPgogIDxwYXRoIGQ9Im0zIDIxIDctNyIgLz4KICA8cGF0aCBkPSJNNCAxNGg2djYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/minimize-2\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Minimize2 = createLucideIcon('minimize-2', __iconNode);\n\nexport default Minimize2;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M15 3h6v6', key: '1q9fwt' }],\n  ['path', { d: 'm21 3-7 7', key: '1l2asr' }],\n  ['path', { d: 'm3 21 7-7', key: 'tjx5ai' }],\n  ['path', { d: 'M9 21H3v-6', key: 'wtvkvv' }],\n];\n\n/**\n * @component @name Maximize2\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTUgM2g2djYiIC8+CiAgPHBhdGggZD0ibTIxIDMtNyA3IiAvPgogIDxwYXRoIGQ9Im0zIDIxIDctNyIgLz4KICA8cGF0aCBkPSJNOSAyMUgzdi02IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/maximize-2\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Maximize2 = createLucideIcon('maximize-2', __iconNode);\n\nexport default Maximize2;\n"],"names":[],"mappings":"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","ignoreList":[3,4]}