module.exports=[41710,62722,a=>{"use strict";a.s(["Clock",()=>c],41710);var b=a.i(70106);let c=(0,b.default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);a.s(["XCircle",()=>d],62722);let d=(0,b.default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},50429,a=>{"use strict";a.s(["Target",()=>b],50429);let b=(0,a.i(70106).default)("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},67453,a=>{"use strict";a.s(["CheckCircle2",()=>b],67453);let b=(0,a.i(70106).default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},92e3,a=>{"use strict";a.s(["AlertCircle",()=>b],92e3);let b=(0,a.i(70106).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},7554,a=>{"use strict";function b(a,c,{checkForDefaultPrevented:d=!0}={}){return function(b){if(a?.(b),!1===d||!b.defaultPrevented)return c?.(b)}}a.s(["composeEventHandlers",()=>b])},50104,a=>{"use strict";a.s(["createContext",()=>d,"createContextScope",()=>e]);var b=a.i(72131),c=a.i(87924);function d(a,d){let e=b.createContext(d),f=a=>{let{children:d,...f}=a,g=b.useMemo(()=>f,Object.values(f));return(0,c.jsx)(e.Provider,{value:g,children:d})};return f.displayName=a+"Provider",[f,function(c){let f=b.useContext(e);if(f)return f;if(void 0!==d)return d;throw Error(`\`${c}\` must be used within \`${a}\``)}]}function e(a,d=[]){let f=[],g=()=>{let c=f.map(a=>b.createContext(a));return function(d){let e=d?.[a]||c;return b.useMemo(()=>({[`__scope${a}`]:{...d,[a]:e}}),[d,e])}};return g.scopeName=a,[function(d,e){let g=b.createContext(e),h=f.length;f=[...f,e];let i=d=>{let{scope:e,children:f,...i}=d,j=e?.[a]?.[h]||g,k=b.useMemo(()=>i,Object.values(i));return(0,c.jsx)(j.Provider,{value:k,children:f})};return i.displayName=d+"Provider",[i,function(c,f){let i=f?.[a]?.[h]||g,j=b.useContext(i);if(j)return j;if(void 0!==e)return e;throw Error(`\`${c}\` must be used within \`${d}\``)}]},function(...a){let c=a[0];if(1===a.length)return c;let d=()=>{let d=a.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(a){let e=d.reduce((b,{useScope:c,scopeName:d})=>{let e=c(a)[`__scope${d}`];return{...b,...e}},{});return b.useMemo(()=>({[`__scope${c.scopeName}`]:e}),[e])}};return d.scopeName=c.scopeName,d}(g,...d)]}},72752,a=>{"use strict";a.s(["useLayoutEffect",()=>c]);var b=a.i(72131),c=globalThis?.document?b.useLayoutEffect:()=>{}},92843,a=>{"use strict";a.s(["useId",()=>f]);var b=a.i(72131),c=a.i(72752),d=b[" useId ".trim().toString()]||(()=>void 0),e=0;function f(a){let[f,g]=b.useState(d());return(0,c.useLayoutEffect)(()=>{a||g(a=>a??String(e++))},[a]),a||(f?`radix-${f}`:"")}},25152,30553,77192,a=>{"use strict";a.s(["useControllableState",()=>e],25152);var b=a.i(72131),c=a.i(72752);b[" useEffectEvent ".trim().toString()],b[" useInsertionEffect ".trim().toString()];var d=b[" useInsertionEffect ".trim().toString()]||c.useLayoutEffect;function e({prop:a,defaultProp:c,onChange:e=()=>{},caller:f}){let[g,h,i]=function({defaultProp:a,onChange:c}){let[e,f]=b.useState(a),g=b.useRef(e),h=b.useRef(c);return d(()=>{h.current=c},[c]),b.useEffect(()=>{g.current!==e&&(h.current?.(e),g.current=e)},[e,g]),[e,f,h]}({defaultProp:c,onChange:e}),j=void 0!==a,k=j?a:g;{let c=b.useRef(void 0!==a);b.useEffect(()=>{let a=c.current;if(a!==j){let b=j?"controlled":"uncontrolled";console.warn(`${f} is changing from ${a?"controlled":"uncontrolled"} to ${b}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}c.current=j},[j,f])}return[k,b.useCallback(b=>{if(j){let c="function"==typeof b?b(a):b;c!==a&&i.current?.(c)}else h(b)},[j,a,h,i])]}Symbol("RADIX:SYNC_STATE"),a.s(["Primitive",()=>i,"dispatchDiscreteCustomEvent",()=>j],30553);var f=a.i(35112),g=a.i(11011),h=a.i(87924),i=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((a,c)=>{let d=(0,g.createSlot)(`Primitive.${c}`),e=b.forwardRef((a,b)=>{let{asChild:e,...f}=a;return(0,h.jsx)(e?d:c,{...f,ref:b})});return e.displayName=`Primitive.${c}`,{...a,[c]:e}},{});function j(a,b){a&&f.flushSync(()=>a.dispatchEvent(b))}a.s(["Presence",()=>l],77192);var k=a.i(70121),l=a=>{let{present:d,children:e}=a,f=function(a){var d,e;let[f,g]=b.useState(),h=b.useRef(null),i=b.useRef(a),j=b.useRef("none"),[k,l]=(d=a?"mounted":"unmounted",e={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},b.useReducer((a,b)=>e[a][b]??a,d));return b.useEffect(()=>{let a=m(h.current);j.current="mounted"===k?a:"none"},[k]),(0,c.useLayoutEffect)(()=>{let b=h.current,c=i.current;if(c!==a){let d=j.current,e=m(b);a?l("MOUNT"):"none"===e||b?.display==="none"?l("UNMOUNT"):c&&d!==e?l("ANIMATION_OUT"):l("UNMOUNT"),i.current=a}},[a,l]),(0,c.useLayoutEffect)(()=>{if(f){let a,b=f.ownerDocument.defaultView??window,c=c=>{let d=m(h.current).includes(CSS.escape(c.animationName));if(c.target===f&&d&&(l("ANIMATION_END"),!i.current)){let c=f.style.animationFillMode;f.style.animationFillMode="forwards",a=b.setTimeout(()=>{"forwards"===f.style.animationFillMode&&(f.style.animationFillMode=c)})}},d=a=>{a.target===f&&(j.current=m(h.current))};return f.addEventListener("animationstart",d),f.addEventListener("animationcancel",c),f.addEventListener("animationend",c),()=>{b.clearTimeout(a),f.removeEventListener("animationstart",d),f.removeEventListener("animationcancel",c),f.removeEventListener("animationend",c)}}l("ANIMATION_END")},[f,l]),{isPresent:["mounted","unmountSuspended"].includes(k),ref:b.useCallback(a=>{h.current=a?getComputedStyle(a):null,g(a)},[])}}(d),g="function"==typeof e?e({present:f.isPresent}):b.Children.only(e),h=(0,k.useComposedRefs)(f.ref,function(a){let b=Object.getOwnPropertyDescriptor(a.props,"ref")?.get,c=b&&"isReactWarning"in b&&b.isReactWarning;return c?a.ref:(c=(b=Object.getOwnPropertyDescriptor(a,"ref")?.get)&&"isReactWarning"in b&&b.isReactWarning)?a.props.ref:a.props.ref||a.ref}(g));return"function"==typeof e||f.isPresent?b.cloneElement(g,{ref:h}):null};function m(a){return a?.animationName||"none"}l.displayName="Presence"},1468,a=>{"use strict";a.s(["TradeAnalyticsModal",()=>t],1468);var b=a.i(87924),c=a.i(72131),d=a.i(14574),e=a.i(99570),f=a.i(24669),g=a.i(53277),h=a.i(41710),i=a.i(90166),j=a.i(50429),k=a.i(90669),l=a.i(39761);let m=(0,a.i(70106).default)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);var n=a.i(96221),o=a.i(92e3),p=a.i(67453),q=a.i(62722),r=a.i(68114),s=a.i(38246);function t({orderId:a,open:t,onOpenChange:u}){var v,w,x;let[y,z]=(0,c.useState)(null),[A,B]=(0,c.useState)(!1),[C,D]=(0,c.useState)(null);(0,c.useEffect)(()=>{t&&a&&E()},[t,a]);let E=async()=>{if(a)try{B(!0),D(null);let b=await fetch(`/api/trades/${a}/analytics`),c=await b.json();if(!c.success)throw Error(c.error||"Failed to fetch analytics");z(c.data)}catch(a){console.error("Error fetching analytics:",a),D(a instanceof Error?a.message:"Failed to load analytics")}finally{B(!1)}};return(0,b.jsx)(d.Dialog,{open:t,onOpenChange:u,children:(0,b.jsxs)(d.DialogContent,{className:"max-w-3xl max-h-[85vh] overflow-y-auto",children:[(0,b.jsxs)(d.DialogHeader,{children:[(0,b.jsxs)(d.DialogTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(l.BarChart3,{className:"w-5 h-5 text-[var(--primary)]"}),"Trade Analytics"]}),(0,b.jsx)(d.DialogDescription,{children:"Comprehensive performance metrics and execution analysis"})]}),A&&(0,b.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,b.jsx)(n.Loader2,{className:"w-8 h-8 animate-spin text-[var(--primary)]"})}),C&&(0,b.jsxs)("div",{className:"flex items-center gap-3 p-4 rounded-lg bg-[var(--danger-bg)] border border-[var(--danger)]",children:[(0,b.jsx)(o.AlertCircle,{className:"w-5 h-5 text-[var(--danger)]"}),(0,b.jsx)("p",{className:"text-sm text-[var(--danger)]",children:C})]}),!A&&!C&&y&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("div",{className:"flex items-start justify-between pb-4 border-b border-[var(--border)]",children:(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)("h3",{className:"text-2xl font-bold text-[var(--foreground)]",children:y.symbol}),"EXECUTED"===(v=y.status)?(0,b.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md bg-[var(--success-bg)] text-[var(--success)] text-xs font-medium",children:[(0,b.jsx)(p.CheckCircle2,{className:"w-3 h-3"}),"Executed"]}):"FAILED"===v||"REJECTED"===v?(0,b.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md bg-[var(--danger-bg)] text-[var(--danger)] text-xs font-medium",children:[(0,b.jsx)(q.XCircle,{className:"w-3 h-3"}),"Failed"]}):(0,b.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md bg-[var(--info-bg)] text-[var(--info)] text-xs font-medium",children:[(0,b.jsx)(h.Clock,{className:"w-3 h-3"}),v]}),(0,b.jsxs)("span",{className:(0,r.cn)("inline-flex items-center gap-1 px-2 py-1 rounded-md text-xs font-medium","BUY"===y.action?"bg-[var(--success-bg)] text-[var(--success)]":"bg-[var(--danger-bg)] text-[var(--danger)]"),children:["BUY"===y.action?(0,b.jsx)(f.TrendingUp,{className:"w-3 h-3"}):(0,b.jsx)(g.TrendingDown,{className:"w-3 h-3"}),y.action]})]}),(0,b.jsx)("p",{className:"text-sm text-[var(--foreground-muted)]",children:y.description})]})}),(void 0!==y.netPL||void 0!==y.unrealizedPL)&&(0,b.jsxs)("div",{className:"rounded-lg border border-[var(--border)] bg-[var(--surface)] p-6",children:[(0,b.jsx)("h4",{className:"text-sm font-semibold text-[var(--foreground-muted)] mb-4",children:"Profit & Loss"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-[var(--foreground-tertiary)] mb-1",children:void 0!==y.netPL?"Realized P&L":"Unrealized P&L"}),(0,b.jsx)("p",{className:(0,r.cn)("text-2xl font-bold",(y.netPL||y.unrealizedPL||0)>=0?"text-[var(--success)]":"text-[var(--danger)]"),children:(0,r.formatCurrency)(y.netPL||y.unrealizedPL||0)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-[var(--foreground-tertiary)] mb-1",children:"Return"}),(0,b.jsx)("p",{className:(0,r.cn)("text-2xl font-bold",(y.returnPercent||0)>=0?"text-[var(--success)]":"text-[var(--danger)]"),children:void 0!==y.returnPercent?(0,r.formatPercent)(y.returnPercent):"-"})]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"rounded-lg border border-[var(--border)] bg-[var(--surface)] p-4",children:[(0,b.jsxs)("h4",{className:"text-sm font-semibold text-[var(--foreground-muted)] mb-3 flex items-center gap-2",children:[(0,b.jsx)(i.DollarSign,{className:"w-4 h-4"}),"Entry"]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-xs text-[var(--foreground-tertiary)]",children:"Price"}),(0,b.jsx)("span",{className:"text-sm font-medium text-[var(--foreground)]",children:(0,r.formatCurrency)(y.entryPrice)})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-xs text-[var(--foreground-tertiary)]",children:"Units"}),(0,b.jsx)("span",{className:"text-sm font-medium text-[var(--foreground)]",children:y.units.toLocaleString()})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-xs text-[var(--foreground-tertiary)]",children:"Total"}),(0,b.jsx)("span",{className:"text-sm font-medium text-[var(--foreground)]",children:(0,r.formatCurrency)(y.entryValue)})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-xs text-[var(--foreground-tertiary)]",children:"Date"}),(0,b.jsx)("span",{className:"text-sm font-medium text-[var(--foreground)]",children:new Date(y.entryDate).toLocaleDateString()})]})]})]}),(0,b.jsxs)("div",{className:"rounded-lg border border-[var(--border)] bg-[var(--surface)] p-4",children:[(0,b.jsxs)("h4",{className:"text-sm font-semibold text-[var(--foreground-muted)] mb-3 flex items-center gap-2",children:[(0,b.jsx)(j.Target,{className:"w-4 h-4"}),y.exitPrice?"Exit":"Current"]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-xs text-[var(--foreground-tertiary)]",children:"Price"}),(0,b.jsx)("span",{className:"text-sm font-medium text-[var(--foreground)]",children:(0,r.formatCurrency)(y.exitPrice||y.currentPrice||0)})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-xs text-[var(--foreground-tertiary)]",children:"Units"}),(0,b.jsx)("span",{className:"text-sm font-medium text-[var(--foreground)]",children:y.units.toLocaleString()})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-xs text-[var(--foreground-tertiary)]",children:"Total"}),(0,b.jsx)("span",{className:"text-sm font-medium text-[var(--foreground)]",children:(0,r.formatCurrency)(y.exitValue||y.currentValue||0)})]}),y.exitDate&&(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-xs text-[var(--foreground-tertiary)]",children:"Date"}),(0,b.jsx)("span",{className:"text-sm font-medium text-[var(--foreground)]",children:new Date(y.exitDate).toLocaleDateString()})]})]})]})]}),(0,b.jsxs)("div",{className:"rounded-lg border border-[var(--border)] bg-[var(--surface)] p-4",children:[(0,b.jsxs)("h4",{className:"text-sm font-semibold text-[var(--foreground-muted)] mb-3 flex items-center gap-2",children:[(0,b.jsx)(k.Activity,{className:"w-4 h-4"}),"Execution Quality"]}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-[var(--foreground-tertiary)] mb-1",children:"Order Type"}),(0,b.jsx)("p",{className:"text-sm font-medium text-[var(--foreground)]",children:y.orderType})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-[var(--foreground-tertiary)] mb-1",children:"Fill Rate"}),(0,b.jsx)("p",{className:"text-sm font-medium text-[var(--foreground)]",children:(0,r.formatPercent)(y.fillRate)})]}),null!==y.slippage&&void 0!==y.slippage&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-[var(--foreground-tertiary)] mb-1",children:"Slippage"}),(0,b.jsx)("p",{className:(0,r.cn)("text-sm font-medium",.5>Math.abs(y.slippage)?"text-[var(--success)]":"text-[var(--warning)]"),children:(0,r.formatPercent)(y.slippage)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-[var(--foreground-tertiary)] mb-1",children:"Fees"}),(0,b.jsx)("p",{className:"text-sm font-medium text-[var(--foreground)]",children:(0,r.formatCurrency)(y.fees)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-[var(--foreground-tertiary)] mb-1",children:"Exec Time"}),(0,b.jsx)("p",{className:"text-sm font-medium text-[var(--foreground)]",children:(w=y.executionTime)?w<60?`${Math.round(w)}s`:`${Math.round(w/60)}m`:"-"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-[var(--foreground-tertiary)] mb-1",children:"Market Hours"}),(0,b.jsx)("p",{className:"text-sm font-medium text-[var(--foreground)]",children:y.marketHours?"Yes":"No"})]})]})]}),(0,b.jsxs)("div",{className:"rounded-lg border border-[var(--border)] bg-[var(--surface)] p-4",children:[(0,b.jsxs)("h4",{className:"text-sm font-semibold text-[var(--foreground-muted)] mb-3 flex items-center gap-2",children:[(0,b.jsx)(h.Clock,{className:"w-4 h-4"}),"Position Metrics"]}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-[var(--foreground-tertiary)] mb-1",children:"Hold Duration"}),(0,b.jsx)("p",{className:"text-sm font-medium text-[var(--foreground)]",children:(x=y.holdDuration)?x<1?`${Math.round(60*x)}m`:x<24?`${Math.round(x)}h`:`${Math.round(x/24)}d`:"-"})]}),null!==y.positionSizePercent&&void 0!==y.positionSizePercent&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-[var(--foreground-tertiary)] mb-1",children:"Position Size"}),(0,b.jsx)("p",{className:"text-sm font-medium text-[var(--foreground)]",children:(0,r.formatPercent)(y.positionSizePercent)})]}),y.portfolioValueAtEntry&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-[var(--foreground-tertiary)] mb-1",children:"Portfolio Value"}),(0,b.jsx)("p",{className:"text-sm font-medium text-[var(--foreground)]",children:(0,r.formatCurrency)(y.portfolioValueAtEntry)})]})]})]}),(0,b.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-[var(--border)]",children:[(0,b.jsx)(s.default,{href:`/trades/${y.tradeId}/analytics`,className:"flex-1",children:(0,b.jsxs)(e.Button,{variant:"outline",className:"w-full gap-2",children:[(0,b.jsx)(m,{className:"w-4 h-4"}),"Detailed Analytics"]})}),(0,b.jsx)(e.Button,{variant:"default",onClick:()=>u(!1),children:"Close"})]})]})]})})}}];

//# sourceMappingURL=_eaae4362._.js.map