module.exports=[31233,a=>{"use strict";a.s(["default",()=>J],31233);var b=a.i(87924),c=a.i(72131),d=a.i(38246),e=a.i(99570),f=a.i(51620),g=a.i(37992),h=a.i(66718),i=a.i(79834),j=a.i(86304),k=a.i(15618),l=a.i(33508),m=a.i(24669),n=a.i(53277),o=a.i(87532),p=a.i(21374),q=a.i(96221);function r({onSymbolClick:a,className:d}){let[f,g]=(0,c.useState)([]),[r,s]=(0,c.useState)(!0),[t,u]=(0,c.useState)(!1),[v,w]=(0,c.useState)(""),[x,y]=(0,c.useState)([]),[z,A]=(0,c.useState)(!1),B=async()=>{try{let a=await fetch("/api/watchlist"),b=await a.json();if(b.success&&(g(b.data),b.data.length>0)){let a=b.data.map(a=>a.symbol).join(",");C(a)}}catch(a){console.error("Failed to fetch watchlist:",a)}finally{s(!1)}},C=async a=>{try{let b=await fetch(`/api/quotes?symbols=${encodeURIComponent(a)}`),c=await b.json();c.success&&g(a=>a.map(a=>{let b=c.data[a.symbol];return b?{...a,price:b.price,change:b.change,changePercent:b.changePercent}:a}))}catch(a){console.error("Failed to fetch quotes:",a)}},D=async a=>{if(w(a),!a.trim())return void y([]);A(!0);try{let b=await fetch(`/api/search-symbols?query=${encodeURIComponent(a)}`),c=await b.json();c.success&&y(c.data)}catch(a){console.error("Failed to search symbols:",a)}finally{A(!1)}},E=async(a,b)=>{try{let c=await fetch("/api/watchlist",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({symbol:a,exchange:b})}),d=await c.json();d.success?(B(),w(""),y([]),u(!1)):alert(d.error||"Failed to add symbol")}catch(a){console.error("Failed to add symbol:",a),alert("Failed to add symbol")}},F=async a=>{try{let b=await fetch(`/api/watchlist/${encodeURIComponent(a)}`,{method:"DELETE"}),c=await b.json();c.success?g(b=>b.filter(b=>b.symbol!==a)):alert(c.error||"Failed to remove symbol")}catch(a){console.error("Failed to remove symbol:",a),alert("Failed to remove symbol")}};return(0,c.useEffect)(()=>{B()},[]),(0,c.useEffect)(()=>{if(0===f.length)return;let a=setInterval(()=>{C(f.map(a=>a.symbol).join(","))},3e4);return()=>clearInterval(a)},[f]),(0,b.jsxs)("div",{className:`rounded-2xl border border-[var(--border)] bg-[var(--surface)] p-6 ${d}`,children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(p.Star,{className:"w-5 h-5 text-[var(--primary)]"}),(0,b.jsx)("h3",{className:"text-xl font-bold text-[var(--foreground)]",children:"Watchlist"})]}),(0,b.jsxs)(e.Button,{variant:"outline",size:"sm",onClick:()=>u(!t),className:"gap-2",children:[t?(0,b.jsx)(l.X,{className:"w-4 h-4"}):(0,b.jsx)(k.Plus,{className:"w-4 h-4"}),t?"Cancel":"Add"]})]}),t&&(0,b.jsxs)("div",{className:"mb-6 space-y-3",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(o.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-[var(--foreground-subtle)]"}),(0,b.jsx)(h.Input,{placeholder:"Search symbols (e.g., AAPL, Tesla)",value:v,onChange:a=>D(a.target.value),className:"pl-10"}),z&&(0,b.jsx)(q.Loader2,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 animate-spin text-[var(--primary)]"})]}),x.length>0&&(0,b.jsx)("div",{className:"max-h-48 overflow-y-auto rounded-xl border border-[var(--border)] bg-[var(--surface-elevated)]",children:x.map(a=>(0,b.jsx)("button",{onClick:()=>E(a.symbol,a.exchange),className:"w-full px-4 py-3 text-left hover:bg-[var(--surface-hover)] transition-colors border-b border-[var(--border)] last:border-0",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-semibold text-[var(--foreground)]",children:a.symbol}),(0,b.jsx)("div",{className:"text-xs text-[var(--foreground-muted)]",children:a.description})]}),(0,b.jsx)(j.Badge,{variant:"outline",className:"text-xs",children:a.exchange})]})},a.fullSymbol))})]}),r?(0,b.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,b.jsx)(q.Loader2,{className:"w-6 h-6 animate-spin text-[var(--primary)]"})}):0===f.length?(0,b.jsx)(i.EmptyState,{icon:p.Star,title:"No symbols in watchlist",description:"Add symbols to track their real-time prices and quickly access charts.",action:{label:"Add Symbol",onClick:()=>u(!0)}}):(0,b.jsx)("div",{className:"space-y-2",children:f.map(c=>{let d=c.symbol.split(":")[1]||c.symbol,e=(c.changePercent||0)>=0;return(0,b.jsx)("button",{onClick:()=>a?.(c.symbol),className:"w-full p-4 rounded-xl border border-[var(--border)] bg-[var(--surface-elevated)] hover:bg-[var(--surface-hover)] hover:border-[var(--primary)] transition-all group",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("div",{className:"flex items-center gap-3",children:(0,b.jsxs)("div",{className:"text-left",children:[(0,b.jsx)("div",{className:"font-bold text-[var(--foreground)] text-lg",children:d}),c.price&&(0,b.jsxs)("div",{className:"text-sm font-semibold text-[var(--foreground-muted)]",children:["$",c.price.toFixed(2)]})]})}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[void 0!==c.changePercent&&(0,b.jsxs)("div",{className:`flex items-center gap-1 ${e?"text-[var(--success)]":"text-[var(--danger)]"}`,children:[e?(0,b.jsx)(m.TrendingUp,{className:"w-4 h-4"}):(0,b.jsx)(n.TrendingDown,{className:"w-4 h-4"}),(0,b.jsxs)("span",{className:"text-sm font-semibold",children:[e?"+":"",c.changePercent.toFixed(2),"%"]})]}),(0,b.jsx)("button",{onClick:a=>{a.stopPropagation(),F(c.symbol)},className:"opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-[var(--danger-bg)] rounded-lg",children:(0,b.jsx)(l.X,{className:"w-4 h-4 text-[var(--danger)]"})})]})]})},c.id)})})]})}var s=a.i(92e3),t=a.i(67453),u=a.i(68114);function v({initialSymbol:a,onClose:d,onSuccess:f,onSymbolChange:g}){let[i,k]=(0,c.useState)("input"),[m,n]=(0,c.useState)("stock"),[p,r]=(0,c.useState)("BUY"),[v,w]=(0,c.useState)("Market"),[x,y]=(0,c.useState)("Day"),[z,A]=(0,c.useState)("CALL"),[B,C]=(0,c.useState)("BUY_TO_OPEN"),[D,E]=(0,c.useState)(""),[F,G]=(0,c.useState)(""),[H,I]=(0,c.useState)([]),[J,K]=(0,c.useState)(!1),[L,M]=(0,c.useState)(a||""),[N,O]=(0,c.useState)(null),[P,Q]=(0,c.useState)([]),[R,S]=(0,c.useState)(!1),[T,U]=(0,c.useState)(""),[V,W]=(0,c.useState)(""),[X,Y]=(0,c.useState)(""),[Z,$]=(0,c.useState)(""),[_,aa]=(0,c.useState)(""),[ab,ac]=(0,c.useState)(null),[ad,ae]=(0,c.useState)(null),[af,ag]=(0,c.useState)(!1),[ah,ai]=(0,c.useState)(null),[aj,ak]=(0,c.useState)(null),al=async a=>{if(M(a),!a.trim())return void Q([]);S(!0);try{let b=await fetch(`/api/symbols/search?query=${encodeURIComponent(a)}`),c=await b.json();c.success&&Q(c.data)}catch(a){console.error("Symbol search failed:",a)}finally{S(!1)}},am=async a=>{K(!0);try{let b=await fetch(`/api/options/chain?ticker=${encodeURIComponent(a)}`),c=await b.json();if(c.success&&(I(c.data),c.data.length>0)){let a=c.data[0];G(a.expiration_date),E(a.strike_price.toString())}}catch(a){console.error("Failed to fetch options chain:",a)}finally{K(!1)}},an=async()=>{if(!N||!T)return void ai("Please select a symbol and enter quantity");if("option"===m&&(!D||!F))return void ai("Please select strike price and expiration date");ag(!0),ai(null);try{let a="stock"===m?{asset_type:"stock",action:p,universal_symbol_id:N.id,order_type:v,time_in_force:x,units:parseFloat(T),price:V?parseFloat(V):void 0,stop:X?parseFloat(X):void 0}:{asset_type:"option",option_action:B,ticker:N.symbol,option_type:z,strike_price:parseFloat(D),expiration_date:F,order_type:v,time_in_force:x,quantity:parseFloat(T),price:V?parseFloat(V):void 0},b=await fetch("/api/trades/impact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),c=await b.json();if(!c.success)throw Error(c.error||"Failed to check order impact");ac(c.data.tradeImpacts[0]),ae(c.data.tradeId),k("review")}catch(a){ai(a instanceof Error?a.message:"Failed to check order impact")}finally{ag(!1)}},ao=async()=>{if(!ad)return void ai("Trade ID missing. Please start over.");k("executing"),ai(null);try{let a=await fetch("/api/trades/execute",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tradeId:ad,stopLoss:Z?parseFloat(Z):void 0,takeProfit:_?parseFloat(_):void 0})}),b=await a.json();if(!b.success)throw Error(b.error||"Failed to execute trade");ak(b.data),k("success"),setTimeout(()=>{f?.()},2e3)}catch(a){ai(a instanceof Error?a.message:"Failed to execute trade"),k("error")}};return(0,b.jsxs)("div",{className:"fixed inset-0 z-50 pointer-events-none",children:[(0,b.jsx)("div",{className:"absolute inset-y-0 right-0 w-full lg:w-1/2 bg-black/30 backdrop-blur-sm pointer-events-auto",onClick:d}),(0,b.jsxs)("div",{className:"absolute inset-y-0 right-0 w-full lg:w-1/2 xl:w-2/5 bg-[var(--surface)] shadow-2xl border-l border-[var(--border)] overflow-y-auto pointer-events-auto animate-slide-in-right",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-[var(--border)] sticky top-0 bg-[var(--surface)] z-10",children:[(0,b.jsxs)("h2",{className:"text-2xl font-bold text-[var(--foreground)]",children:["input"===i&&"Place Trade","review"===i&&"Review Order","executing"===i&&"Executing Trade","success"===i&&"Trade Executed","error"===i&&"Trade Failed"]}),(0,b.jsx)("button",{onClick:d,className:"p-2 hover:bg-[var(--surface-hover)] rounded-lg transition-colors",children:(0,b.jsx)(l.X,{className:"w-5 h-5"})})]}),(0,b.jsxs)("div",{className:"p-6",children:["input"===i&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-[var(--foreground-muted)] mb-2",children:"Asset Type"}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{onClick:()=>{n("stock"),I([])},className:`flex-1 px-6 py-3 rounded-xl font-semibold transition-all ${"stock"===m?"bg-[var(--primary)] text-white shadow-lg":"bg-[var(--surface-elevated)] text-[var(--foreground-muted)] hover:bg-[var(--surface-hover)]"}`,children:"Stock"}),(0,b.jsx)("button",{onClick:()=>{n("option"),N&&am(N.symbol)},className:`flex-1 px-6 py-3 rounded-xl font-semibold transition-all ${"option"===m?"bg-[var(--primary)] text-white shadow-lg":"bg-[var(--surface-elevated)] text-[var(--foreground-muted)] hover:bg-[var(--surface-hover)]"}`,children:"Option"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-[var(--foreground-muted)] mb-2",children:"stock"===m?"Action":"Option Action"}),"stock"===m?(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{onClick:()=>r("BUY"),className:`flex-1 px-6 py-3 rounded-xl font-semibold transition-all ${"BUY"===p?"bg-[var(--success)] text-white shadow-lg":"bg-[var(--surface-elevated)] text-[var(--foreground-muted)] hover:bg-[var(--surface-hover)]"}`,children:"BUY"}),(0,b.jsx)("button",{onClick:()=>r("SELL"),className:`flex-1 px-6 py-3 rounded-xl font-semibold transition-all ${"SELL"===p?"bg-[var(--danger)] text-white shadow-lg":"bg-[var(--surface-elevated)] text-[var(--foreground-muted)] hover:bg-[var(--surface-hover)]"}`,children:"SELL"})]}):(0,b.jsxs)("select",{value:B,onChange:a=>C(a.target.value),className:"w-full h-12 px-4 rounded-xl border border-[var(--border)] bg-[var(--surface)] text-[var(--foreground)] focus:outline-none focus:ring-2 focus:ring-[var(--primary)]",children:[(0,b.jsx)("option",{value:"BUY_TO_OPEN",children:"Buy to Open (Long)"}),(0,b.jsx)("option",{value:"SELL_TO_OPEN",children:"Sell to Open (Short)"}),(0,b.jsx)("option",{value:"BUY_TO_CLOSE",children:"Buy to Close"}),(0,b.jsx)("option",{value:"SELL_TO_CLOSE",children:"Sell to Close"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-[var(--foreground-muted)] mb-2",children:"Symbol"}),N?(0,b.jsxs)("div",{className:"flex items-center gap-3 p-4 rounded-xl bg-[var(--surface-elevated)] border border-[var(--border)]",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("div",{className:"font-bold text-[var(--foreground)]",children:N.symbol}),(0,b.jsx)("div",{className:"text-sm text-[var(--foreground-muted)]",children:N.description})]}),(0,b.jsx)(e.Button,{variant:"ghost",size:"sm",onClick:()=>O(null),children:"Change"})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(o.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-[var(--foreground-subtle)]"}),(0,b.jsx)(h.Input,{placeholder:"Search symbols (e.g., AAPL, TSLA)",value:L,onChange:a=>al(a.target.value),className:"pl-10"}),R&&(0,b.jsx)(q.Loader2,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 animate-spin text-[var(--primary)]"})]}),P.length>0&&(0,b.jsx)("div",{className:"mt-2 max-h-48 overflow-y-auto rounded-xl border border-[var(--border)] bg-[var(--surface-elevated)]",children:P.map(a=>(0,b.jsx)("button",{onClick:()=>{O(a),Q([]),g&&a&&g(a.symbol),"option"===m&&a&&am(a.symbol)},className:"w-full px-4 py-3 text-left hover:bg-[var(--surface-hover)] transition-colors border-b border-[var(--border)] last:border-0",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-semibold text-[var(--foreground)]",children:a.symbol}),(0,b.jsx)("div",{className:"text-xs text-[var(--foreground-muted)]",children:a.description})]}),(0,b.jsx)(j.Badge,{variant:"outline",children:a.type})]})},a.id))})]})]}),"option"===m&&N&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-[var(--foreground-muted)] mb-2",children:"Option Type"}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{onClick:()=>A("CALL"),className:`flex-1 px-6 py-3 rounded-xl font-semibold transition-all ${"CALL"===z?"bg-[var(--success)] text-white shadow-lg":"bg-[var(--surface-elevated)] text-[var(--foreground-muted)] hover:bg-[var(--surface-hover)]"}`,children:"CALL"}),(0,b.jsx)("button",{onClick:()=>A("PUT"),className:`flex-1 px-6 py-3 rounded-xl font-semibold transition-all ${"PUT"===z?"bg-[var(--danger)] text-white shadow-lg":"bg-[var(--surface-elevated)] text-[var(--foreground-muted)] hover:bg-[var(--surface-hover)]"}`,children:"PUT"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-[var(--foreground-muted)] mb-2",children:"Strike Price"}),J?(0,b.jsxs)("div",{className:"flex items-center justify-center p-4",children:[(0,b.jsx)(q.Loader2,{className:"w-5 h-5 animate-spin text-[var(--primary)]"}),(0,b.jsx)("span",{className:"ml-2 text-sm text-[var(--foreground-muted)]",children:"Loading options..."})]}):H.length>0?(0,b.jsxs)("select",{value:D,onChange:a=>E(a.target.value),className:"w-full h-12 px-4 rounded-xl border border-[var(--border)] bg-[var(--surface)] text-[var(--foreground)] focus:outline-none focus:ring-2 focus:ring-[var(--primary)]",children:[(0,b.jsx)("option",{value:"",children:"Select strike price"}),Array.from(new Set(H.map(a=>a.strike_price))).sort((a,b)=>a-b).map(a=>(0,b.jsxs)("option",{value:a,children:["$",a.toFixed(2)]},a))]}):(0,b.jsx)(h.Input,{type:"number",placeholder:"Enter strike price",value:D,onChange:a=>E(a.target.value),min:"0",step:"0.50"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-[var(--foreground-muted)] mb-2",children:"Expiration Date"}),J?(0,b.jsx)("div",{className:"flex items-center justify-center p-4",children:(0,b.jsx)(q.Loader2,{className:"w-5 h-5 animate-spin text-[var(--primary)]"})}):H.length>0?(0,b.jsxs)("select",{value:F,onChange:a=>G(a.target.value),className:"w-full h-12 px-4 rounded-xl border border-[var(--border)] bg-[var(--surface)] text-[var(--foreground)] focus:outline-none focus:ring-2 focus:ring-[var(--primary)]",children:[(0,b.jsx)("option",{value:"",children:"Select expiration date"}),Array.from(new Set(H.map(a=>a.expiration_date))).sort().map(a=>(0,b.jsx)("option",{value:a,children:new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})},a))]}):(0,b.jsx)(h.Input,{type:"date",value:F,onChange:a=>G(a.target.value),min:new Date().toISOString().split("T")[0]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-[var(--foreground-muted)] mb-2",children:"Order Type"}),(0,b.jsxs)("select",{value:v,onChange:a=>w(a.target.value),className:"w-full h-12 px-4 rounded-xl border border-[var(--border)] bg-[var(--surface)] text-[var(--foreground)] focus:outline-none focus:ring-2 focus:ring-[var(--primary)]",children:[(0,b.jsx)("option",{value:"Market",children:"Market"}),(0,b.jsx)("option",{value:"Limit",children:"Limit"}),(0,b.jsx)("option",{value:"Stop",children:"Stop"}),(0,b.jsx)("option",{value:"StopLimit",children:"Stop Limit"})]})]}),(0,b.jsx)(h.Input,{label:"Quantity",type:"number",placeholder:"Enter number of shares",value:T,onChange:a=>U(a.target.value),min:"0",step:"0.01"}),("Limit"===v||"StopLimit"===v)&&(0,b.jsx)(h.Input,{label:"Limit Price",type:"number",placeholder:"Enter limit price",value:V,onChange:a=>W(a.target.value),min:"0",step:"0.01"}),("Stop"===v||"StopLimit"===v)&&(0,b.jsx)(h.Input,{label:"Stop Price",type:"number",placeholder:"Enter stop price",value:X,onChange:a=>Y(a.target.value),min:"0",step:"0.01"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-[var(--foreground-muted)] mb-2",children:"Time in Force"}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{onClick:()=>y("Day"),className:`flex-1 px-4 py-2 rounded-lg text-sm font-semibold transition-all ${"Day"===x?"bg-[var(--primary)] text-white":"bg-[var(--surface-elevated)] text-[var(--foreground-muted)]"}`,children:"Day"}),(0,b.jsx)("button",{onClick:()=>y("GTC"),className:`flex-1 px-4 py-2 rounded-lg text-sm font-semibold transition-all ${"GTC"===x?"bg-[var(--primary)] text-white":"bg-[var(--surface-elevated)] text-[var(--foreground-muted)]"}`,children:"Good Till Canceled"})]})]}),(0,b.jsxs)("details",{className:"rounded-xl border border-[var(--border)] bg-[var(--surface-elevated)] p-4",children:[(0,b.jsx)("summary",{className:"cursor-pointer font-semibold text-[var(--foreground)] select-none",children:"Risk Management (Optional)"}),(0,b.jsxs)("div",{className:"mt-4 space-y-4",children:[(0,b.jsx)(h.Input,{label:"Stop Loss Price",type:"number",placeholder:"Automatic sell if price drops to...",value:Z,onChange:a=>$(a.target.value),min:"0",step:"0.01"}),(0,b.jsx)(h.Input,{label:"Take Profit Price",type:"number",placeholder:"Automatic sell if price reaches...",value:_,onChange:a=>aa(a.target.value),min:"0",step:"0.01"})]})]}),ah&&(0,b.jsxs)("div",{className:"p-4 rounded-xl bg-[var(--danger-bg)] border border-[var(--danger)] flex items-start gap-3",children:[(0,b.jsx)(s.AlertCircle,{className:"w-5 h-5 text-[var(--danger)] flex-shrink-0 mt-0.5"}),(0,b.jsx)("div",{className:"text-sm text-[var(--danger)]",children:ah})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)(e.Button,{variant:"outline",onClick:d,className:"flex-1",children:"Cancel"}),(0,b.jsx)(e.Button,{variant:"default",onClick:an,disabled:!N||!T||af,loading:af,className:"flex-1",children:"Review Order"})]})]}),"review"===i&&ab&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"p-6 rounded-2xl border border-[var(--border)] bg-[var(--surface-elevated)]",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-[var(--foreground)] mb-4",children:"Order Summary"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-[var(--foreground-muted)]",children:"Action"}),(0,b.jsx)(j.Badge,{variant:"BUY"===p?"success":"danger",children:p})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-[var(--foreground-muted)]",children:"Symbol"}),(0,b.jsx)("span",{className:"font-semibold",children:N?.symbol})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-[var(--foreground-muted)]",children:"Quantity"}),(0,b.jsxs)("span",{className:"font-semibold",children:[T," shares"]})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-[var(--foreground-muted)]",children:"Order Type"}),(0,b.jsx)("span",{className:"font-semibold",children:v})]}),V&&(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-[var(--foreground-muted)]",children:"Limit Price"}),(0,b.jsx)("span",{className:"font-semibold",children:(0,u.formatCurrency)(parseFloat(V))})]})]})]}),(0,b.jsxs)("div",{className:"p-6 rounded-2xl border border-[var(--border)] bg-[var(--surface-elevated)]",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-[var(--foreground)] mb-4",children:"Impact Analysis"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-[var(--foreground-muted)]",children:"Estimated Cost"}),(0,b.jsx)("span",{className:"font-semibold",children:(0,u.formatCurrency)(Math.abs(ab.remaining_cash-(ab.estimated_commissions||0)))})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-[var(--foreground-muted)]",children:"Est. Commissions"}),(0,b.jsx)("span",{className:"font-semibold",children:(0,u.formatCurrency)(ab.estimated_commissions||0)})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-[var(--foreground-muted)]",children:"Remaining Cash"}),(0,b.jsx)("span",{className:`font-semibold ${ab.remaining_cash<0?"text-[var(--danger)]":""}`,children:(0,u.formatCurrency)(ab.remaining_cash)})]})]}),ab.remaining_cash<0&&(0,b.jsx)("div",{className:"mt-4 p-3 rounded-lg bg-[var(--danger-bg)] border border-[var(--danger)]",children:(0,b.jsxs)("div",{className:"flex items-start gap-2",children:[(0,b.jsx)(s.AlertCircle,{className:"w-4 h-4 text-[var(--danger)] flex-shrink-0 mt-0.5"}),(0,b.jsx)("div",{className:"text-sm text-[var(--danger)]",children:"Insufficient funds to execute this trade"})]})})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)(e.Button,{variant:"outline",onClick:()=>k("input"),className:"flex-1",children:"Back"}),(0,b.jsx)(e.Button,{variant:"default",onClick:ao,disabled:ab.remaining_cash<0,className:"flex-1",children:"Confirm & Execute"})]})]}),"executing"===i&&(0,b.jsxs)("div",{className:"py-12 text-center",children:[(0,b.jsx)(q.Loader2,{className:"w-16 h-16 animate-spin text-[var(--primary)] mx-auto mb-4"}),(0,b.jsx)("h3",{className:"text-xl font-bold text-[var(--foreground)] mb-2",children:"Executing Trade..."}),(0,b.jsx)("p",{className:"text-[var(--foreground-muted)]",children:"Please wait while we process your order"})]}),"success"===i&&aj&&(0,b.jsxs)("div",{className:"py-12 text-center",children:[(0,b.jsx)("div",{className:"w-16 h-16 rounded-full bg-[var(--success-bg)] flex items-center justify-center mx-auto mb-4",children:(0,b.jsx)(t.CheckCircle2,{className:"w-10 h-10 text-[var(--success)]"})}),(0,b.jsx)("h3",{className:"text-2xl font-bold text-[var(--foreground)] mb-2",children:"Trade Executed Successfully!"}),(0,b.jsx)("p",{className:"text-[var(--foreground-muted)] mb-6",children:"Your order has been placed with your broker"}),(0,b.jsx)("div",{className:"p-6 rounded-2xl border border-[var(--border)] bg-[var(--surface-elevated)] text-left max-w-md mx-auto",children:(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-[var(--foreground-muted)]",children:"Order ID"}),(0,b.jsx)("span",{className:"font-mono text-xs",children:aj.orderId})]}),(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-[var(--foreground-muted)]",children:"Status"}),(0,b.jsx)(j.Badge,{variant:"success",children:aj.status})]}),(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-[var(--foreground-muted)]",children:"Filled"}),(0,b.jsxs)("span",{className:"font-semibold",children:[aj.filledUnits," shares"]})]}),aj.executedPrice&&(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-[var(--foreground-muted)]",children:"Price"}),(0,b.jsx)("span",{className:"font-semibold",children:(0,u.formatCurrency)(aj.executedPrice)})]})]})}),(0,b.jsx)(e.Button,{variant:"default",onClick:d,className:"mt-6",children:"Done"})]}),"error"===i&&(0,b.jsxs)("div",{className:"py-12 text-center",children:[(0,b.jsx)("div",{className:"w-16 h-16 rounded-full bg-[var(--danger-bg)] flex items-center justify-center mx-auto mb-4",children:(0,b.jsx)(s.AlertCircle,{className:"w-10 h-10 text-[var(--danger)]"})}),(0,b.jsx)("h3",{className:"text-2xl font-bold text-[var(--foreground)] mb-2",children:"Trade Failed"}),(0,b.jsx)("p",{className:"text-[var(--danger)] mb-6",children:ah}),(0,b.jsxs)("div",{className:"flex gap-3 justify-center",children:[(0,b.jsx)(e.Button,{variant:"outline",onClick:d,children:"Close"}),(0,b.jsx)(e.Button,{variant:"default",onClick:()=>{k("input"),n("stock"),r("BUY"),w("Market"),O(null),U(""),W(""),Y(""),$(""),aa(""),A("CALL"),C("BUY_TO_OPEN"),E(""),G(""),I([]),ac(null),ae(null),ai(null)},children:"Try Again"})]})]})]})]})]})}var w=a.i(82271),x=a.i(30533),y=a.i(90166),z=a.i(90669),A=a.i(60246),B=a.i(21161),C=a.i(23312),D=a.i(39761),E=a.i(70106);let F=(0,E.default)("maximize-2",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]]),G=(0,E.default)("minimize-2",[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]]);var H=a.i(77137);let I={totalValue:247832.45,totalGain:45234.89,totalGainPercent:22.35,activeFollowers:1247,totalTrades:342};function J(){let[a,h]=(0,c.useState)("NASDAQ:AAPL"),[i,j]=(0,c.useState)(!1),[k,l]=(0,c.useState)("positions"),[n,o]=(0,c.useState)(!1),q=()=>{j(!0),o(!0)};return(0,b.jsxs)("div",{className:"min-h-screen bg-[var(--background)]",children:[(0,b.jsx)("div",{className:"border-b border-[var(--border)] bg-[var(--surface)] sticky top-0 z-40",children:(0,b.jsx)("div",{className:"container mx-auto px-6 py-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)(d.default,{href:"/",className:"flex items-center gap-2",children:(0,b.jsx)(H.TradeOSLogoCompact,{})}),(0,b.jsxs)("div",{className:"hidden md:flex items-center gap-6",children:[(0,b.jsx)(d.default,{href:"/leader",className:"text-sm font-semibold text-[var(--primary)]",children:"Trading"}),(0,b.jsx)(d.default,{href:"/leader/performance",className:"text-sm text-[var(--foreground-muted)] hover:text-[var(--foreground)] transition-colors",children:"Performance"}),(0,b.jsx)(d.default,{href:"/leader/followers",className:"text-sm text-[var(--foreground-muted)] hover:text-[var(--foreground)] transition-colors",children:"Followers"}),(0,b.jsx)(d.default,{href:"/leader/earnings",className:"text-sm text-[var(--foreground-muted)] hover:text-[var(--foreground)] transition-colors",children:"Earnings"}),(0,b.jsxs)(d.default,{href:"/watchlist",className:"text-sm text-[var(--foreground-muted)] hover:text-[var(--foreground)] transition-colors flex items-center gap-1",children:[(0,b.jsx)(p.Star,{className:"w-4 h-4"}),"Watchlist"]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(e.Button,{variant:"ghost",size:"icon",children:(0,b.jsx)(C.Bell,{className:"w-5 h-5"})}),(0,b.jsx)(d.default,{href:"/leader/settings",children:(0,b.jsx)(e.Button,{variant:"ghost",size:"icon",children:(0,b.jsx)(B.Settings,{className:"w-5 h-5"})})})]})]})})}),(0,b.jsxs)("div",{className:"container mx-auto px-6 py-12",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h1",{className:"text-4xl font-bold mb-2",children:(0,b.jsx)("span",{className:"gradient-text",children:"Leader Dashboard"})}),(0,b.jsx)("p",{className:"text-[var(--foreground-muted)]",children:"Trade and manage your portfolio. Your trades are automatically copied by your followers."})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,b.jsx)(f.StatCard,{label:"Portfolio Value",value:(0,u.formatCurrency)(I.totalValue),icon:y.DollarSign,trend:"up",change:{value:I.totalGainPercent,period:"all time"}}),(0,b.jsx)(f.StatCard,{label:"Total Gain",value:(0,u.formatCurrency)(I.totalGain),icon:m.TrendingUp,trend:"up"}),(0,b.jsx)(f.StatCard,{label:"Total Trades",value:I.totalTrades,icon:z.Activity}),(0,b.jsx)(f.StatCard,{label:"Active Followers",value:I.activeFollowers,icon:A.Users})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,b.jsx)("div",{className:n?"lg:col-span-3":"lg:col-span-2",children:n?(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"rounded-2xl border border-[var(--border)] bg-[var(--surface)] overflow-hidden",children:[(0,b.jsxs)("div",{className:"p-4 border-b border-[var(--border)] flex items-center justify-between",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-[var(--foreground)]",children:"Chart"}),(0,b.jsx)(e.Button,{variant:"ghost",size:"icon",onClick:()=>o(!1),className:"gap-2",children:(0,b.jsx)(G,{className:"w-4 h-4"})})]}),(0,b.jsx)(g.PriceChart,{symbol:a,onTrade:q})]}),(0,b.jsxs)("div",{className:"rounded-2xl border border-[var(--border)] bg-[var(--surface)] overflow-hidden",children:[(0,b.jsxs)("div",{className:"p-4 border-b border-[var(--border)]",children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,b.jsx)("h3",{className:"text-lg font-semibold text-[var(--foreground)]",children:"positions"===k?"Open Positions":"Trade History"})}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,b.jsxs)(e.Button,{variant:"positions"===k?"default":"outline",onClick:()=>l("positions"),size:"sm",className:"gap-2",children:[(0,b.jsx)(D.BarChart3,{className:"w-4 h-4"}),"Positions"]}),(0,b.jsxs)(e.Button,{variant:"history"===k?"default":"outline",onClick:()=>l("history"),size:"sm",className:"gap-2",children:[(0,b.jsx)(z.Activity,{className:"w-4 h-4"}),"History"]})]})]}),(0,b.jsx)("div",{className:"p-4 max-h-[600px] overflow-y-auto",children:"positions"===k?(0,b.jsx)(w.PositionsTable,{}):(0,b.jsx)(x.TradeHistory,{})})]})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(g.PriceChart,{symbol:a,onTrade:q}),(0,b.jsxs)("div",{className:"mt-6 grid grid-cols-3 gap-4",children:[(0,b.jsxs)(e.Button,{variant:"positions"===k?"default":"outline",onClick:()=>l("positions"),className:"gap-2",children:[(0,b.jsx)(D.BarChart3,{className:"w-5 h-5"}),"View Positions"]}),(0,b.jsxs)(e.Button,{variant:"history"===k?"default":"outline",onClick:()=>l("history"),className:"gap-2",children:[(0,b.jsx)(z.Activity,{className:"w-5 h-5"}),"Trade History"]}),(0,b.jsxs)(e.Button,{variant:"outline",onClick:()=>o(!0),className:"gap-2",children:[(0,b.jsx)(F,{className:"w-5 h-5"}),"Split Screen"]})]})]})}),!n&&(0,b.jsx)("div",{children:(0,b.jsx)(r,{onSymbolClick:a=>{h(a)}})})]}),!n&&(0,b.jsxs)("div",{className:"mt-8",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-[var(--foreground)] mb-6",children:"positions"===k?"Open Positions":"Trade History"}),"positions"===k?(0,b.jsx)(w.PositionsTable,{}):(0,b.jsx)(x.TradeHistory,{})]}),(0,b.jsxs)("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,b.jsxs)("div",{className:"rounded-2xl border border-[var(--border)] bg-[var(--surface)] p-6",children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-[var(--foreground-muted)] mb-2",children:"Win Rate"}),(0,b.jsx)("div",{className:"text-3xl font-bold text-[var(--success)]",children:"68.2%"}),(0,b.jsx)("p",{className:"text-xs text-[var(--foreground-tertiary)] mt-1",children:"234 winning trades out of 343 total"})]}),(0,b.jsxs)("div",{className:"rounded-2xl border border-[var(--border)] bg-[var(--surface)] p-6",children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-[var(--foreground-muted)] mb-2",children:"Avg Trade Duration"}),(0,b.jsx)("div",{className:"text-3xl font-bold text-[var(--foreground)]",children:"4.2 days"}),(0,b.jsx)("p",{className:"text-xs text-[var(--foreground-tertiary)] mt-1",children:"Swing trading strategy"})]}),(0,b.jsxs)("div",{className:"rounded-2xl border border-[var(--border)] bg-[var(--surface)] p-6",children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-[var(--foreground-muted)] mb-2",children:"Sharpe Ratio"}),(0,b.jsx)("div",{className:"text-3xl font-bold text-[var(--foreground)]",children:"2.14"}),(0,b.jsx)("p",{className:"text-xs text-[var(--foreground-tertiary)] mt-1",children:"Above industry average"})]})]})]}),i&&(0,b.jsx)(v,{initialSymbol:a,onClose:()=>{j(!1)},onSuccess:()=>{console.log("Trade executed successfully")},onSymbolChange:a=>{h(a.includes(":")?a:`NASDAQ:${a}`)}})]})}}];

//# sourceMappingURL=src_app_leader_page_tsx_6c3a2234._.js.map