{"version":3,"sources":["turbopack:///[project]/src/app/trades/[id]/analytics/page.tsx"],"sourcesContent":["/**\n * Trade Analytics Detail Page - Full comprehensive analytics view\n * /trades/[id]/analytics\n */\n\n\"use client\";\n\nimport { useState, useEffect, use } from 'react';\nimport Link from 'next/link';\nimport { Button } from '@/components/ui/button';\nimport { StatCard } from '@/components/ui/stat-card';\nimport {\n  TrendingUp,\n  TrendingDown,\n  Clock,\n  DollarSign,\n  Target,\n  Activity,\n  BarChart3,\n  ArrowLeft,\n  RefreshCw,\n  Download,\n  CheckCircle2,\n  XCircle,\n  AlertCircle,\n  Bell,\n  Settings,\n} from 'lucide-react';\nimport { formatCurrency, formatPercent, cn } from '@/lib/utils';\nimport { TradeOSLogoCompact } from '@/components/branding/tradeos-logo';\nimport {\n  LineChart,\n  Line,\n  AreaChart,\n  Area,\n  BarChart,\n  Bar,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  ResponsiveContainer,\n  PieChart,\n  Pie,\n  Cell,\n  Legend,\n} from 'recharts';\n\ninterface Analytics {\n  tradeId: string;\n  symbol: string;\n  description: string;\n  action: 'BUY' | 'SELL';\n  status: string;\n  entryDate: string;\n  entryPrice: number;\n  units: number;\n  entryValue: number;\n  exitDate?: string;\n  exitPrice?: number;\n  exitValue?: number;\n  grossPL?: number;\n  fees: number;\n  netPL?: number;\n  returnPercent?: number;\n  orderType: string;\n  limitPrice?: number;\n  slippage?: number;\n  fillRate: number;\n  holdDuration?: number;\n  executionTime?: number;\n  portfolioValueAtEntry?: number;\n  positionSizePercent?: number;\n  currentPrice?: number;\n  currentValue?: number;\n  unrealizedPL?: number;\n  marketHours: boolean;\n}\n\nexport default function TradeAnalyticsPage({\n  params,\n}: {\n  params: Promise<{ id: string }>;\n}) {\n  const resolvedParams = use(params);\n  const [analytics, setAnalytics] = useState<Analytics | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    fetchAnalytics();\n  }, [resolvedParams.id]);\n\n  const fetchAnalytics = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n\n      const response = await fetch(`/api/trades/${resolvedParams.id}/analytics`);\n      const result = await response.json();\n\n      if (!result.success) {\n        throw new Error(result.error || 'Failed to fetch analytics');\n      }\n\n      setAnalytics(result.data);\n    } catch (err) {\n      console.error('Error fetching analytics:', err);\n      setError(err instanceof Error ? err.message : 'Failed to load analytics');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const formatDuration = (hours?: number) => {\n    if (!hours) return '-';\n    if (hours < 1) return `${Math.round(hours * 60)} minutes`;\n    if (hours < 24) return `${Math.round(hours)} hours`;\n    const days = Math.floor(hours / 24);\n    const remainingHours = Math.round(hours % 24);\n    return remainingHours > 0 ? `${days}d ${remainingHours}h` : `${days} days`;\n  };\n\n  const getStatusBadge = (status: string) => {\n    if (status === 'EXECUTED') {\n      return (\n        <span className=\"inline-flex items-center gap-1 px-3 py-1.5 rounded-lg bg-[var(--success-bg)] text-[var(--success)] text-sm font-medium\">\n          <CheckCircle2 className=\"w-4 h-4\" />\n          Executed\n        </span>\n      );\n    }\n    if (status === 'FAILED' || status === 'REJECTED') {\n      return (\n        <span className=\"inline-flex items-center gap-1 px-3 py-1.5 rounded-lg bg-[var(--danger-bg)] text-[var(--danger)] text-sm font-medium\">\n          <XCircle className=\"w-4 h-4\" />\n          Failed\n        </span>\n      );\n    }\n    return (\n      <span className=\"inline-flex items-center gap-1 px-3 py-1.5 rounded-lg bg-[var(--info-bg)] text-[var(--info)] text-sm font-medium\">\n        <Clock className=\"w-4 h-4\" />\n        {status}\n      </span>\n    );\n  };\n\n  // Mock data for charts - in production, fetch historical price data\n  const priceHistoryData = analytics\n    ? [\n        { time: 'Entry', price: analytics.entryPrice },\n        { time: '+1h', price: analytics.entryPrice * 1.005 },\n        { time: '+2h', price: analytics.entryPrice * 0.998 },\n        { time: '+4h', price: analytics.entryPrice * 1.012 },\n        { time: 'Current', price: analytics.currentPrice || analytics.exitPrice || analytics.entryPrice },\n      ]\n    : [];\n\n  const plBreakdownData = analytics\n    ? [\n        { name: 'Gross P&L', value: Math.abs(analytics.grossPL || 0), color: 'var(--primary)' },\n        { name: 'Fees', value: analytics.fees, color: 'var(--danger)' },\n      ]\n    : [];\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-[var(--background)] flex items-center justify-center\">\n        <div className=\"flex flex-col items-center gap-4\">\n          <RefreshCw className=\"w-8 h-8 animate-spin text-[var(--primary)]\" />\n          <p className=\"text-[var(--foreground-muted)]\">Loading trade analytics...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (error || !analytics) {\n    return (\n      <div className=\"min-h-screen bg-[var(--background)] flex items-center justify-center\">\n        <div className=\"flex flex-col items-center gap-4 max-w-md text-center\">\n          <AlertCircle className=\"w-12 h-12 text-[var(--danger)]\" />\n          <h2 className=\"text-xl font-semibold text-[var(--foreground)]\">\n            Failed to Load Analytics\n          </h2>\n          <p className=\"text-[var(--foreground-muted)]\">\n            {error || 'Trade not found'}\n          </p>\n          <Link href=\"/dashboard/trades\">\n            <Button variant=\"outline\" className=\"gap-2\">\n              <ArrowLeft className=\"w-4 h-4\" />\n              Back to Trades\n            </Button>\n          </Link>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-[var(--background)]\">\n      {/* Header */}\n      <div className=\"border-b border-[var(--border)] bg-[var(--surface)] sticky top-0 z-40\">\n        <div className=\"container mx-auto px-6 py-4\">\n          <div className=\"flex items-center justify-between\">\n            <Link href=\"/dashboard\" className=\"flex items-center gap-2\">\n              <TradeOSLogoCompact />\n            </Link>\n\n            <div className=\"flex items-center gap-3\">\n              <Button\n                variant=\"ghost\"\n                size=\"icon\"\n                onClick={fetchAnalytics}\n              >\n                <RefreshCw className=\"w-5 h-5\" />\n              </Button>\n              <Button variant=\"ghost\" size=\"icon\">\n                <Bell className=\"w-5 h-5\" />\n              </Button>\n              <Button variant=\"ghost\" size=\"icon\">\n                <Settings className=\"w-5 h-5\" />\n              </Button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"container mx-auto px-6 py-12\">\n        {/* Page Header */}\n        <div className=\"mb-8\">\n          <Link\n            href=\"/dashboard/trades\"\n            className=\"text-sm text-[var(--foreground-muted)] hover:text-[var(--foreground)] mb-4 inline-flex items-center gap-2\"\n          >\n            <ArrowLeft className=\"w-4 h-4\" />\n            Back to Trade History\n          </Link>\n          <div className=\"flex items-start justify-between mt-4\">\n            <div>\n              <div className=\"flex items-center gap-3 mb-2\">\n                <h1 className=\"text-4xl font-bold\">\n                  <span className=\"gradient-text\">{analytics.symbol}</span>\n                </h1>\n                {getStatusBadge(analytics.status)}\n                <span\n                  className={cn(\n                    \"inline-flex items-center gap-1 px-3 py-1.5 rounded-lg text-sm font-medium\",\n                    analytics.action === 'BUY'\n                      ? 'bg-[var(--success-bg)] text-[var(--success)]'\n                      : 'bg-[var(--danger-bg)] text-[var(--danger)]'\n                  )}\n                >\n                  {analytics.action === 'BUY' ? (\n                    <TrendingUp className=\"w-4 h-4\" />\n                  ) : (\n                    <TrendingDown className=\"w-4 h-4\" />\n                  )}\n                  {analytics.action}\n                </span>\n              </div>\n              <p className=\"text-[var(--foreground-muted)]\">\n                {analytics.description}\n              </p>\n            </div>\n\n            <Button variant=\"outline\" className=\"gap-2\">\n              <Download className=\"w-5 h-5\" />\n              Export Report\n            </Button>\n          </div>\n        </div>\n\n        {/* Key Metrics */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12\">\n          <StatCard\n            label={analytics.netPL !== undefined ? \"Net P&L\" : \"Unrealized P&L\"}\n            value={formatCurrency(analytics.netPL || analytics.unrealizedPL || 0)}\n            icon={analytics.netPL !== undefined && analytics.netPL >= 0 ? TrendingUp : TrendingDown}\n            trend={analytics.netPL !== undefined && analytics.netPL >= 0 ? \"up\" : \"down\"}\n          />\n          <StatCard\n            label=\"Entry Value\"\n            value={formatCurrency(analytics.entryValue)}\n            icon={DollarSign}\n          />\n          <StatCard\n            label=\"Current Value\"\n            value={formatCurrency(analytics.currentValue || analytics.exitValue || 0)}\n            icon={Target}\n          />\n          <StatCard\n            label=\"Hold Duration\"\n            value={formatDuration(analytics.holdDuration)}\n            icon={Clock}\n          />\n        </div>\n\n        {/* Charts Row */}\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-12\">\n          {/* Price History Chart */}\n          <div className=\"rounded-2xl border border-[var(--border)] bg-[var(--surface)] p-6\">\n            <h3 className=\"text-lg font-semibold text-[var(--foreground)] mb-4\">\n              Price Movement\n            </h3>\n            <ResponsiveContainer width=\"100%\" height={250}>\n              <AreaChart data={priceHistoryData}>\n                <defs>\n                  <linearGradient id=\"priceGradient\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n                    <stop offset=\"5%\" stopColor=\"rgb(var(--primary))\" stopOpacity={0.3} />\n                    <stop offset=\"95%\" stopColor=\"rgb(var(--primary))\" stopOpacity={0} />\n                  </linearGradient>\n                </defs>\n                <CartesianGrid strokeDasharray=\"3 3\" stroke=\"var(--border)\" />\n                <XAxis\n                  dataKey=\"time\"\n                  stroke=\"var(--foreground-muted)\"\n                  style={{ fontSize: '12px' }}\n                />\n                <YAxis\n                  stroke=\"var(--foreground-muted)\"\n                  style={{ fontSize: '12px' }}\n                  tickFormatter={(value) => `$${value.toFixed(2)}`}\n                />\n                <Tooltip\n                  contentStyle={{\n                    backgroundColor: 'var(--surface)',\n                    border: '1px solid var(--border)',\n                    borderRadius: '8px',\n                  }}\n                  formatter={(value: any) => [`$${value.toFixed(2)}`, 'Price']}\n                />\n                <Area\n                  type=\"monotone\"\n                  dataKey=\"price\"\n                  stroke=\"rgb(var(--primary))\"\n                  fill=\"url(#priceGradient)\"\n                  strokeWidth={2}\n                />\n              </AreaChart>\n            </ResponsiveContainer>\n          </div>\n\n          {/* P&L Breakdown */}\n          <div className=\"rounded-2xl border border-[var(--border)] bg-[var(--surface)] p-6\">\n            <h3 className=\"text-lg font-semibold text-[var(--foreground)] mb-4\">\n              P&L Breakdown\n            </h3>\n            <div className=\"space-y-4\">\n              <div className=\"flex justify-between items-center p-3 rounded-lg bg-[var(--surface-elevated)]\">\n                <span className=\"text-sm text-[var(--foreground-muted)]\">Gross P&L</span>\n                <span\n                  className={cn(\n                    \"text-lg font-semibold\",\n                    (analytics.grossPL || 0) >= 0 ? 'text-[var(--success)]' : 'text-[var(--danger)]'\n                  )}\n                >\n                  {formatCurrency(analytics.grossPL || 0)}\n                </span>\n              </div>\n              <div className=\"flex justify-between items-center p-3 rounded-lg bg-[var(--surface-elevated)]\">\n                <span className=\"text-sm text-[var(--foreground-muted)]\">Fees</span>\n                <span className=\"text-lg font-semibold text-[var(--danger)]\">\n                  -{formatCurrency(analytics.fees)}\n                </span>\n              </div>\n              <div className=\"flex justify-between items-center p-3 rounded-lg bg-[var(--primary-bg)] border-2 border-[var(--primary)]\">\n                <span className=\"text-sm font-semibold text-[var(--foreground)]\">Net P&L</span>\n                <span\n                  className={cn(\n                    \"text-xl font-bold\",\n                    (analytics.netPL || analytics.unrealizedPL || 0) >= 0\n                      ? 'text-[var(--success)]'\n                      : 'text-[var(--danger)]'\n                  )}\n                >\n                  {formatCurrency(analytics.netPL || analytics.unrealizedPL || 0)}\n                </span>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Detailed Metrics */}\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12\">\n          {/* Execution Quality */}\n          <div className=\"rounded-2xl border border-[var(--border)] bg-[var(--surface)] p-6\">\n            <h3 className=\"text-lg font-semibold text-[var(--foreground)] mb-4 flex items-center gap-2\">\n              <Activity className=\"w-5 h-5 text-[var(--primary)]\" />\n              Execution Quality\n            </h3>\n            <div className=\"space-y-3\">\n              <div className=\"flex justify-between\">\n                <span className=\"text-sm text-[var(--foreground-muted)]\">Order Type</span>\n                <span className=\"text-sm font-semibold text-[var(--foreground)]\">\n                  {analytics.orderType}\n                </span>\n              </div>\n              <div className=\"flex justify-between\">\n                <span className=\"text-sm text-[var(--foreground-muted)]\">Fill Rate</span>\n                <span className=\"text-sm font-semibold text-[var(--foreground)]\">\n                  {formatPercent(analytics.fillRate)}\n                </span>\n              </div>\n              {analytics.slippage !== null && analytics.slippage !== undefined && (\n                <div className=\"flex justify-between\">\n                  <span className=\"text-sm text-[var(--foreground-muted)]\">Slippage</span>\n                  <span\n                    className={cn(\n                      \"text-sm font-semibold\",\n                      Math.abs(analytics.slippage) < 0.5\n                        ? 'text-[var(--success)]'\n                        : 'text-[var(--warning)]'\n                    )}\n                  >\n                    {formatPercent(analytics.slippage)}\n                  </span>\n                </div>\n              )}\n              <div className=\"flex justify-between\">\n                <span className=\"text-sm text-[var(--foreground-muted)]\">Execution Time</span>\n                <span className=\"text-sm font-semibold text-[var(--foreground)]\">\n                  {analytics.executionTime ? `${Math.round(analytics.executionTime)}s` : '-'}\n                </span>\n              </div>\n            </div>\n          </div>\n\n          {/* Position Sizing */}\n          <div className=\"rounded-2xl border border-[var(--border)] bg-[var(--surface)] p-6\">\n            <h3 className=\"text-lg font-semibold text-[var(--foreground)] mb-4 flex items-center gap-2\">\n              <BarChart3 className=\"w-5 h-5 text-[var(--primary)]\" />\n              Position Sizing\n            </h3>\n            <div className=\"space-y-3\">\n              <div className=\"flex justify-between\">\n                <span className=\"text-sm text-[var(--foreground-muted)]\">Position Size</span>\n                <span className=\"text-sm font-semibold text-[var(--foreground)]\">\n                  {analytics.positionSizePercent\n                    ? formatPercent(analytics.positionSizePercent)\n                    : '-'}\n                </span>\n              </div>\n              <div className=\"flex justify-between\">\n                <span className=\"text-sm text-[var(--foreground-muted)]\">Entry Value</span>\n                <span className=\"text-sm font-semibold text-[var(--foreground)]\">\n                  {formatCurrency(analytics.entryValue)}\n                </span>\n              </div>\n              <div className=\"flex justify-between\">\n                <span className=\"text-sm text-[var(--foreground-muted)]\">Portfolio Value</span>\n                <span className=\"text-sm font-semibold text-[var(--foreground)]\">\n                  {analytics.portfolioValueAtEntry\n                    ? formatCurrency(analytics.portfolioValueAtEntry)\n                    : '-'}\n                </span>\n              </div>\n              <div className=\"flex justify-between\">\n                <span className=\"text-sm text-[var(--foreground-muted)]\">Units</span>\n                <span className=\"text-sm font-semibold text-[var(--foreground)]\">\n                  {analytics.units.toLocaleString()}\n                </span>\n              </div>\n            </div>\n          </div>\n\n          {/* Time Metrics */}\n          <div className=\"rounded-2xl border border-[var(--border)] bg-[var(--surface)] p-6\">\n            <h3 className=\"text-lg font-semibold text-[var(--foreground)] mb-4 flex items-center gap-2\">\n              <Clock className=\"w-5 h-5 text-[var(--primary)]\" />\n              Time Metrics\n            </h3>\n            <div className=\"space-y-3\">\n              <div className=\"flex justify-between\">\n                <span className=\"text-sm text-[var(--foreground-muted)]\">Entry Date</span>\n                <span className=\"text-sm font-semibold text-[var(--foreground)]\">\n                  {new Date(analytics.entryDate).toLocaleDateString()}\n                </span>\n              </div>\n              <div className=\"flex justify-between\">\n                <span className=\"text-sm text-[var(--foreground-muted)]\">Entry Time</span>\n                <span className=\"text-sm font-semibold text-[var(--foreground)]\">\n                  {new Date(analytics.entryDate).toLocaleTimeString()}\n                </span>\n              </div>\n              <div className=\"flex justify-between\">\n                <span className=\"text-sm text-[var(--foreground-muted)]\">Hold Duration</span>\n                <span className=\"text-sm font-semibold text-[var(--foreground)]\">\n                  {formatDuration(analytics.holdDuration)}\n                </span>\n              </div>\n              <div className=\"flex justify-between\">\n                <span className=\"text-sm text-[var(--foreground-muted)]\">Market Hours</span>\n                <span className=\"text-sm font-semibold text-[var(--foreground)]\">\n                  {analytics.marketHours ? 'Yes' : 'No'}\n                </span>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Trade Timeline */}\n        <div className=\"rounded-2xl border border-[var(--border)] bg-[var(--surface)] p-6\">\n          <h3 className=\"text-lg font-semibold text-[var(--foreground)] mb-6\">\n            Trade Timeline\n          </h3>\n          <div className=\"relative pl-8\">\n            <div className=\"absolute left-2 top-0 bottom-0 w-0.5 bg-[var(--border)]\"></div>\n\n            {/* Entry */}\n            <div className=\"relative mb-8\">\n              <div className=\"absolute -left-[21px] w-5 h-5 rounded-full bg-[var(--success)] flex items-center justify-center\">\n                <div className=\"w-2 h-2 rounded-full bg-white\"></div>\n              </div>\n              <div>\n                <p className=\"text-sm font-semibold text-[var(--foreground)] mb-1\">\n                  Order Placed\n                </p>\n                <p className=\"text-xs text-[var(--foreground-muted)] mb-2\">\n                  {new Date(analytics.entryDate).toLocaleString()}\n                </p>\n                <div className=\"text-xs text-[var(--foreground-secondary)]\">\n                  {analytics.action} {analytics.units} units of {analytics.symbol} @ {formatCurrency(analytics.entryPrice)}\n                </div>\n              </div>\n            </div>\n\n            {/* Execution */}\n            {analytics.exitDate && (\n              <div className=\"relative\">\n                <div className=\"absolute -left-[21px] w-5 h-5 rounded-full bg-[var(--primary)] flex items-center justify-center\">\n                  <div className=\"w-2 h-2 rounded-full bg-white\"></div>\n                </div>\n                <div>\n                  <p className=\"text-sm font-semibold text-[var(--foreground)] mb-1\">\n                    Order Executed\n                  </p>\n                  <p className=\"text-xs text-[var(--foreground-muted)] mb-2\">\n                    {new Date(analytics.exitDate).toLocaleString()}\n                  </p>\n                  <div className=\"text-xs text-[var(--foreground-secondary)]\">\n                    Filled @ {formatCurrency(analytics.exitPrice || 0)}\n                  </div>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}