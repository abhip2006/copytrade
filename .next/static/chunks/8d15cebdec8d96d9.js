(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,37727,e=>{"use strict";e.s(["X",()=>t],37727);let t=(0,e.i(75254).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},16715,e=>{"use strict";e.s(["RefreshCw",()=>t],16715);let t=(0,e.i(75254).default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},71689,e=>{"use strict";e.s(["ArrowLeft",()=>t],71689);let t=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},35408,e=>{"use strict";e.s(["TrendingDown",()=>t],35408);let t=(0,e.i(75254).default)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]])},21218,e=>{"use strict";e.s(["Activity",()=>t],21218);let t=(0,e.i(75254).default)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]])},25652,e=>{"use strict";e.s(["TrendingUp",()=>t],25652);let t=(0,e.i(75254).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},33525,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"warnOnce",{enumerable:!0,get:function(){return n}});let n=e=>{}},98183,(e,t,r)=>{"use strict";function n(e){let t={};for(let[r,n]of e.entries()){let e=t[r];void 0===e?t[r]=n:Array.isArray(e)?e.push(n):t[r]=[e,n]}return t}function s(e){return"string"==typeof e?e:("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function a(e){let t=new URLSearchParams;for(let[r,n]of Object.entries(e))if(Array.isArray(n))for(let e of n)t.append(r,s(e));else t.set(r,s(n));return t}function i(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];for(let t of r){for(let r of t.keys())e.delete(r);for(let[r,n]of t.entries())e.append(r,n)}return e}Object.defineProperty(r,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{assign:function(){return i},searchParamsToUrlQuery:function(){return n},urlQueryToSearchParams:function(){return a}})},95057,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{formatUrl:function(){return a},formatWithValidation:function(){return o},urlObjectKeys:function(){return i}});let n=e.r(90809)._(e.r(98183)),s=/https?|ftp|gopher|file/;function a(e){let{auth:t,hostname:r}=e,a=e.protocol||"",i=e.pathname||"",o=e.hash||"",l=e.query||"",c=!1;t=t?encodeURIComponent(t).replace(/%3A/i,":")+"@":"",e.host?c=t+e.host:r&&(c=t+(~r.indexOf(":")?"["+r+"]":r),e.port&&(c+=":"+e.port)),l&&"object"==typeof l&&(l=String(n.urlQueryToSearchParams(l)));let d=e.search||l&&"?"+l||"";return a&&!a.endsWith(":")&&(a+=":"),e.slashes||(!a||s.test(a))&&!1!==c?(c="//"+(c||""),i&&"/"!==i[0]&&(i="/"+i)):c||(c=""),o&&"#"!==o[0]&&(o="#"+o),d&&"?"!==d[0]&&(d="?"+d),""+a+c+(i=i.replace(/[?#]/g,encodeURIComponent))+(d=d.replace("#","%23"))+o}let i=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function o(e){return a(e)}},18581,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"useMergedRef",{enumerable:!0,get:function(){return s}});let n=e.r(71645);function s(e,t){let r=(0,n.useRef)(null),s=(0,n.useRef)(null);return(0,n.useCallback)(n=>{if(null===n){let e=r.current;e&&(r.current=null,e());let t=s.current;t&&(s.current=null,t())}else e&&(r.current=a(e,n)),t&&(s.current=a(t,n))},[e,t])}function a(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},18967,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{DecodeError:function(){return p},MiddlewareNotFoundError:function(){return y},MissingStaticPage:function(){return v},NormalizeError:function(){return h},PageNotFoundError:function(){return g},SP:function(){return m},ST:function(){return x},WEB_VITALS:function(){return n},execOnce:function(){return s},getDisplayName:function(){return c},getLocationOrigin:function(){return o},getURL:function(){return l},isAbsoluteUrl:function(){return i},isResSent:function(){return d},loadGetInitialProps:function(){return f},normalizeRepeatedSlashes:function(){return u},stringifyError:function(){return b}});let n=["CLS","FCP","FID","INP","LCP","TTFB"];function s(e){let t,r=!1;return function(){for(var n=arguments.length,s=Array(n),a=0;a<n;a++)s[a]=arguments[a];return r||(r=!0,t=e(...s)),t}}let a=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,i=e=>a.test(e);function o(){let{protocol:e,hostname:t,port:r}=window.location;return e+"//"+t+(r?":"+r:"")}function l(){let{href:e}=window.location,t=o();return e.substring(t.length)}function c(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function d(e){return e.finished||e.headersSent}function u(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?"?"+t.slice(1).join("?"):"")}async function f(e,t){let r=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await f(t.Component,t.ctx)}:{};let n=await e.getInitialProps(t);if(r&&d(r))return n;if(!n)throw Object.defineProperty(Error('"'+c(e)+'.getInitialProps()" should resolve to an object. But found "'+n+'" instead.'),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return n}let m="undefined"!=typeof performance,x=m&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class p extends Error{}class h extends Error{}class g extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message="Cannot find module for page: "+e}}class v extends Error{constructor(e,t){super(),this.message="Failed to load static file for page: "+e+" "+t}}class y extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function b(e){return JSON.stringify({message:e.message,stack:e.stack})}},73668,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"isLocalURL",{enumerable:!0,get:function(){return a}});let n=e.r(18967),s=e.r(52817);function a(e){if(!(0,n.isAbsoluteUrl)(e))return!0;try{let t=(0,n.getLocationOrigin)(),r=new URL(e,t);return r.origin===t&&(0,s.hasBasePath)(r.pathname)}catch(e){return!1}}},84508,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"errorOnce",{enumerable:!0,get:function(){return n}});let n=e=>{}},22016,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{default:function(){return h},useLinkStatus:function(){return v}});let n=e.r(90809),s=e.r(43476),a=n._(e.r(71645)),i=e.r(95057),o=e.r(8372),l=e.r(18581),c=e.r(18967),d=e.r(5550);e.r(33525);let u=e.r(91949),f=e.r(73668),m=e.r(99781);e.r(84508);let x=e.r(65165);function p(e){return"string"==typeof e?e:(0,i.formatUrl)(e)}function h(e){var t;let r,n,i,[h,v]=(0,a.useOptimistic)(u.IDLE_LINK_STATUS),y=(0,a.useRef)(null),{href:b,as:j,children:N,prefetch:w=null,passHref:P,replace:C,shallow:E,scroll:k,onClick:S,onMouseEnter:T,onTouchStart:M,legacyBehavior:O=!1,onNavigate:L,ref:A,unstable_dynamicOnHover:_,...R}=e;r=N,O&&("string"==typeof r||"number"==typeof r)&&(r=(0,s.jsx)("a",{children:r}));let D=a.default.useContext(o.AppRouterContext),U=!1!==w,I=!1!==w?null===(t=w)||"auto"===t?x.FetchStrategy.PPR:x.FetchStrategy.Full:x.FetchStrategy.PPR,{href:F,as:z}=a.default.useMemo(()=>{let e=p(b);return{href:e,as:j?p(j):e}},[b,j]);O&&(n=a.default.Children.only(r));let B=O?n&&"object"==typeof n&&n.ref:A,V=a.default.useCallback(e=>(null!==D&&(y.current=(0,u.mountLinkInstance)(e,F,D,I,U,v)),()=>{y.current&&((0,u.unmountLinkForCurrentNavigation)(y.current),y.current=null),(0,u.unmountPrefetchableInstance)(e)}),[U,F,D,I,v]),H={ref:(0,l.useMergedRef)(V,B),onClick(e){O||"function"!=typeof S||S(e),O&&n.props&&"function"==typeof n.props.onClick&&n.props.onClick(e),D&&(e.defaultPrevented||function(e,t,r,n,s,i,o){let{nodeName:l}=e.currentTarget;if(!("A"===l.toUpperCase()&&function(e){let t=e.currentTarget.getAttribute("target");return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)||e.currentTarget.hasAttribute("download"))){if(!(0,f.isLocalURL)(t)){s&&(e.preventDefault(),location.replace(t));return}if(e.preventDefault(),o){let e=!1;if(o({preventDefault:()=>{e=!0}}),e)return}a.default.startTransition(()=>{(0,m.dispatchNavigateAction)(r||t,s?"replace":"push",null==i||i,n.current)})}}(e,F,z,y,C,k,L))},onMouseEnter(e){O||"function"!=typeof T||T(e),O&&n.props&&"function"==typeof n.props.onMouseEnter&&n.props.onMouseEnter(e),D&&U&&(0,u.onNavigationIntent)(e.currentTarget,!0===_)},onTouchStart:function(e){O||"function"!=typeof M||M(e),O&&n.props&&"function"==typeof n.props.onTouchStart&&n.props.onTouchStart(e),D&&U&&(0,u.onNavigationIntent)(e.currentTarget,!0===_)}};return(0,c.isAbsoluteUrl)(z)?H.href=z:O&&!P&&("a"!==n.type||"href"in n.props)||(H.href=(0,d.addBasePath)(z)),i=O?a.default.cloneElement(n,H):(0,s.jsx)("a",{...R,...H,children:r}),(0,s.jsx)(g.Provider,{value:h,children:i})}let g=(0,a.createContext)(u.IDLE_LINK_STATUS),v=()=>(0,a.useContext)(g);("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},12426,e=>{"use strict";e.s(["DollarSign",()=>t],12426);let t=(0,e.i(75254).default)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},17923,e=>{"use strict";e.s(["BarChart3",()=>t],17923);let t=(0,e.i(75254).default)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},55664,e=>{"use strict";e.s(["TradeAnalyticsModal",()=>y],55664);var t=e.i(43476),r=e.i(71645),n=e.i(76639),s=e.i(19455),a=e.i(25652),i=e.i(35408),o=e.i(3116),l=e.i(12426),c=e.i(20278),d=e.i(21218),u=e.i(17923);let f=(0,e.i(75254).default)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);var m=e.i(31278),x=e.i(63209),p=e.i(95468),h=e.i(73884),g=e.i(75157),v=e.i(22016);function y(e){var y,b,j;let{orderId:N,open:w,onOpenChange:P}=e,[C,E]=(0,r.useState)(null),[k,S]=(0,r.useState)(!1),[T,M]=(0,r.useState)(null);(0,r.useEffect)(()=>{w&&N&&O()},[w,N]);let O=async()=>{if(N)try{S(!0),M(null);let e=await fetch("/api/trades/".concat(N,"/analytics")),t=await e.json();if(!t.success)throw Error(t.error||"Failed to fetch analytics");E(t.data)}catch(e){console.error("Error fetching analytics:",e),M(e instanceof Error?e.message:"Failed to load analytics")}finally{S(!1)}};return(0,t.jsx)(n.Dialog,{open:w,onOpenChange:P,children:(0,t.jsxs)(n.DialogContent,{className:"max-w-3xl max-h-[85vh] overflow-y-auto",children:[(0,t.jsxs)(n.DialogHeader,{children:[(0,t.jsxs)(n.DialogTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(u.BarChart3,{className:"w-5 h-5 text-[var(--primary)]"}),"Trade Analytics"]}),(0,t.jsx)(n.DialogDescription,{children:"Comprehensive performance metrics and execution analysis"})]}),k&&(0,t.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,t.jsx)(m.Loader2,{className:"w-8 h-8 animate-spin text-[var(--primary)]"})}),T&&(0,t.jsxs)("div",{className:"flex items-center gap-3 p-4 rounded-lg bg-[var(--danger-bg)] border border-[var(--danger)]",children:[(0,t.jsx)(x.AlertCircle,{className:"w-5 h-5 text-[var(--danger)]"}),(0,t.jsx)("p",{className:"text-sm text-[var(--danger)]",children:T})]}),!k&&!T&&C&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"flex items-start justify-between pb-4 border-b border-[var(--border)]",children:(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("h3",{className:"text-2xl font-bold text-[var(--foreground)]",children:C.symbol}),"EXECUTED"===(y=C.status)?(0,t.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md bg-[var(--success-bg)] text-[var(--success)] text-xs font-medium",children:[(0,t.jsx)(p.CheckCircle2,{className:"w-3 h-3"}),"Executed"]}):"FAILED"===y||"REJECTED"===y?(0,t.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md bg-[var(--danger-bg)] text-[var(--danger)] text-xs font-medium",children:[(0,t.jsx)(h.XCircle,{className:"w-3 h-3"}),"Failed"]}):(0,t.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md bg-[var(--info-bg)] text-[var(--info)] text-xs font-medium",children:[(0,t.jsx)(o.Clock,{className:"w-3 h-3"}),y]}),(0,t.jsxs)("span",{className:(0,g.cn)("inline-flex items-center gap-1 px-2 py-1 rounded-md text-xs font-medium","BUY"===C.action?"bg-[var(--success-bg)] text-[var(--success)]":"bg-[var(--danger-bg)] text-[var(--danger)]"),children:["BUY"===C.action?(0,t.jsx)(a.TrendingUp,{className:"w-3 h-3"}):(0,t.jsx)(i.TrendingDown,{className:"w-3 h-3"}),C.action]})]}),(0,t.jsx)("p",{className:"text-sm text-[var(--foreground-muted)]",children:C.description})]})}),(void 0!==C.netPL||void 0!==C.unrealizedPL)&&(0,t.jsxs)("div",{className:"rounded-lg border border-[var(--border)] bg-[var(--surface)] p-6",children:[(0,t.jsx)("h4",{className:"text-sm font-semibold text-[var(--foreground-muted)] mb-4",children:"Profit & Loss"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-[var(--foreground-tertiary)] mb-1",children:void 0!==C.netPL?"Realized P&L":"Unrealized P&L"}),(0,t.jsx)("p",{className:(0,g.cn)("text-2xl font-bold",(C.netPL||C.unrealizedPL||0)>=0?"text-[var(--success)]":"text-[var(--danger)]"),children:(0,g.formatCurrency)(C.netPL||C.unrealizedPL||0)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-[var(--foreground-tertiary)] mb-1",children:"Return"}),(0,t.jsx)("p",{className:(0,g.cn)("text-2xl font-bold",(C.returnPercent||0)>=0?"text-[var(--success)]":"text-[var(--danger)]"),children:void 0!==C.returnPercent?(0,g.formatPercent)(C.returnPercent):"-"})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"rounded-lg border border-[var(--border)] bg-[var(--surface)] p-4",children:[(0,t.jsxs)("h4",{className:"text-sm font-semibold text-[var(--foreground-muted)] mb-3 flex items-center gap-2",children:[(0,t.jsx)(l.DollarSign,{className:"w-4 h-4"}),"Entry"]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-xs text-[var(--foreground-tertiary)]",children:"Price"}),(0,t.jsx)("span",{className:"text-sm font-medium text-[var(--foreground)]",children:(0,g.formatCurrency)(C.entryPrice)})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-xs text-[var(--foreground-tertiary)]",children:"Units"}),(0,t.jsx)("span",{className:"text-sm font-medium text-[var(--foreground)]",children:C.units.toLocaleString()})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-xs text-[var(--foreground-tertiary)]",children:"Total"}),(0,t.jsx)("span",{className:"text-sm font-medium text-[var(--foreground)]",children:(0,g.formatCurrency)(C.entryValue)})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-xs text-[var(--foreground-tertiary)]",children:"Date"}),(0,t.jsx)("span",{className:"text-sm font-medium text-[var(--foreground)]",children:new Date(C.entryDate).toLocaleDateString()})]})]})]}),(0,t.jsxs)("div",{className:"rounded-lg border border-[var(--border)] bg-[var(--surface)] p-4",children:[(0,t.jsxs)("h4",{className:"text-sm font-semibold text-[var(--foreground-muted)] mb-3 flex items-center gap-2",children:[(0,t.jsx)(c.Target,{className:"w-4 h-4"}),C.exitPrice?"Exit":"Current"]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-xs text-[var(--foreground-tertiary)]",children:"Price"}),(0,t.jsx)("span",{className:"text-sm font-medium text-[var(--foreground)]",children:(0,g.formatCurrency)(C.exitPrice||C.currentPrice||0)})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-xs text-[var(--foreground-tertiary)]",children:"Units"}),(0,t.jsx)("span",{className:"text-sm font-medium text-[var(--foreground)]",children:C.units.toLocaleString()})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-xs text-[var(--foreground-tertiary)]",children:"Total"}),(0,t.jsx)("span",{className:"text-sm font-medium text-[var(--foreground)]",children:(0,g.formatCurrency)(C.exitValue||C.currentValue||0)})]}),C.exitDate&&(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-xs text-[var(--foreground-tertiary)]",children:"Date"}),(0,t.jsx)("span",{className:"text-sm font-medium text-[var(--foreground)]",children:new Date(C.exitDate).toLocaleDateString()})]})]})]})]}),(0,t.jsxs)("div",{className:"rounded-lg border border-[var(--border)] bg-[var(--surface)] p-4",children:[(0,t.jsxs)("h4",{className:"text-sm font-semibold text-[var(--foreground-muted)] mb-3 flex items-center gap-2",children:[(0,t.jsx)(d.Activity,{className:"w-4 h-4"}),"Execution Quality"]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-[var(--foreground-tertiary)] mb-1",children:"Order Type"}),(0,t.jsx)("p",{className:"text-sm font-medium text-[var(--foreground)]",children:C.orderType})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-[var(--foreground-tertiary)] mb-1",children:"Fill Rate"}),(0,t.jsx)("p",{className:"text-sm font-medium text-[var(--foreground)]",children:(0,g.formatPercent)(C.fillRate)})]}),null!==C.slippage&&void 0!==C.slippage&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-[var(--foreground-tertiary)] mb-1",children:"Slippage"}),(0,t.jsx)("p",{className:(0,g.cn)("text-sm font-medium",.5>Math.abs(C.slippage)?"text-[var(--success)]":"text-[var(--warning)]"),children:(0,g.formatPercent)(C.slippage)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-[var(--foreground-tertiary)] mb-1",children:"Fees"}),(0,t.jsx)("p",{className:"text-sm font-medium text-[var(--foreground)]",children:(0,g.formatCurrency)(C.fees)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-[var(--foreground-tertiary)] mb-1",children:"Exec Time"}),(0,t.jsx)("p",{className:"text-sm font-medium text-[var(--foreground)]",children:(b=C.executionTime)?b<60?"".concat(Math.round(b),"s"):"".concat(Math.round(b/60),"m"):"-"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-[var(--foreground-tertiary)] mb-1",children:"Market Hours"}),(0,t.jsx)("p",{className:"text-sm font-medium text-[var(--foreground)]",children:C.marketHours?"Yes":"No"})]})]})]}),(0,t.jsxs)("div",{className:"rounded-lg border border-[var(--border)] bg-[var(--surface)] p-4",children:[(0,t.jsxs)("h4",{className:"text-sm font-semibold text-[var(--foreground-muted)] mb-3 flex items-center gap-2",children:[(0,t.jsx)(o.Clock,{className:"w-4 h-4"}),"Position Metrics"]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-[var(--foreground-tertiary)] mb-1",children:"Hold Duration"}),(0,t.jsx)("p",{className:"text-sm font-medium text-[var(--foreground)]",children:(j=C.holdDuration)?j<1?"".concat(Math.round(60*j),"m"):j<24?"".concat(Math.round(j),"h"):"".concat(Math.round(j/24),"d"):"-"})]}),null!==C.positionSizePercent&&void 0!==C.positionSizePercent&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-[var(--foreground-tertiary)] mb-1",children:"Position Size"}),(0,t.jsx)("p",{className:"text-sm font-medium text-[var(--foreground)]",children:(0,g.formatPercent)(C.positionSizePercent)})]}),C.portfolioValueAtEntry&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-[var(--foreground-tertiary)] mb-1",children:"Portfolio Value"}),(0,t.jsx)("p",{className:"text-sm font-medium text-[var(--foreground)]",children:(0,g.formatCurrency)(C.portfolioValueAtEntry)})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-[var(--border)]",children:[(0,t.jsx)(v.default,{href:"/trades/".concat(C.tradeId,"/analytics"),className:"flex-1",children:(0,t.jsxs)(s.Button,{variant:"outline",className:"w-full gap-2",children:[(0,t.jsx)(f,{className:"w-4 h-4"}),"Detailed Analytics"]})}),(0,t.jsx)(s.Button,{variant:"default",onClick:()=>P(!1),children:"Close"})]})]})]})})}},3116,73884,e=>{"use strict";e.s(["Clock",()=>r],3116);var t=e.i(75254);let r=(0,t.default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["XCircle",()=>n],73884);let n=(0,t.default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},20278,e=>{"use strict";e.s(["Target",()=>t],20278);let t=(0,e.i(75254).default)("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},95468,e=>{"use strict";e.s(["CheckCircle2",()=>t],95468);let t=(0,e.i(75254).default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},63209,e=>{"use strict";e.s(["AlertCircle",()=>t],63209);let t=(0,e.i(75254).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},81140,e=>{"use strict";function t(e,t){let{checkForDefaultPrevented:r=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(n){if(null==e||e(n),!1===r||!n.defaultPrevented)return null==t?void 0:t(n)}}e.s(["composeEventHandlers",()=>t]),"undefined"!=typeof window&&window.document&&window.document.createElement},30030,e=>{"use strict";e.s(["createContext",()=>n,"createContextScope",()=>s]);var t=e.i(71645),r=e.i(43476);function n(e,n){let s=t.createContext(n),a=e=>{let{children:n,...a}=e,i=t.useMemo(()=>a,Object.values(a));return(0,r.jsx)(s.Provider,{value:i,children:n})};return a.displayName=e+"Provider",[a,function(r){let a=t.useContext(s);if(a)return a;if(void 0!==n)return n;throw Error("`".concat(r,"` must be used within `").concat(e,"`"))}]}function s(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=[],a=()=>{let r=s.map(e=>t.createContext(e));return function(n){let s=(null==n?void 0:n[e])||r;return t.useMemo(()=>({["__scope".concat(e)]:{...n,[e]:s}}),[n,s])}};return a.scopeName=e,[function(n,a){let i=t.createContext(a),o=s.length;s=[...s,a];let l=n=>{var s;let{scope:a,children:l,...c}=n,d=(null==a||null==(s=a[e])?void 0:s[o])||i,u=t.useMemo(()=>c,Object.values(c));return(0,r.jsx)(d.Provider,{value:u,children:l})};return l.displayName=n+"Provider",[l,function(r,s){var l;let c=(null==s||null==(l=s[e])?void 0:l[o])||i,d=t.useContext(c);if(d)return d;if(void 0!==a)return a;throw Error("`".concat(r,"` must be used within `").concat(n,"`"))}]},function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];let s=r[0];if(1===r.length)return s;let a=()=>{let e=r.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(r){let n=e.reduce((e,t)=>{let{useScope:n,scopeName:s}=t,a=n(r)["__scope".concat(s)];return{...e,...a}},{});return t.useMemo(()=>({["__scope".concat(s.scopeName)]:n}),[n])}};return a.scopeName=s.scopeName,a}(a,...n)]}},34620,e=>{"use strict";e.s(["useLayoutEffect",()=>n]);var t,r=e.i(71645),n=(null==(t=globalThis)?void 0:t.document)?r.useLayoutEffect:()=>{}},10772,e=>{"use strict";e.s(["useId",()=>a]);var t=e.i(71645),r=e.i(34620),n=t[" useId ".trim().toString()]||(()=>void 0),s=0;function a(e){let[a,i]=t.useState(n());return(0,r.useLayoutEffect)(()=>{e||i(e=>null!=e?e:String(s++))},[e]),e||(a?"radix-".concat(a):"")}},69340,48425,96626,e=>{"use strict";e.s(["useControllableState",()=>s],69340);var t=e.i(71645),r=e.i(34620);t[" useEffectEvent ".trim().toString()],t[" useInsertionEffect ".trim().toString()];var n=t[" useInsertionEffect ".trim().toString()]||r.useLayoutEffect;function s(e){let{prop:r,defaultProp:s,onChange:a=()=>{},caller:i}=e,[o,l,c]=function(e){let{defaultProp:r,onChange:s}=e,[a,i]=t.useState(r),o=t.useRef(a),l=t.useRef(s);return n(()=>{l.current=s},[s]),t.useEffect(()=>{if(o.current!==a){var e;null==(e=l.current)||e.call(l,a),o.current=a}},[a,o]),[a,i,l]}({defaultProp:s,onChange:a}),d=void 0!==r,u=d?r:o;{let e=t.useRef(void 0!==r);t.useEffect(()=>{let t=e.current;if(t!==d){let e=d?"controlled":"uncontrolled";console.warn("".concat(i," is changing from ").concat(t?"controlled":"uncontrolled"," to ").concat(e,". Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component."))}e.current=d},[d,i])}return[u,t.useCallback(e=>{if(d){let n="function"==typeof e?e(r):e;if(n!==r){var t;null==(t=c.current)||t.call(c,n)}}else l(e)},[d,r,l,c])]}Symbol("RADIX:SYNC_STATE"),e.s(["Primitive",()=>l,"dispatchDiscreteCustomEvent",()=>c],48425);var a=e.i(74080),i=e.i(91918),o=e.i(43476),l=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,r)=>{let n=(0,i.createSlot)("Primitive.".concat(r)),s=t.forwardRef((e,t)=>{let{asChild:s,...a}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,o.jsx)(s?n:r,{...a,ref:t})});return s.displayName="Primitive.".concat(r),{...e,[r]:s}},{});function c(e,t){e&&a.flushSync(()=>e.dispatchEvent(t))}e.s(["Presence",()=>u],96626);var d=e.i(20783),u=e=>{let{present:n,children:s}=e,a=function(e){var n,s;let[a,i]=t.useState(),o=t.useRef(null),l=t.useRef(e),c=t.useRef("none"),[d,u]=(n=e?"mounted":"unmounted",s={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},t.useReducer((e,t)=>{let r=s[e][t];return null!=r?r:e},n));return t.useEffect(()=>{let e=f(o.current);c.current="mounted"===d?e:"none"},[d]),(0,r.useLayoutEffect)(()=>{let t=o.current,r=l.current;if(r!==e){let n=c.current,s=f(t);e?u("MOUNT"):"none"===s||(null==t?void 0:t.display)==="none"?u("UNMOUNT"):r&&n!==s?u("ANIMATION_OUT"):u("UNMOUNT"),l.current=e}},[e,u]),(0,r.useLayoutEffect)(()=>{if(a){var e;let t,r=null!=(e=a.ownerDocument.defaultView)?e:window,n=e=>{let n=f(o.current).includes(CSS.escape(e.animationName));if(e.target===a&&n&&(u("ANIMATION_END"),!l.current)){let e=a.style.animationFillMode;a.style.animationFillMode="forwards",t=r.setTimeout(()=>{"forwards"===a.style.animationFillMode&&(a.style.animationFillMode=e)})}},s=e=>{e.target===a&&(c.current=f(o.current))};return a.addEventListener("animationstart",s),a.addEventListener("animationcancel",n),a.addEventListener("animationend",n),()=>{r.clearTimeout(t),a.removeEventListener("animationstart",s),a.removeEventListener("animationcancel",n),a.removeEventListener("animationend",n)}}u("ANIMATION_END")},[a,u]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:t.useCallback(e=>{o.current=e?getComputedStyle(e):null,i(e)},[])}}(n),i="function"==typeof s?s({present:a.isPresent}):t.Children.only(s),o=(0,d.useComposedRefs)(a.ref,function(e){var t,r;let n=null==(t=Object.getOwnPropertyDescriptor(e.props,"ref"))?void 0:t.get,s=n&&"isReactWarning"in n&&n.isReactWarning;return s?e.ref:(s=(n=null==(r=Object.getOwnPropertyDescriptor(e,"ref"))?void 0:r.get)&&"isReactWarning"in n&&n.isReactWarning)?e.props.ref:e.props.ref||e.ref}(i));return"function"==typeof s||a.isPresent?t.cloneElement(i,{ref:o}):null};function f(e){return(null==e?void 0:e.animationName)||"none"}u.displayName="Presence"},32909,e=>{"use strict";e.s(["default",()=>x]);var t=e.i(43476),r=e.i(71645),n=e.i(18566),s=e.i(71689),a=e.i(37727),i=e.i(16715),o=e.i(25652),l=e.i(35408),c=e.i(3116),d=e.i(95468),u=e.i(73884),f=e.i(17923),m=e.i(55664);function x(){let e=(0,n.useRouter)(),[x,p]=(0,r.useState)([]),[h,g]=(0,r.useState)(!0),[v,y]=(0,r.useState)(null),[b,j]=(0,r.useState)(null),[N,w]=(0,r.useState)("all"),[P,C]=(0,r.useState)(null),[E,k]=(0,r.useState)(!1),S=async()=>{try{g(!0),y(null);let e=new URLSearchParams;"all"!==N&&e.append("state",N);let t=await fetch("/api/orders?".concat(e)),r=await t.json();if(!r.success)throw Error(r.error||"Failed to fetch orders");p(r.data)}catch(e){console.error("Error fetching orders:",e),y(e instanceof Error?e.message:"Failed to fetch orders")}finally{g(!1)}};(0,r.useEffect)(()=>{S()},[N]);let T=async e=>{if(confirm("Are you sure you want to cancel this order?"))try{j(e);let t=await fetch("/api/orders/cancel",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({orderId:e})}),r=await t.json();if(!r.success)throw Error(r.error||"Failed to cancel order");await S()}catch(e){console.error("Error cancelling order:",e),alert(e instanceof Error?e.message:"Failed to cancel order")}finally{j(null)}},M=e=>new Date(e).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}),O=e=>e?"$".concat(e.toFixed(2)):"-";return(0,t.jsxs)("div",{className:"min-h-screen bg-[var(--background)] p-6",children:[(0,t.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("button",{onClick:()=>e.push("/follower"),className:"inline-flex items-center gap-2 text-[var(--foreground-secondary)] hover:text-[var(--foreground)] transition-colors mb-4",children:[(0,t.jsx)(s.ArrowLeft,{className:"w-4 h-4"}),"Back to Dashboard"]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-[var(--foreground)] mb-2",children:"Your Orders"}),(0,t.jsx)("p",{className:"text-[var(--foreground-secondary)]",children:"View and manage your copy trading orders"})]}),(0,t.jsxs)("button",{onClick:S,disabled:h,className:"inline-flex items-center gap-2 px-4 py-2 bg-[var(--primary)] hover:bg-[var(--primary-hover)] text-white rounded-lg transition-colors disabled:opacity-50",children:[(0,t.jsx)(i.RefreshCw,{className:"w-4 h-4 ".concat(h?"animate-spin":"")}),"Refresh"]})]})]}),(0,t.jsx)("div",{className:"mb-6 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:(0,t.jsxs)("p",{className:"text-blue-700 dark:text-blue-400 text-sm",children:[(0,t.jsx)("strong",{children:"Note:"})," These orders are automatically created by the copy trading engine based on your followed leaders. You can cancel open orders, but you cannot replace them as a follower."]})}),(0,t.jsx)("div",{className:"flex gap-2 mb-6",children:["all","open","executed","cancelled"].map(e=>(0,t.jsx)("button",{onClick:()=>w(e),className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat(N===e?"bg-[var(--primary)] text-white":"bg-[var(--surface)] text-[var(--foreground-secondary)] hover:bg-[var(--surface-elevated)]"),children:e.charAt(0).toUpperCase()+e.slice(1)},e))}),v&&(0,t.jsx)("div",{className:"mb-6 p-4 bg-[var(--danger-bg)] border border-[var(--danger)] rounded-lg",children:(0,t.jsx)("p",{className:"text-[var(--danger)]",children:v})}),h&&(0,t.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[var(--primary)]"})}),!h&&0===x.length&&(0,t.jsx)("div",{className:"text-center py-12",children:(0,t.jsx)("p",{className:"text-[var(--foreground-secondary)] text-lg",children:"No orders found"})}),!h&&x.length>0&&(0,t.jsx)("div",{className:"space-y-4",children:x.map(e=>(0,t.jsxs)("div",{className:"bg-[var(--surface)] border border-[var(--border)] rounded-lg p-6 hover:shadow-md transition-shadow",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-[var(--foreground)]",children:e.symbol}),(e=>{let r=e.toLowerCase();return r.includes("executed")||r.includes("filled")?(0,t.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md bg-[var(--success-bg)] text-[var(--success)] text-xs font-medium",children:[(0,t.jsx)(d.CheckCircle2,{className:"w-3 h-3"}),"Executed"]}):r.includes("cancel")?(0,t.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md bg-[var(--danger-bg)] text-[var(--danger)] text-xs font-medium",children:[(0,t.jsx)(u.XCircle,{className:"w-3 h-3"}),"Cancelled"]}):r.includes("open")||r.includes("pending")?(0,t.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md bg-[var(--info-bg)] text-[var(--info)] text-xs font-medium",children:[(0,t.jsx)(c.Clock,{className:"w-3 h-3"}),"Open"]}):(0,t.jsx)("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md bg-[var(--surface-elevated)] text-[var(--foreground-secondary)] text-xs font-medium",children:e})})(e.status),(0,t.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md text-xs font-medium ".concat("buy"===e.action.toLowerCase()?"bg-[var(--success-bg)] text-[var(--success)]":"bg-[var(--danger-bg)] text-[var(--danger)]"),children:["buy"===e.action.toLowerCase()?(0,t.jsx)(o.TrendingUp,{className:"w-3 h-3"}):(0,t.jsx)(l.TrendingDown,{className:"w-3 h-3"}),e.action.toUpperCase()]})]}),(0,t.jsx)("p",{className:"text-[var(--foreground-secondary)] text-sm mb-1",children:e.description}),(0,t.jsxs)("p",{className:"text-[var(--foreground-tertiary)] text-xs",children:["Placed: ",M(e.timePlaced)]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)("button",{onClick:()=>{C(e.id),k(!0)},className:"inline-flex items-center gap-2 px-4 py-2 bg-[var(--primary)] hover:bg-[var(--primary-hover)] text-white rounded-lg transition-colors text-sm font-medium",children:[(0,t.jsx)(f.BarChart3,{className:"w-4 h-4"}),"Analytics"]}),(e=>{let t=e.toLowerCase();return t.includes("open")||t.includes("pending")})(e.status)&&(0,t.jsxs)("button",{onClick:()=>T(e.id),disabled:b===e.id,className:"inline-flex items-center gap-2 px-4 py-2 bg-[var(--danger)] hover:bg-[var(--danger)]/90 text-white rounded-lg transition-colors disabled:opacity-50 text-sm font-medium",children:[b===e.id?(0,t.jsx)(i.RefreshCw,{className:"w-4 h-4 animate-spin"}):(0,t.jsx)(a.X,{className:"w-4 h-4"}),"Cancel"]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 pt-4 border-t border-[var(--border)]",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[var(--foreground-tertiary)] text-xs mb-1",children:"Order Type"}),(0,t.jsx)("p",{className:"text-[var(--foreground)] font-medium",children:e.orderType})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[var(--foreground-tertiary)] text-xs mb-1",children:"Quantity"}),(0,t.jsxs)("p",{className:"text-[var(--foreground)] font-medium",children:[e.filledUnits,"/",e.units]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[var(--foreground-tertiary)] text-xs mb-1",children:"Limit Price"}),(0,t.jsx)("p",{className:"text-[var(--foreground)] font-medium",children:O(e.limitPrice)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[var(--foreground-tertiary)] text-xs mb-1",children:"Executed Price"}),(0,t.jsx)("p",{className:"text-[var(--foreground)] font-medium",children:O(e.executedPrice)})]})]}),(e.stopPrice||e.timeExecuted)&&(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4",children:[e.stopPrice&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[var(--foreground-tertiary)] text-xs mb-1",children:"Stop Price"}),(0,t.jsx)("p",{className:"text-[var(--foreground)] font-medium",children:O(e.stopPrice)})]}),e.timeExecuted&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[var(--foreground-tertiary)] text-xs mb-1",children:"Executed At"}),(0,t.jsx)("p",{className:"text-[var(--foreground)] font-medium text-sm",children:M(e.timeExecuted)})]})]})]},e.id))})]}),(0,t.jsx)(m.TradeAnalyticsModal,{orderId:P,open:E,onOpenChange:k})]})}}]);