(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,56997,e=>{"use strict";e.s(["default",()=>E],56997);var s=e.i(43476),a=e.i(71645),r=e.i(22016),t=e.i(19455),l=e.i(46574),i=e.i(23562),o=e.i(93479),n=e.i(12505),c=e.i(87486),d=e.i(7233),m=e.i(37727),x=e.i(25652),u=e.i(35408),h=e.i(55436),v=e.i(70273),p=e.i(31278);function f(e){let{onSymbolClick:r,className:l}=e,[i,f]=(0,a.useState)([]),[b,g]=(0,a.useState)(!0),[j,y]=(0,a.useState)(!1),[N,w]=(0,a.useState)(""),[S,C]=(0,a.useState)([]),[k,T]=(0,a.useState)(!1),P=async()=>{try{let e=await fetch("/api/watchlist"),s=await e.json();if(s.success&&(f(s.data),s.data.length>0)){let e=s.data.map(e=>e.symbol).join(",");L(e)}}catch(e){console.error("Failed to fetch watchlist:",e)}finally{g(!1)}},L=async e=>{try{let s=await fetch("/api/quotes?symbols=".concat(encodeURIComponent(e))),a=await s.json();a.success&&f(e=>e.map(e=>{let s=a.data[e.symbol];return s?{...e,price:s.price,change:s.change,changePercent:s.changePercent}:e}))}catch(e){console.error("Failed to fetch quotes:",e)}},A=async e=>{if(w(e),!e.trim())return void C([]);T(!0);try{let s=await fetch("/api/search-symbols?query=".concat(encodeURIComponent(e))),a=await s.json();a.success&&C(a.data)}catch(e){console.error("Failed to search symbols:",e)}finally{T(!1)}},B=async(e,s)=>{try{let a=await fetch("/api/watchlist",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({symbol:e,exchange:s})}),r=await a.json();r.success?(P(),w(""),C([]),y(!1)):alert(r.error||"Failed to add symbol")}catch(e){console.error("Failed to add symbol:",e),alert("Failed to add symbol")}},F=async e=>{try{let s=await fetch("/api/watchlist/".concat(encodeURIComponent(e)),{method:"DELETE"}),a=await s.json();a.success?f(s=>s.filter(s=>s.symbol!==e)):alert(a.error||"Failed to remove symbol")}catch(e){console.error("Failed to remove symbol:",e),alert("Failed to remove symbol")}};return(0,a.useEffect)(()=>{P()},[]),(0,a.useEffect)(()=>{if(0===i.length)return;let e=setInterval(()=>{L(i.map(e=>e.symbol).join(","))},3e4);return()=>clearInterval(e)},[i]),(0,s.jsxs)("div",{className:"rounded-2xl border border-[var(--border)] bg-[var(--surface)] p-6 ".concat(l),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(v.Star,{className:"w-5 h-5 text-[var(--primary)]"}),(0,s.jsx)("h3",{className:"text-xl font-bold text-[var(--foreground)]",children:"Watchlist"})]}),(0,s.jsxs)(t.Button,{variant:"outline",size:"sm",onClick:()=>y(!j),className:"gap-2",children:[j?(0,s.jsx)(m.X,{className:"w-4 h-4"}):(0,s.jsx)(d.Plus,{className:"w-4 h-4"}),j?"Cancel":"Add"]})]}),j&&(0,s.jsxs)("div",{className:"mb-6 space-y-3",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(h.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-[var(--foreground-subtle)]"}),(0,s.jsx)(o.Input,{placeholder:"Search symbols (e.g., AAPL, Tesla)",value:N,onChange:e=>A(e.target.value),className:"pl-10"}),k&&(0,s.jsx)(p.Loader2,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 animate-spin text-[var(--primary)]"})]}),S.length>0&&(0,s.jsx)("div",{className:"max-h-48 overflow-y-auto rounded-xl border border-[var(--border)] bg-[var(--surface-elevated)]",children:S.map(e=>(0,s.jsx)("button",{onClick:()=>B(e.symbol,e.exchange),className:"w-full px-4 py-3 text-left hover:bg-[var(--surface-hover)] transition-colors border-b border-[var(--border)] last:border-0",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-semibold text-[var(--foreground)]",children:e.symbol}),(0,s.jsx)("div",{className:"text-xs text-[var(--foreground-muted)]",children:e.description})]}),(0,s.jsx)(c.Badge,{variant:"outline",className:"text-xs",children:e.exchange})]})},e.fullSymbol))})]}),b?(0,s.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,s.jsx)(p.Loader2,{className:"w-6 h-6 animate-spin text-[var(--primary)]"})}):0===i.length?(0,s.jsx)(n.EmptyState,{icon:v.Star,title:"No symbols in watchlist",description:"Add symbols to track their real-time prices and quickly access charts.",action:{label:"Add Symbol",onClick:()=>y(!0)}}):(0,s.jsx)("div",{className:"space-y-2",children:i.map(e=>{let a=e.symbol.split(":")[1]||e.symbol,t=(e.changePercent||0)>=0;return(0,s.jsx)("button",{onClick:()=>null==r?void 0:r(e.symbol),className:"w-full p-4 rounded-xl border border-[var(--border)] bg-[var(--surface-elevated)] hover:bg-[var(--surface-hover)] hover:border-[var(--primary)] transition-all group",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("div",{className:"flex items-center gap-3",children:(0,s.jsxs)("div",{className:"text-left",children:[(0,s.jsx)("div",{className:"font-bold text-[var(--foreground)] text-lg",children:a}),e.price&&(0,s.jsxs)("div",{className:"text-sm font-semibold text-[var(--foreground-muted)]",children:["$",e.price.toFixed(2)]})]})}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[void 0!==e.changePercent&&(0,s.jsxs)("div",{className:"flex items-center gap-1 ".concat(t?"text-[var(--success)]":"text-[var(--danger)]"),children:[t?(0,s.jsx)(x.TrendingUp,{className:"w-4 h-4"}):(0,s.jsx)(u.TrendingDown,{className:"w-4 h-4"}),(0,s.jsxs)("span",{className:"text-sm font-semibold",children:[t?"+":"",e.changePercent.toFixed(2),"%"]})]}),(0,s.jsx)("button",{onClick:s=>{s.stopPropagation(),F(e.symbol)},className:"opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-[var(--danger-bg)] rounded-lg",children:(0,s.jsx)(m.X,{className:"w-4 h-4 text-[var(--danger)]"})})]})]})},e.id)})})]})}var b=e.i(63209),g=e.i(95468),j=e.i(75157);function y(e){let{initialSymbol:r,onClose:l,onSuccess:i,onSymbolChange:n}=e,[d,x]=(0,a.useState)("input"),[u,v]=(0,a.useState)("stock"),[f,y]=(0,a.useState)("BUY"),[N,w]=(0,a.useState)("Market"),[S,C]=(0,a.useState)("Day"),[k,T]=(0,a.useState)("CALL"),[P,L]=(0,a.useState)("BUY_TO_OPEN"),[A,B]=(0,a.useState)(""),[F,_]=(0,a.useState)(""),[O,E]=(0,a.useState)([]),[U,I]=(0,a.useState)(!1),[D,R]=(0,a.useState)(r||""),[z,Y]=(0,a.useState)(null),[M,q]=(0,a.useState)([]),[G,H]=(0,a.useState)(!1),[V,Q]=(0,a.useState)(""),[J,W]=(0,a.useState)(""),[X,K]=(0,a.useState)(""),[$,Z]=(0,a.useState)(""),[ee,es]=(0,a.useState)(""),[ea,er]=(0,a.useState)(null),[et,el]=(0,a.useState)(null),[ei,eo]=(0,a.useState)(!1),[en,ec]=(0,a.useState)(null),[ed,em]=(0,a.useState)(null),ex=async e=>{if(R(e),!e.trim())return void q([]);H(!0);try{let s=await fetch("/api/symbols/search?query=".concat(encodeURIComponent(e))),a=await s.json();a.success&&q(a.data)}catch(e){console.error("Symbol search failed:",e)}finally{H(!1)}},eu=async e=>{I(!0);try{let s=await fetch("/api/options/chain?ticker=".concat(encodeURIComponent(e))),a=await s.json();if(a.success&&(E(a.data),a.data.length>0)){let e=a.data[0];_(e.expiration_date),B(e.strike_price.toString())}}catch(e){console.error("Failed to fetch options chain:",e)}finally{I(!1)}},eh=async()=>{if(!z||!V)return void ec("Please select a symbol and enter quantity");if("option"===u&&(!A||!F))return void ec("Please select strike price and expiration date");eo(!0),ec(null);try{let e="stock"===u?{asset_type:"stock",action:f,universal_symbol_id:z.id,order_type:N,time_in_force:S,units:parseFloat(V),price:J?parseFloat(J):void 0,stop:X?parseFloat(X):void 0}:{asset_type:"option",option_action:P,ticker:z.symbol,option_type:k,strike_price:parseFloat(A),expiration_date:F,order_type:N,time_in_force:S,quantity:parseFloat(V),price:J?parseFloat(J):void 0},s=await fetch("/api/trades/impact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),a=await s.json();if(!a.success)throw Error(a.error||"Failed to check order impact");er(a.data.tradeImpacts[0]),el(a.data.tradeId),x("review")}catch(e){ec(e instanceof Error?e.message:"Failed to check order impact")}finally{eo(!1)}},ev=async()=>{if(!et)return void ec("Trade ID missing. Please start over.");x("executing"),ec(null);try{let e=await fetch("/api/trades/execute",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tradeId:et,stopLoss:$?parseFloat($):void 0,takeProfit:ee?parseFloat(ee):void 0})}),s=await e.json();if(!s.success)throw Error(s.error||"Failed to execute trade");em(s.data),x("success"),setTimeout(()=>{null==i||i()},2e3)}catch(e){ec(e instanceof Error?e.message:"Failed to execute trade"),x("error")}};return(0,s.jsxs)("div",{className:"fixed inset-0 z-50 pointer-events-none",children:[(0,s.jsx)("div",{className:"absolute inset-y-0 right-0 w-full lg:w-1/2 bg-black/30 backdrop-blur-sm pointer-events-auto",onClick:l}),(0,s.jsxs)("div",{className:"absolute inset-y-0 right-0 w-full lg:w-1/2 xl:w-2/5 bg-[var(--surface)] shadow-2xl border-l border-[var(--border)] overflow-y-auto pointer-events-auto animate-slide-in-right",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-[var(--border)] sticky top-0 bg-[var(--surface)] z-10",children:[(0,s.jsxs)("h2",{className:"text-2xl font-bold text-[var(--foreground)]",children:["input"===d&&"Place Trade","review"===d&&"Review Order","executing"===d&&"Executing Trade","success"===d&&"Trade Executed","error"===d&&"Trade Failed"]}),(0,s.jsx)("button",{onClick:l,className:"p-2 hover:bg-[var(--surface-hover)] rounded-lg transition-colors",children:(0,s.jsx)(m.X,{className:"w-5 h-5"})})]}),(0,s.jsxs)("div",{className:"p-6",children:["input"===d&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-[var(--foreground-muted)] mb-2",children:"Asset Type"}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)("button",{onClick:()=>{v("stock"),E([])},className:"flex-1 px-6 py-3 rounded-xl font-semibold transition-all ".concat("stock"===u?"bg-[var(--primary)] text-white shadow-lg":"bg-[var(--surface-elevated)] text-[var(--foreground-muted)] hover:bg-[var(--surface-hover)]"),children:"Stock"}),(0,s.jsx)("button",{onClick:()=>{v("option"),z&&eu(z.symbol)},className:"flex-1 px-6 py-3 rounded-xl font-semibold transition-all ".concat("option"===u?"bg-[var(--primary)] text-white shadow-lg":"bg-[var(--surface-elevated)] text-[var(--foreground-muted)] hover:bg-[var(--surface-hover)]"),children:"Option"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-[var(--foreground-muted)] mb-2",children:"stock"===u?"Action":"Option Action"}),"stock"===u?(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)("button",{onClick:()=>y("BUY"),className:"flex-1 px-6 py-3 rounded-xl font-semibold transition-all ".concat("BUY"===f?"bg-[var(--success)] text-white shadow-lg":"bg-[var(--surface-elevated)] text-[var(--foreground-muted)] hover:bg-[var(--surface-hover)]"),children:"BUY"}),(0,s.jsx)("button",{onClick:()=>y("SELL"),className:"flex-1 px-6 py-3 rounded-xl font-semibold transition-all ".concat("SELL"===f?"bg-[var(--danger)] text-white shadow-lg":"bg-[var(--surface-elevated)] text-[var(--foreground-muted)] hover:bg-[var(--surface-hover)]"),children:"SELL"})]}):(0,s.jsxs)("select",{value:P,onChange:e=>L(e.target.value),className:"w-full h-12 px-4 rounded-xl border border-[var(--border)] bg-[var(--surface)] text-[var(--foreground)] focus:outline-none focus:ring-2 focus:ring-[var(--primary)]",children:[(0,s.jsx)("option",{value:"BUY_TO_OPEN",children:"Buy to Open (Long)"}),(0,s.jsx)("option",{value:"SELL_TO_OPEN",children:"Sell to Open (Short)"}),(0,s.jsx)("option",{value:"BUY_TO_CLOSE",children:"Buy to Close"}),(0,s.jsx)("option",{value:"SELL_TO_CLOSE",children:"Sell to Close"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-[var(--foreground-muted)] mb-2",children:"Symbol"}),z?(0,s.jsxs)("div",{className:"flex items-center gap-3 p-4 rounded-xl bg-[var(--surface-elevated)] border border-[var(--border)]",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("div",{className:"font-bold text-[var(--foreground)]",children:z.symbol}),(0,s.jsx)("div",{className:"text-sm text-[var(--foreground-muted)]",children:z.description})]}),(0,s.jsx)(t.Button,{variant:"ghost",size:"sm",onClick:()=>Y(null),children:"Change"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(h.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-[var(--foreground-subtle)]"}),(0,s.jsx)(o.Input,{placeholder:"Search symbols (e.g., AAPL, TSLA)",value:D,onChange:e=>ex(e.target.value),className:"pl-10"}),G&&(0,s.jsx)(p.Loader2,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 animate-spin text-[var(--primary)]"})]}),M.length>0&&(0,s.jsx)("div",{className:"mt-2 max-h-48 overflow-y-auto rounded-xl border border-[var(--border)] bg-[var(--surface-elevated)]",children:M.map(e=>(0,s.jsx)("button",{onClick:()=>{Y(e),q([]),n&&e&&n(e.symbol),"option"===u&&e&&eu(e.symbol)},className:"w-full px-4 py-3 text-left hover:bg-[var(--surface-hover)] transition-colors border-b border-[var(--border)] last:border-0",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-semibold text-[var(--foreground)]",children:e.symbol}),(0,s.jsx)("div",{className:"text-xs text-[var(--foreground-muted)]",children:e.description})]}),(0,s.jsx)(c.Badge,{variant:"outline",children:e.type})]})},e.id))})]})]}),"option"===u&&z&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-[var(--foreground-muted)] mb-2",children:"Option Type"}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)("button",{onClick:()=>T("CALL"),className:"flex-1 px-6 py-3 rounded-xl font-semibold transition-all ".concat("CALL"===k?"bg-[var(--success)] text-white shadow-lg":"bg-[var(--surface-elevated)] text-[var(--foreground-muted)] hover:bg-[var(--surface-hover)]"),children:"CALL"}),(0,s.jsx)("button",{onClick:()=>T("PUT"),className:"flex-1 px-6 py-3 rounded-xl font-semibold transition-all ".concat("PUT"===k?"bg-[var(--danger)] text-white shadow-lg":"bg-[var(--surface-elevated)] text-[var(--foreground-muted)] hover:bg-[var(--surface-hover)]"),children:"PUT"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-[var(--foreground-muted)] mb-2",children:"Strike Price"}),U?(0,s.jsxs)("div",{className:"flex items-center justify-center p-4",children:[(0,s.jsx)(p.Loader2,{className:"w-5 h-5 animate-spin text-[var(--primary)]"}),(0,s.jsx)("span",{className:"ml-2 text-sm text-[var(--foreground-muted)]",children:"Loading options..."})]}):O.length>0?(0,s.jsxs)("select",{value:A,onChange:e=>B(e.target.value),className:"w-full h-12 px-4 rounded-xl border border-[var(--border)] bg-[var(--surface)] text-[var(--foreground)] focus:outline-none focus:ring-2 focus:ring-[var(--primary)]",children:[(0,s.jsx)("option",{value:"",children:"Select strike price"}),Array.from(new Set(O.map(e=>e.strike_price))).sort((e,s)=>e-s).map(e=>(0,s.jsxs)("option",{value:e,children:["$",e.toFixed(2)]},e))]}):(0,s.jsx)(o.Input,{type:"number",placeholder:"Enter strike price",value:A,onChange:e=>B(e.target.value),min:"0",step:"0.50"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-[var(--foreground-muted)] mb-2",children:"Expiration Date"}),U?(0,s.jsx)("div",{className:"flex items-center justify-center p-4",children:(0,s.jsx)(p.Loader2,{className:"w-5 h-5 animate-spin text-[var(--primary)]"})}):O.length>0?(0,s.jsxs)("select",{value:F,onChange:e=>_(e.target.value),className:"w-full h-12 px-4 rounded-xl border border-[var(--border)] bg-[var(--surface)] text-[var(--foreground)] focus:outline-none focus:ring-2 focus:ring-[var(--primary)]",children:[(0,s.jsx)("option",{value:"",children:"Select expiration date"}),Array.from(new Set(O.map(e=>e.expiration_date))).sort().map(e=>(0,s.jsx)("option",{value:e,children:new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})},e))]}):(0,s.jsx)(o.Input,{type:"date",value:F,onChange:e=>_(e.target.value),min:new Date().toISOString().split("T")[0]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-[var(--foreground-muted)] mb-2",children:"Order Type"}),(0,s.jsxs)("select",{value:N,onChange:e=>w(e.target.value),className:"w-full h-12 px-4 rounded-xl border border-[var(--border)] bg-[var(--surface)] text-[var(--foreground)] focus:outline-none focus:ring-2 focus:ring-[var(--primary)]",children:[(0,s.jsx)("option",{value:"Market",children:"Market"}),(0,s.jsx)("option",{value:"Limit",children:"Limit"}),(0,s.jsx)("option",{value:"Stop",children:"Stop"}),(0,s.jsx)("option",{value:"StopLimit",children:"Stop Limit"})]})]}),(0,s.jsx)(o.Input,{label:"Quantity",type:"number",placeholder:"Enter number of shares",value:V,onChange:e=>Q(e.target.value),min:"0",step:"0.01"}),("Limit"===N||"StopLimit"===N)&&(0,s.jsx)(o.Input,{label:"Limit Price",type:"number",placeholder:"Enter limit price",value:J,onChange:e=>W(e.target.value),min:"0",step:"0.01"}),("Stop"===N||"StopLimit"===N)&&(0,s.jsx)(o.Input,{label:"Stop Price",type:"number",placeholder:"Enter stop price",value:X,onChange:e=>K(e.target.value),min:"0",step:"0.01"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-[var(--foreground-muted)] mb-2",children:"Time in Force"}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)("button",{onClick:()=>C("Day"),className:"flex-1 px-4 py-2 rounded-lg text-sm font-semibold transition-all ".concat("Day"===S?"bg-[var(--primary)] text-white":"bg-[var(--surface-elevated)] text-[var(--foreground-muted)]"),children:"Day"}),(0,s.jsx)("button",{onClick:()=>C("GTC"),className:"flex-1 px-4 py-2 rounded-lg text-sm font-semibold transition-all ".concat("GTC"===S?"bg-[var(--primary)] text-white":"bg-[var(--surface-elevated)] text-[var(--foreground-muted)]"),children:"Good Till Canceled"})]})]}),(0,s.jsxs)("details",{className:"rounded-xl border border-[var(--border)] bg-[var(--surface-elevated)] p-4",children:[(0,s.jsx)("summary",{className:"cursor-pointer font-semibold text-[var(--foreground)] select-none",children:"Risk Management (Optional)"}),(0,s.jsxs)("div",{className:"mt-4 space-y-4",children:[(0,s.jsx)(o.Input,{label:"Stop Loss Price",type:"number",placeholder:"Automatic sell if price drops to...",value:$,onChange:e=>Z(e.target.value),min:"0",step:"0.01"}),(0,s.jsx)(o.Input,{label:"Take Profit Price",type:"number",placeholder:"Automatic sell if price reaches...",value:ee,onChange:e=>es(e.target.value),min:"0",step:"0.01"})]})]}),en&&(0,s.jsxs)("div",{className:"p-4 rounded-xl bg-[var(--danger-bg)] border border-[var(--danger)] flex items-start gap-3",children:[(0,s.jsx)(b.AlertCircle,{className:"w-5 h-5 text-[var(--danger)] flex-shrink-0 mt-0.5"}),(0,s.jsx)("div",{className:"text-sm text-[var(--danger)]",children:en})]}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)(t.Button,{variant:"outline",onClick:l,className:"flex-1",children:"Cancel"}),(0,s.jsx)(t.Button,{variant:"primary",onClick:eh,disabled:!z||!V||ei,loading:ei,className:"flex-1",children:"Review Order"})]})]}),"review"===d&&ea&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"p-6 rounded-2xl border border-[var(--border)] bg-[var(--surface-elevated)]",children:[(0,s.jsx)("h3",{className:"text-lg font-bold text-[var(--foreground)] mb-4",children:"Order Summary"}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-[var(--foreground-muted)]",children:"Action"}),(0,s.jsx)(c.Badge,{variant:"BUY"===f?"success":"danger",children:f})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-[var(--foreground-muted)]",children:"Symbol"}),(0,s.jsx)("span",{className:"font-semibold",children:null==z?void 0:z.symbol})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-[var(--foreground-muted)]",children:"Quantity"}),(0,s.jsxs)("span",{className:"font-semibold",children:[V," shares"]})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-[var(--foreground-muted)]",children:"Order Type"}),(0,s.jsx)("span",{className:"font-semibold",children:N})]}),J&&(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-[var(--foreground-muted)]",children:"Limit Price"}),(0,s.jsx)("span",{className:"font-semibold",children:(0,j.formatCurrency)(parseFloat(J))})]})]})]}),(0,s.jsxs)("div",{className:"p-6 rounded-2xl border border-[var(--border)] bg-[var(--surface-elevated)]",children:[(0,s.jsx)("h3",{className:"text-lg font-bold text-[var(--foreground)] mb-4",children:"Impact Analysis"}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-[var(--foreground-muted)]",children:"Estimated Cost"}),(0,s.jsx)("span",{className:"font-semibold",children:(0,j.formatCurrency)(Math.abs(ea.remaining_cash-(ea.estimated_commissions||0)))})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-[var(--foreground-muted)]",children:"Est. Commissions"}),(0,s.jsx)("span",{className:"font-semibold",children:(0,j.formatCurrency)(ea.estimated_commissions||0)})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-[var(--foreground-muted)]",children:"Remaining Cash"}),(0,s.jsx)("span",{className:"font-semibold ".concat(ea.remaining_cash<0?"text-[var(--danger)]":""),children:(0,j.formatCurrency)(ea.remaining_cash)})]})]}),ea.remaining_cash<0&&(0,s.jsx)("div",{className:"mt-4 p-3 rounded-lg bg-[var(--danger-bg)] border border-[var(--danger)]",children:(0,s.jsxs)("div",{className:"flex items-start gap-2",children:[(0,s.jsx)(b.AlertCircle,{className:"w-4 h-4 text-[var(--danger)] flex-shrink-0 mt-0.5"}),(0,s.jsx)("div",{className:"text-sm text-[var(--danger)]",children:"Insufficient funds to execute this trade"})]})})]}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)(t.Button,{variant:"outline",onClick:()=>x("input"),className:"flex-1",children:"Back"}),(0,s.jsx)(t.Button,{variant:"primary",onClick:ev,disabled:ea.remaining_cash<0,className:"flex-1",children:"Confirm & Execute"})]})]}),"executing"===d&&(0,s.jsxs)("div",{className:"py-12 text-center",children:[(0,s.jsx)(p.Loader2,{className:"w-16 h-16 animate-spin text-[var(--primary)] mx-auto mb-4"}),(0,s.jsx)("h3",{className:"text-xl font-bold text-[var(--foreground)] mb-2",children:"Executing Trade..."}),(0,s.jsx)("p",{className:"text-[var(--foreground-muted)]",children:"Please wait while we process your order"})]}),"success"===d&&ed&&(0,s.jsxs)("div",{className:"py-12 text-center",children:[(0,s.jsx)("div",{className:"w-16 h-16 rounded-full bg-[var(--success-bg)] flex items-center justify-center mx-auto mb-4",children:(0,s.jsx)(g.CheckCircle2,{className:"w-10 h-10 text-[var(--success)]"})}),(0,s.jsx)("h3",{className:"text-2xl font-bold text-[var(--foreground)] mb-2",children:"Trade Executed Successfully!"}),(0,s.jsx)("p",{className:"text-[var(--foreground-muted)] mb-6",children:"Your order has been placed with your broker"}),(0,s.jsx)("div",{className:"p-6 rounded-2xl border border-[var(--border)] bg-[var(--surface-elevated)] text-left max-w-md mx-auto",children:(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-[var(--foreground-muted)]",children:"Order ID"}),(0,s.jsx)("span",{className:"font-mono text-xs",children:ed.orderId})]}),(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-[var(--foreground-muted)]",children:"Status"}),(0,s.jsx)(c.Badge,{variant:"success",children:ed.status})]}),(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-[var(--foreground-muted)]",children:"Filled"}),(0,s.jsxs)("span",{className:"font-semibold",children:[ed.filledUnits," shares"]})]}),ed.executedPrice&&(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-[var(--foreground-muted)]",children:"Price"}),(0,s.jsx)("span",{className:"font-semibold",children:(0,j.formatCurrency)(ed.executedPrice)})]})]})}),(0,s.jsx)(t.Button,{variant:"primary",onClick:l,className:"mt-6",children:"Done"})]}),"error"===d&&(0,s.jsxs)("div",{className:"py-12 text-center",children:[(0,s.jsx)("div",{className:"w-16 h-16 rounded-full bg-[var(--danger-bg)] flex items-center justify-center mx-auto mb-4",children:(0,s.jsx)(b.AlertCircle,{className:"w-10 h-10 text-[var(--danger)]"})}),(0,s.jsx)("h3",{className:"text-2xl font-bold text-[var(--foreground)] mb-2",children:"Trade Failed"}),(0,s.jsx)("p",{className:"text-[var(--danger)] mb-6",children:en}),(0,s.jsxs)("div",{className:"flex gap-3 justify-center",children:[(0,s.jsx)(t.Button,{variant:"outline",onClick:l,children:"Close"}),(0,s.jsx)(t.Button,{variant:"primary",onClick:()=>{x("input"),v("stock"),y("BUY"),w("Market"),Y(null),Q(""),W(""),K(""),Z(""),es(""),T("CALL"),L("BUY_TO_OPEN"),B(""),_(""),E([]),er(null),el(null),ec(null)},children:"Try Again"})]})]})]})]})]})}var N=e.i(33164),w=e.i(24058),S=e.i(12426),C=e.i(21218),k=e.i(61911),T=e.i(39616),P=e.i(45423),L=e.i(17923),A=e.i(75254);let B=(0,A.default)("maximize-2",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]]),F=(0,A.default)("minimize-2",[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]]);var _=e.i(85072);let O={totalValue:247832.45,totalGain:45234.89,totalGainPercent:22.35,activeFollowers:1247,totalTrades:342};function E(){let[e,o]=(0,a.useState)("NASDAQ:AAPL"),[n,c]=(0,a.useState)(!1),[d,m]=(0,a.useState)("positions"),[u,h]=(0,a.useState)(!1),p=()=>{c(!0),h(!0)};return(0,s.jsxs)("div",{className:"min-h-screen bg-[var(--background)]",children:[(0,s.jsx)("div",{className:"border-b border-[var(--border)] bg-[var(--surface)] sticky top-0 z-40",children:(0,s.jsx)("div",{className:"container mx-auto px-6 py-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(r.default,{href:"/",className:"flex items-center gap-2",children:(0,s.jsx)(_.TradeOSLogoCompact,{})}),(0,s.jsxs)("div",{className:"hidden md:flex items-center gap-6",children:[(0,s.jsx)(r.default,{href:"/leader",className:"text-sm font-semibold text-[var(--primary)]",children:"Trading"}),(0,s.jsx)(r.default,{href:"/leader/performance",className:"text-sm text-[var(--foreground-muted)] hover:text-[var(--foreground)] transition-colors",children:"Performance"}),(0,s.jsx)(r.default,{href:"/leader/followers",className:"text-sm text-[var(--foreground-muted)] hover:text-[var(--foreground)] transition-colors",children:"Followers"}),(0,s.jsx)(r.default,{href:"/leader/earnings",className:"text-sm text-[var(--foreground-muted)] hover:text-[var(--foreground)] transition-colors",children:"Earnings"}),(0,s.jsxs)(r.default,{href:"/watchlist",className:"text-sm text-[var(--foreground-muted)] hover:text-[var(--foreground)] transition-colors flex items-center gap-1",children:[(0,s.jsx)(v.Star,{className:"w-4 h-4"}),"Watchlist"]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(t.Button,{variant:"ghost",size:"icon",children:(0,s.jsx)(P.Bell,{className:"w-5 h-5"})}),(0,s.jsx)(r.default,{href:"/leader/settings",children:(0,s.jsx)(t.Button,{variant:"ghost",size:"icon",children:(0,s.jsx)(T.Settings,{className:"w-5 h-5"})})})]})]})})}),(0,s.jsxs)("div",{className:"container mx-auto px-6 py-12",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold mb-2",children:(0,s.jsx)("span",{className:"gradient-text",children:"Leader Dashboard"})}),(0,s.jsx)("p",{className:"text-[var(--foreground-muted)]",children:"Trade and manage your portfolio. Your trades are automatically copied by your followers."})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,s.jsx)(l.StatCard,{label:"Portfolio Value",value:(0,j.formatCurrency)(O.totalValue),icon:S.DollarSign,trend:"up",change:{value:O.totalGainPercent,period:"all time"}}),(0,s.jsx)(l.StatCard,{label:"Total Gain",value:(0,j.formatCurrency)(O.totalGain),icon:x.TrendingUp,trend:"up"}),(0,s.jsx)(l.StatCard,{label:"Total Trades",value:O.totalTrades,icon:C.Activity}),(0,s.jsx)(l.StatCard,{label:"Active Followers",value:O.activeFollowers,icon:k.Users})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,s.jsx)("div",{className:u?"lg:col-span-3":"lg:col-span-2",children:u?(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"rounded-2xl border border-[var(--border)] bg-[var(--surface)] overflow-hidden",children:[(0,s.jsxs)("div",{className:"p-4 border-b border-[var(--border)] flex items-center justify-between",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-[var(--foreground)]",children:"Chart"}),(0,s.jsx)(t.Button,{variant:"ghost",size:"icon",onClick:()=>h(!1),className:"gap-2",children:(0,s.jsx)(F,{className:"w-4 h-4"})})]}),(0,s.jsx)(i.PriceChart,{symbol:e,onTrade:p})]}),(0,s.jsxs)("div",{className:"rounded-2xl border border-[var(--border)] bg-[var(--surface)] overflow-hidden",children:[(0,s.jsxs)("div",{className:"p-4 border-b border-[var(--border)]",children:[(0,s.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,s.jsx)("h3",{className:"text-lg font-semibold text-[var(--foreground)]",children:"positions"===d?"Open Positions":"Trade History"})}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,s.jsxs)(t.Button,{variant:"positions"===d?"primary":"outline",onClick:()=>m("positions"),size:"sm",className:"gap-2",children:[(0,s.jsx)(L.BarChart3,{className:"w-4 h-4"}),"Positions"]}),(0,s.jsxs)(t.Button,{variant:"history"===d?"primary":"outline",onClick:()=>m("history"),size:"sm",className:"gap-2",children:[(0,s.jsx)(C.Activity,{className:"w-4 h-4"}),"History"]})]})]}),(0,s.jsx)("div",{className:"p-4 max-h-[600px] overflow-y-auto",children:"positions"===d?(0,s.jsx)(N.PositionsTable,{}):(0,s.jsx)(w.TradeHistory,{})})]})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.PriceChart,{symbol:e,onTrade:p}),(0,s.jsxs)("div",{className:"mt-6 grid grid-cols-3 gap-4",children:[(0,s.jsxs)(t.Button,{variant:"positions"===d?"primary":"outline",onClick:()=>m("positions"),className:"gap-2",children:[(0,s.jsx)(L.BarChart3,{className:"w-5 h-5"}),"View Positions"]}),(0,s.jsxs)(t.Button,{variant:"history"===d?"primary":"outline",onClick:()=>m("history"),className:"gap-2",children:[(0,s.jsx)(C.Activity,{className:"w-5 h-5"}),"Trade History"]}),(0,s.jsxs)(t.Button,{variant:"outline",onClick:()=>h(!0),className:"gap-2",children:[(0,s.jsx)(B,{className:"w-5 h-5"}),"Split Screen"]})]})]})}),!u&&(0,s.jsx)("div",{children:(0,s.jsx)(f,{onSymbolClick:e=>{o(e)}})})]}),!u&&(0,s.jsxs)("div",{className:"mt-8",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-[var(--foreground)] mb-6",children:"positions"===d?"Open Positions":"Trade History"}),"positions"===d?(0,s.jsx)(N.PositionsTable,{}):(0,s.jsx)(w.TradeHistory,{})]}),(0,s.jsxs)("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,s.jsxs)("div",{className:"rounded-2xl border border-[var(--border)] bg-[var(--surface)] p-6",children:[(0,s.jsx)("h3",{className:"text-sm font-semibold text-[var(--foreground-muted)] mb-2",children:"Win Rate"}),(0,s.jsx)("div",{className:"text-3xl font-bold text-[var(--success)]",children:"68.2%"}),(0,s.jsx)("p",{className:"text-xs text-[var(--foreground-tertiary)] mt-1",children:"234 winning trades out of 343 total"})]}),(0,s.jsxs)("div",{className:"rounded-2xl border border-[var(--border)] bg-[var(--surface)] p-6",children:[(0,s.jsx)("h3",{className:"text-sm font-semibold text-[var(--foreground-muted)] mb-2",children:"Avg Trade Duration"}),(0,s.jsx)("div",{className:"text-3xl font-bold text-[var(--foreground)]",children:"4.2 days"}),(0,s.jsx)("p",{className:"text-xs text-[var(--foreground-tertiary)] mt-1",children:"Swing trading strategy"})]}),(0,s.jsxs)("div",{className:"rounded-2xl border border-[var(--border)] bg-[var(--surface)] p-6",children:[(0,s.jsx)("h3",{className:"text-sm font-semibold text-[var(--foreground-muted)] mb-2",children:"Sharpe Ratio"}),(0,s.jsx)("div",{className:"text-3xl font-bold text-[var(--foreground)]",children:"2.14"}),(0,s.jsx)("p",{className:"text-xs text-[var(--foreground-tertiary)] mt-1",children:"Above industry average"})]})]})]}),n&&(0,s.jsx)(y,{initialSymbol:e,onClose:()=>{c(!1)},onSuccess:()=>{console.log("Trade executed successfully")},onSymbolChange:e=>{o(e.includes(":")?e:"NASDAQ:".concat(e))}})]})}}]);